N1 ;detal 7548-3573222 korpus mexanizma upravlen.
N2 ;OPER 40  (det_A-- YSTANOV I --prilada 7273-6029)
N3 ;STANOK nbh-6 INV_12505
N4 ;KOPTYAEV S.G  6.03.2013 
N5 ;KOREKTIR PETROVICH A.V 06.11.2013
N6 ;TC=85+18=103  _MIN (NA 1_sht,(DETAL_A (B0, B270, BB90))
N7 DEF REAL POM_Y,FUS=3000,ZBEZ,ZPRIPUSK,XBEZ,YBEZ,ZAG,RO,Y_B180,X_B180,Z_B180,Y_B0,X_B0,Z_B0,Y_B90,X_B90,Z_B90,Y_B270,X_B270,Z_B270,DPR,KP,TF,TS,Y_BB90,X_BB90,Z_BB90,Y_BB270,X_BB270,Z_BB270
N8 ;DEFINE SMENA_ZYX AS G75 FP=1 Z1=0 Y1=0 X1=0 SPOS=0  
N9 DEFINE SMENA_Z AS g0 g53 z930 d0 M9 m5 
N10 $AC_TIMER[1]=0  ;cikl starta time/m
N11 ;___detal_A _storona !!!B0_!!!!____7548
N12 R10=47.1+130.7+59/2+19.2-1     ;228 os_y 
N13 R11=-124+2.5+3                 ;-112+2.5  ;os_x
N14 R12=270.8+2.5+3.5              ;277  ;os_z
N15 ;______________________________________________________
N16 GOTOF _proverka
N17 START_1:
N18 ; ********rabota*********G54* 
N19 ST1: WORK_STEP(1)     ;SDELAI BOL'SHE PROHODOV!!!
N20 SMENA_Z
N21 G0 G54 G17 G40 G90 G94          ;g54!!!!
N22 T="3.1" M6
N23 MSG("T=3.1(1/3) FREZA chern.D=125,WORK_STEP(1) ")
N24 R1=125/2  ;rad.frezi
N25 ;************************************************ T="2.1"
N26 G0 g54 B0
N27 TRANS X=X_B0 Z=Z_B0 Y=Y_B0           ;!!!!7548 DET_A !!!
N28 REGIME(150,125,8,0.11); REGIME(180,125,8,0.17)
N29 G0 G54 X330 Y2 m3 D1;X-75
N30 DPR=6 KP=4   ;6/2  ;BILO DPR=6
N31 Z=DPR+zpripusk 
N32 MM1:G1Z=IC(-DPR/KP) F=fus
N33 G1 X-75 F=R93 M8;X250 
N34 G0 z=IC(10)
N35 X330;X-75
N36 Z=IC(-10)
N37 REPEAT MM1 P=KP-1
N38 SMENA_Z
N39 g0 g54 B90
N40 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90       ;!!!!7548 DET_A !!!
N41 g54 X-113 Y0 d1 m3 m8
N42 DPR=7 KP=4   ;6/2
N43 Z=DPR+zpripusk 
N44 MM2:G1Z=IC(-DPR/KP) F=fus
N45 G1 X50 F=R93  
N46 G0 z=IC(10)
N47 X-113
N48 Z=IC(-10)
N49 REPEAT MM2 P=KP-1
N50 SMENA_Z
N51 g0 g54 B270
N52 TRANS X=X_B270 Z=Z_B270 Y=Y_B270     ;!!!!7548 DET_A !!!
N53 g54 X113 Y0 d1 M3 
N54 DPR=7 KP=4  ;6/2
N55 Z=DPR+zpripusk M3 D1
N56 MM7:G1Z=IC(-DPR/KP) F=fus
N57 G1 X-50 F=R93 M8 
N58 G0 z=IC(10)
N59 X113
N60 Z=IC(-10)
N61 REPEAT MM7 P=KP-1
N62 G0 Z10
N63 X-15 Y180
N64 DPR=8 KP=4  ;6/2
N65 Z=-12+DPR+zpripusk M3 D1
N66 MM8:G1Z=IC(-DPR/KP) F=fus   ;z-11.5
N67 G1 y114.5 F=R93 M8 
N68 G0 z=IC(10)
N69 y180
N70 Z=IC(-10)
N71 REPEAT MM8 P=KP-1
N72 Z10 m9
N73 SMENA_Z
N74 ST2: WORK_STEP(2)
N75 T="6.2" M6
N76 MSG("T=6.2(2/6)CEKOVKA D=65,WORK_STEP(2) ")
N77 ;************************************************ T="3.2"
N78 G0 g54 B270
N79 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 ;!!!! DET_A !!! 
N80 REGIME(70,65,4,0.12)
N81 G0 G54 X0 Y0 m3 D1
N82 Z3 m8
N83 CYCLE85(200,0,3,,18.7,1,R93,R93*4)
N84 SMENA_Z
N85 G0 g54 B90;******************
N86 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 ;!!!! DET_A !!!
N87 g0 g54 X0 Y0 d1 m3
N88 Z3 m8
N89 CYCLE85(200,0,3,,66.7,1,R93,R93*4)
N90 SMENA_Z
N91 ST3: WORK_STEP(3)
N92 T="5.1" M6
N93 MSG("T=5.1(1/5)CEKOVKA D=55,WORK_STEP(3) ")
N94 ;************************************************ T="1.2"
N95 G0 g54 B90
N96 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N97 REGIME(60,55,4,0.12)
N98 G0 G54 X0 Y0 m3 D1
N99 Z3 m8
N100 G1 Z-64 F=fus
N101 CYCLE85(200,-67,3,,56,,R93,R93*4)
N102 SMENA_Z 
N103 G0 g54 B270;*************************
N104 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N105 g0 g54 X0 Y0 d1 m3
N106 Z3 m8
N107 CYCLE85(400,0,3,,122,,R93,R93*4)
N108 SMENA_Z
N109 ST4: WORK_STEP(4)
N110 T="24.2" M6
N111 MSG("T=24.2(2/24)ENZHEKTOR D=30 (DORABOTKA L=90_MM.,WORK_STEP(4) ")
N112 ;************************************************ T="16.1"
N113 G0 g54 B270 M42
N114 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N115 REGIME(120,30,1,0.1)
N116 G0 G54 X-15 Y80 m3 D1
N117 Z-9 m7
N118 CYCLE81(300,-12,3,,85)
N119 SMENA_Z
N120 ST5: WORK_STEP(5)
N121 T="1.2" M6
N122 MSG("T=1.2(2/1) FREZA chist.D=125,WORK_STEP(5) ")
N123 R2=125/2  ;rad.frezi
N124 ;************************************************ T="15.1"
N125 G0 g54 B90
N126 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N127 REGIME(220,125,8,0.08)
N128 G0 G54 X-113 Y0 m3 D1
N129 Z0 M8
N130 G1 X115 F=r93
N131 G0 Z50 m9
N132 SMENA_Z
N133 G0 g54 B270;*******************
N134 TRANS X=X_B270 Z=Z_B270 Y=Y_B270  
N135 G54 X113 Y0 d1 m3
N136 Z0 M8
N137 G1 X-115 F=r93
N138 G0 Z10
N139 X-15 Y180
N140 Z-12
N141 G1 Y114.5 F=r93
N142 G0 Z10 m9
N143 SMENA_Z
N144 M0 ;MERIT 2 TORCA!!!!!!!!!!!!!!!!!
N145 ST6: WORK_STEP(6)
N146 T="9.1" M6
N147 MSG("T=9.1(1/9)rezec D=69.5,WORK_STEP(6) ")
N148 ;************************************************ T="1.1"
N149 G0 g54 B270
N150 TRANS X=X_B270 Z=Z_B270 Y=Y_B270   
N151 REGIME(180,69.5,1,0.25)  ;s400 f60 dedushka
N152 G0 G54 X0 Y0 m3 D1
N153 Z3 m8
N154 CYCLE82(400,0,3,,19,1)
N155 SMENA_Z
N156 G0 g54 B90;*******************
N157 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90  
N158 G54 X0 Y0 M3 D1
N159 Z3 M8
N160 CYCLE82(200,0,3,,61,1)
N161 SMENA_Z
N162 ST7: WORK_STEP(7)
N163 T="9.2" M6
N164 MSG("T=9.2(2/9)rezec D=59.5,WORK_STEP(7) ")
N165 ;************************************************ T="2.2"
N166 G0 g54 B90
N167 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90  
N168 ;N165 REGIME(180,59.5,2,0.09)  ;s450 f70 dedushka
N169 REGIME(50,59.5,2,0.19)
N170 G0 G54 X0 Y0 m3 D1
N171 Z3 m8
N172 G1 Z-64 F=fus
N173 F=R93
N174 CYCLE81(200,-67,3,,56)
N175 G0 Z400
N176 G0 g54 B270;*********************
N177 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N178 G0 G54 X0 Y0 D1
N179 Z3
N180 CYCLE81(400,0,3,,122)
N181 SMENA_Z
N182 ST8: WORK_STEP(8)
N183 T="10.1" M6
N184 MSG("T=10.1(1/10)rezec D=67.4,WORK_STEP(8) ")
N185 ;************************************************ T="3.1"
N186 G0 g54 B90;*********************
N187 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N188 REGIME(180,67.4,1,0.15)  ;s400 f60 dedushka
N189 G0 G54 X0 Y0 m3 D1
N190 Z3 m8
N191 G1 Z-58 F=fus
N192 F=R93
N193 CYCLE82(400,-61,3,,6,1)  
N194 SMENA_Z
N195 ST9: WORK_STEP(9)
N196 T="12.1" M6
N197 MSG("T=12.1(1/12)MIKROBOR D=70+0.12,WORK_STEP(9) ")
N198 ;************************************************ T="27.2"
N199 G0 g54 B90 M42
N200 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N201 REGIME(200,70,1,0.05)  ;s570 f57 dedushka
N202 G0 G54 X0 Y0 m3 D1
N203 Z3 m8
N204 CYCLE81(3,0,3,,7)
N205 SMENA_Z
N206 SPOS=90
N207 M0;******* MERITI RAZMER D=70+0.05***********
N208 g54 X0 Y0 d1 m3
N209 Z3 m8
N210 CYCLE86(200,0,3,,60.5,,3,0.5,,,0)
N211 SMENA_Z
N212 M0;******* MERITI RAZMER D=70+0.05***********
N213 G0 g54 B270;*****************
N214 TRANS X=X_B270 Z=Z_B270 Y=Y_B270  
N215 G0 G54 X0 Y0 D1
N216 Z3  m8 M3
N217 CYCLE86(200,0,3,,18.9,,3,0.5,,,0)
N218 SMENA_Z
N219 ST10: WORK_STEP(10)
N220 T="10.2" M6
N221 MSG("T=10.2(2/10)MIKROBOR D=68+0.074,WORK_STEP(10) ")
N222 ;************************************************ T="28.1"
N223 G0 g54 B90;******************
N224 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N225 REGIME(200,68,1,0.06)  ;s580 f30 dedushka
N226 G0 G54 X0 Y0 M3 D1
N227 Z3 M8
N228 G1 Z-58 F=FUS
N229 F=R93
N230 CYCLE86(200,-61,3,,5.9,,3,0.5,,,0)
N231 SMENA_Z
N232 M0;******* MERITI RAZMER D=68+0.74 PROBKI******
N233 ST11: WORK_STEP(11)
N234 T="12.2" M6
N235 MSG("T=12.2(2/12)MIKROBOR D=59.93+0.046,WORK_STEP(11) ")
N236 ;************************************************ T="29.2"
N237 G0 g54 B270;****************
N238 TRANS X=X_B270 Z=Z_B270 Y=Y_B270   
N239 REGIME(200,60,1,0.06)  ;s650 f32 dedushka
N240 G0 G54 X0 Y0 m3 D1
N241  z3 m8
N242 G1 Z-16 F=FUS
N243 F=R93
N244 CYCLE81(200,-19,3,,7)
N245 SMENA_Z
N246 SPOS=90
N247 M0;*******MERITI RAZMER D=59.93+0.046*******
N248 G0 g54 B270
N249 g54 X0 Y0 d1 m3
N250  z3 m8
N251 G1 Z-16 F=FUS
N252 F=R93
N253 CYCLE86(200,-19,3,,159,,3,0.5,,,0)
N254 SMENA_Z
N255 SPOS=90
N256 M0;*******MERITI RAZMER D=59.93+0.046*******
N257 ST12: WORK_STEP(12)
N258 T="20.1" M6
N259 MSG("T=20.1(1/20)FREZA D=25.3*2 d1/d2,WORK_STEP(12) ")
N260 ;************************************************ T="18.2"
N261 G0 g54 B90;*****************************
N262 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N263 REGIME(25,25.3,8,0.025)  ;s300 f60 dedushka d=23 freza 
N264 G0 g54 X0 Y0 d1 m3
N265 Z3 m8
N266 G1 Z-58 F=fus
N267 F=R93
N268 POCKET2(200,-61,3,,0.01,36.2,,,R93*1.6,R93,,3,,2)
N269 D2
N270 G0 Z3
N271 G1 Z-54.45 F=fus
N272 F=R93
N273 POCKET2(200,-57.45,3,,0.01,36.2,,,R93*1.6,R93,,3,,2)
N274 SMENA_Z
N275 M0;** MERITI RAZMER D=72+0.74 H=3.4+0.3***********
N276 ST13: WORK_STEP(13)
N277 T="23.2" M6
N278 MSG("T=23.2(2/23)ZENKER D=31.5+0.22,WORK_STEP(13) ")
N279 ;************************************************ T="20.2"
N280 G0 g54 B270;*************
N281 TRANS X=X_B270 Z=Z_B270 Y=Y_B270   
N282 REGIME(15,31.5,8,0.04)  ;s150 f45 u dedushki 
N283 G0 G54 X-15 Y80 m3 D1
N284 Z-7 m8
N285 CYCLE85(200,-12,5,,83,,R93,R93*10)
N286 SMENA_Z
N287 ;M0;** MERITI RAZMER D=31.43+0.22 PROBKA, RAZMER L=86 MIN*********
N288 ST14: WORK_STEP(14)
N289 T="13.2" M6
N290 MSG("T=13.2(2/13)REZEC D=33/45  ,WORK_STEP(14) ")
N291 ;************************************************ T="22.1"
N292 G0 g54 B270
N293 TRANS X=X_B270 Z=Z_B270 Y=Y_B270  
N294 REGIME(100,33,1,0.13)  ;s810 f120 u dedushki 
N295 G0 G54 X-15 Y80 m3 D1
N296 Z-7 m8
N297 ;NCG#CYC82#BOHREN.COM#NC1#2#*NCG;*RO*;*HD*
N298 ;#3#3#1##1###"M3"##1##2##1#*NCG;*RO*;*HD*
N299 CYCLE82(200,-12,3,,5,1)
N300 ;#END#*NCG;*RO*;*HD*
N301 SMENA_Z
N302 ST15: WORK_STEP(15)
N303 T="19.1" M6
N304 MSG("T=19.1(1/19)rezec-faska<30_gr.D=35+0.62,WORK_STEP(15)")
N305 ;************************************************ T="9.2"
N306 G0 g54 B270;*************
N307 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N308 REGIME(150,35,1,0.15) 
N309 M42
N310 G0 g54 X-15 Y80 m3 d1
N311 Z-5 m8
N312 CYCLE82(200,-12,7,,0.01,2)
N313 SMENA_Z
N314 ST16: WORK_STEP(16)
N315 T="16.1" M6
N316 MSG("T=16.1(1/16) MIKROBOR D=33.5+0.16 ,WORK_STEP(16) ")
N317 ;************************************************ T="4.1"
N318 G0 g54 B270;*************
N319 TRANS X=X_B270 Z=Z_B270 Y=Y_B270     
N320 REGIME(130,33.5,1,0.07)  ;s1200 f80 u dedushki 
N321 G0 G54 X-15 Y80 m3 D1
N322 Z-9 m8
N323 ;NCG#CYC86#BOHREN.COM#NC1#2#*NCG;*RO*;*HD*
N324 ;#3#3#1####3###1#1##1##2##1#*NCG;*RO*;*HD*
N325 CYCLE86(200,-12,3,,5,,3,0.5,,,0)
N326 ;#END#*NCG;*RO*;*HD*
N327 SMENA_Z
N328 MSG("PROVER D=31.43+0.22-P_R8133-6256,D=33.5+0.16_PR_8133-7211")
N329 M0
N330 ST17: WORK_STEP(17)
N331 T="29.2" M6
N332 MSG("T=29.2(2/29) ZENKOVKA D=3/60 ,WORK_STEP(17) ")
N333 ;************************************************ T="17.1"
N334 G0 g54 B90;*************************
N335 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N336 REGIME(25,3,2,0.025)  ;s1250 f80 u dedushki 
N337 G0 G54 X0 Y0  m3 D1 ;  !!!!!BILO D2!!!!!!!!!!!
N338 Z0 m8
N339 G1 Z-58 F=fus
N340 F=R93
N341 POCKET2(200,-61.1,3,,0.01,34.037,,,R93*2,R93,,2,,2)
N342 POCKET2(200,-67,3,,0.01,30+0.18,,,R93*2,R93,,2,,2)
N343 SMENA_Z
N344 ST18: WORK_STEP(18)
N345 T="15.1" M6
N346 MSG("T=15.1(1/15)ZENKOVKA D=22/60 ,WORK_STEP(18) ")
N347 ;************************************************ T="17.2"
N348 G0 g54 B90
N349 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90  
N350 REGIME(110,22,4,0.02)  ;s1250 f100 u dedushk
N351 G0 G54 X0 Y0 m3 D2
N352 Z3 m8
N353 POCKET2(50,0,3,,0.01,35+1.154,,,R93*2,R93,,2,,2)
N354 G0 Z50
N355 SMENA_Z
N356 G0 g54 B270;**********************
N357 TRANS X=X_B270 Z=Z_B270 Y=Y_B270  
N358 REGIME(110,22,4,0.02)
N359 ;G0 G54 X-15 Y80 D1
N360 ;Z-10 m3 m8                   ; X ; Y
N361 ;POCKET2(50,-12,2,,0.01,17.655,-15,80,R93*2,R93,,2,,2);CHIST.
N362 G0 g54 X0 Y0 d2
N363 Z8 m3 m8
N364 POCKET2(50,0,3,,0.01,35+1.154,,,R93*2,R93,,2,,2)
N365 POCKET2(50,-19,3,,0.01,30+0.18,,,R93*2,R93,,2,,2)
N366 SMENA_Z
N367 ST19: WORK_STEP(19)
N368 T="7.1" M6
N369 MSG("T=7.1(1/7)RASKATKA D=33.5*,WORK_STEP(19) ")
N370 ;************************************************ T="5.2"
N371 G0 g54 B270
N372 M0;***OCHISTIT OTVERSTIE D=33.5,D=70 OT STRUGKI***
N373 TRANS X=X_B270 Z=Z_B270 Y=Y_B270
N374 REGIME(22,33.5,6,0.035)  ;s200 f40 u dedushki 
N375 G0 G54 X-15 Y80 m3 d1
N376 Z-7 m8
N377 CYCLE82(200,-12,5,,5,1)
N378 SMENA_Z
N379 ;M0;** MERITI RAZMER D=33.5+0.16 PROBKA***********
N380 ST20: WORK_STEP(20)
N381 T="29.1" M6
N382 MSG("T=29.1(1/29)RASKATKA D=70*,WORK_STEP(20) ")
N383 ;************************************************ T="25.2"
N384 G0 g54 B90
N385 M0;***OCHISTIT OTV. D=70  OT STRUGKI***
N386 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90  
N387 REGIME(22,70,8,0.075)  ;s100 f60 u dedushki 
N388 G0 G54 X0 Y0 m3 d1
N389 Z20 m8
N390 CYCLE85(200,0,3,,60,,200,500)
N391 SMENA_Z
N392 G0 g54 B270;**************
N393 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N394 G0 g54 X0 Y0 m3 d1
N395 Z20 m8
N396 CYCLE85(200,0,3,,18,,200,500)
N397 SMENA_Z
N398 ST21: WORK_STEP(21)
N399 T="11.2" M6
N400 MSG("T=11.2(2/11)METCHIK D=33*1.5  ,WORK_STEP(21) ")
N401 ;************************************************ T="11.1"
N402 G0 g54 B270
N403 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N404 REGIME(5,33,1,1.5)  ;s50 f75 u dedushki 
N405 G0 G54 X-15 Y80 m3 d1
N406 Z20 m8
N407 CYCLE840 (200,-12,5,,30,,0,3,1)
N408 SMENA_Z
N409 M0 ;PROVER REZBU PR_8221-0120_6H PR_8221-1120_6H
N410 ST22: WORK_STEP(22)
N411 T="17.1" M6
N412 MSG("T=17.1(1/17)SVERLO D=22/90 ,WORK_STEP(22) ")
N413 ;************************************************ T="30.1"
N414 G0 g54 B90
N415 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90  
N416 REGIME(28,22,2,0.08)  ;s400 f60 u dedushki 
N417 G0 G54 X0 Y0 m3 d1
N418 Z20 m8
N419 MCALL CYCLE82(3,0,3,,5.3,1)
N420 HOLES2(0,0,45,45,90,2)
N421 HOLES2(0,0,45,231,78,2)
N422 MCALL
N423 G0 Z400
N424 G0 g54 B270;***************
N425 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N426 G0 g54 X0 Y0 d1
N427 Z3
N428 MCALL CYCLE82(3,0,3,,5.3,1)
N429 HOLES2(0,0,45,135,90,3)
N430 MCALL
N431 SMENA_Z
N432 gbTOCheckAtTC = TRUE       
N433 gbErrMsgOnToCheck = TRUE   
N434 ST23: WORK_STEP(23)
N435 T="14.1" M6
N436 MSG("T=14.1(1/14)SVERLO D=8 ,WORK_STEP(23) ")
N437 ;************************************************ T="10.2"
N438 G0 g54 B270
N439 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N440 REGIME(21,8,2,0.072)  ;s830 f120 u dedushki
N441 WAIT_TO_CHECK   ;PROVERKA KONTROLAY POLOMKI PRED.T_INSTR 
N442 G0 g54 X0 Y0 m3 d1
N443 Z6 m8
N444 MCALL CYCLE82(6,0,6,,29.5,1)
N445 HOLES2(0,0,45,135,90,3)
N446 MCALL
N447 SMENA_Z
N448 G0 g54 B90;***************
N449 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N450 G0 g54 X0 Y0 d1
N451 Z6 m3 m8
N452 MCALL CYCLE82(6,0,6,,29.5,1)
N453 HOLES2(0,0,45,45,90,2)
N454 HOLES2(0,0,45,231,78,2)
N455 MCALL
N456 SMENA_Z
N457 gbTOCheckAtTC = TRUE       
N458 gbErrMsgOnToCheck = TRUE 
N459 ST24: WORK_STEP(24)
N460 T="8.1" M6
N461 MSG("T=8.1(1/8)ZENKER D=8.5 ,WORK_STEP(24) ")
N462 ;************************************************ T="19.1"
N463 G0 g54 B90
N464 TRANS X=X_BB90 Z=Z_BB90 Y=Y_BB90 
N465 REGIME(21,8.5,3,0.055)  ;s600 f120 u dedushki 
N466 WAIT_TO_CHECK   ;PROVERKA KONTROLAY POLOMKI PRED.T_INSTR
N467 G0 G54 X0 Y0 m3 d1
N468 Z6 m8
N469 MCALL CYCLE85(6,0,6,,29,,120,500)
N470 HOLES2(0,0,45,45,90,2)
N471 HOLES2(0,0,45,231,78,2)
N472 MCALL
N473 SMENA_Z
N474 G0 g54 B270;***************
N475 TRANS X=X_B270 Z=Z_B270 Y=Y_B270 
N476 G0 g54 X0 Y0 m3 d1
N477 Z6 m8
N478 MCALL CYCLE85(6,0,6,,29,,120,500)
N479 HOLES2(0,0,45,135,90,3)
N480 MCALL
N481 SMENA_Z
N482 ;M0;** MERITI RAZMER D=8+0.43 PROBKA***********
N483 ;-------------rabota B0 --------------------------------
N484 gbTOCheckAtTC = TRUE       
N485 gbErrMsgOnToCheck = TRUE   
N486 ST25: WORK_STEP(25)
N487 T="24.2" M6
N488 MSG("T=24.2(2/24)INZHEKTOR D=30 (DORABOTKA L=90_MM.),WORK_STEP(25) ")
N489 ;************************************************ T="16.1"
N490 G0 g54 B0
N491 TRANS X=X_B0 Z=Z_B0 Y=Y_B0       
N492 REGIME(120,30,1,0.05)  ;s1200 f120 u dedushki 
N493 WAIT_TO_CHECK   ;PROVERKA KONTROLAY POLOMKI PRED.T_INSTR
N494 G0 G54 X=72-39 Y=53-30 m3 d1
N495 Z5 m7
N496 MCALL CYCLE82(100,0,5,,43,1)
N497 X=72-39 Y=53-30   ;1
N498 X72 Y-30          ;2
N499 MCALL
N500 SMENA_Z
N501 ST26: WORK_STEP(26)
N502 T="24.1" M6
N503 MSG("T=24.1(1/24)INZ-R D=36(DOR-KA L=100_MM.),WORK_STEP(26)")
N504 ;************************************************ T="21.1"
N505 G0 g54 B0
N506 TRANS X=X_B0 Z=Z_B0 Y=Y_B0        ;detal_A _____B0_!! 
N507 REGIME(140,36,1,0.05)  ;s1200 f120 u dedushki 
N508 G0 G54 X=72+84 Y=48-30 m3 d1
N509 Z5 m7
N510 CYCLE82(5,0,5,,43,1)
N511 G0 Z300 M9
N512 SMENA_Z
N513 ST27: WORK_STEP(27)
N514 T="21.1" M6
N515 MSG("T=21.1(1/21)SVERLO D=40.5,WORK_STEP(27) ")
N516 ;************************************************ T="14.2"
N517 G0 g54 B0
N518 TRANS X=X_B0 Z=Z_B0 Y=Y_B0        ;detal_A _____B0_!!!
N519 REGIME(22,40.5,2,0.1)  ;s170 f35 u dedushki 
N520 G0 G54 X=72+84 Y=48-30 m3 d1
N521 Z25 m8
N522 CYCLE82(25,0,10,,43,1)
N523 SMENA_Z
N524 ST28: WORK_STEP(28)
N525 T="1.2" M6
N526 MSG("T=1.2(2/1) FREZA chist.D=125,WORK_STEP(28) ")
N527 ;************************************************ T="15.1"
N528 G0 g54 B0
N529 TRANS X=X_B0 Z=Z_B0 Y=Y_B0        ;detal_A _____B0_!!!
N530 REGIME(220,125,8,0.08)  ;s400 f200 u dedushki
N531 G0 G54 X-75 Y2 m3 D1
N532 Z0 m8
N533 G1 X310 F=r93
N534 SMENA_Z
N535 M0 ;MERIT 43 !!!!!!!!!!!!!!!!!
N536 ;DO SIX---------------
N537 ST29: WORK_STEP(29)
N538 T="28.1" M6
N539 MSG("T=28.1(1/28)ZENKER KOLCEVOJ D=45-54,WORK_STEP(29) ")
N540 ;************************************************ T="13.1"
N541 G0 g54 B0
N542 TRANS X=X_B0 Z=Z_B0 Y=Y_B0        ;detal_A _____B0_!!!
N543 REGIME(16,50,5,0.01)  ;s100 f5 u dedushki 
N544 G0 G54 X=72+84 Y=48-30 m3 d1
N545 Z5 m8
N546 CYCLE82(3,0,3,,2.2,2)
N547 SMENA_Z
N548 ST30: WORK_STEP(30)
N549 T="15.2" M6
N550 MSG("T=15.2(2/15)ZENKER KOLCEVOJ D=35-44,WORK_STEP(30) ")
N551 ;************************************************ T="12.2"
N552 G0 g54 B0
N553 TRANS X=X_B0 Z=Z_B0 Y=Y_B0   ;detal_A _____B0_!!!
N554 REGIME(16,40,5,0.01)  ;s120 f5 u dedushki 
N555 G0 G54 X=72-39 Y=53-30 m3 d1
N556 Z10 m8
N557 MCALL CYCLE82(10,0,3,,2.2,2)
N558 X=72-39 Y=53-30    ;1
N559 X72 Y-30          ;2
N560 MCALL
N561 SMENA_Z
N562 ;M0;** MERITI RAZMER L=2.2+/-0.125 D=44+0.16 D=35-0.39***********
N563 ST31: WORK_STEP(31)
N564 T="17.1" M6
N565 MSG("T=17.1(1/17)SVERLO D=22/90,WORK_STEP(31) ")
N566 ;************************************************ T="30.1"
N567 G0 g54 B0
N568 TRANS X=X_B0 Z=Z_B0 Y=Y_B0   ;detal_A _____B0_!!!
N569 REGIME(18,14,2,0.075)  ;s400 f60 u dedushki 
N570 G0 G54 X=72-9 Y=90-(30+15) m3 d1
N571 Z10 m8
N572 MCALL CYCLE82(5,0,3,,7,1)
N573 X=72-9 Y=90-(30+15)   ;1
N574 X=72-30 Y=-(30+15)    ;2
N575 X=72+43 Y=-(30+15)    ;3
N576 X=72+120 Y=96-(30+15) ;4
N577 MCALL
N578 SMENA_Z
N579 gbTOCheckAtTC = TRUE       
N580 gbErrMsgOnToCheck = TRUE 
N581 ST32: WORK_STEP(32)
N582 T="8.2" M6
N583 MSG("T=8.2(2/8)SVERLO D=13+0.43,WORK_STEP(32) ")
N584 ;************************************************ T="26.1"
N585 G0 g54 B0
N586 TRANS X=X_B0 Z=Z_B0 Y=Y_B0   ;detal_A _____B0_!!!
N587 REGIME(17,13,2,0.075)  ;s400 f60 u dedushki 
N588 WAIT_TO_CHECK   ;PROVERKA KONTROLAY POLOMKI PRED.T_INSTR
N589 G0 G54 X=72-9 Y=90-(30+15) m3 d1
N590 Z20 m8
N591 MCALL CYCLE83(20,0,7,,77,,15,15,,,1,1)
N592 X=72-9 Y=90-(30+15)   ;1
N593 ;X=72-30 Y=-(30+15)    ;2 texn_D=13+0.03
N594 X=72+43 Y=-(30+15)    ;3
N595 ;X=72+120 Y=96-(30+15) ;4 texn_D=13+0.03
N596 MCALL
N597 SMENA_Z
N598 ;M0;** MERITI RAZMER D=13+0.43 PROBKA********
N599 ST33: WORK_STEP(33)
N600 T="6.1" M6
N601 MSG("T=6.1(1/6)SVERLO D=11+0.43,WORK_STEP(33) ")
N602 ;************************************************ T=29.1
N603 G0 g54 B0
N604 TRANS X=X_B0 Z=Z_B0 Y=Y_B0   ;detal_A _____B0_!!!
N605 REGIME(18,11,2,0.08)  ;s400 f60 u dedushki 
N606 ;WAIT_TO_CHECK   ;PROVERKA KONTROLAY POLOMKI PRED.T_INSTR
N607 G0 G54 X=72-30 Y=-(30+15) m3 d1  ;2 texn_D=13+0.03
N608 Z20 m8
N609 MCALL CYCLE83(20,0,7,,77,,15,15,,,1,1)
N610 X=72-30 Y=-(30+15)               ;2 texn_D=13+0.03
N611 X=72+120 Y=96-(30+15)            ;4 texn_D=13+0.03
N612 MCALL
N613 SMENA_Z
N614 ST34: WORK_STEP(34)
N615 T="23.1" M6
N616 MSG("T=23.1(1/23)zenker D=12.75,WORK_STEP(34) ")
N617 ;************************************************ T=23.1
N618 G0 g54 B0
N619 TRANS X=X_B0 Z=Z_B0 Y=Y_B0   ;detal_A _____B0_!!!
N620 REGIME(13,12.7,3,0.09)  ;s400 f60 u dedushki 
N621 ;WAIT_TO_CHECK   ;PROVERKA KONTROLAY POLOMKI PRED.T_INSTR
N622 G0 G54 X=72-30 Y=-(30+15) m3 d1  ;2 texn_D=13+0.03
N623 Z7 M8
N624 G1 Z-47 F=r93
N625 Z7 F=r93*4
N626 G0 X=72+120 Y=96-(30+15)         ;4 texn_D=13+0.03
N627 G1 Z-47 F=r93
N628 Z10 F=r93*4
N629 SMENA_Z
N630 ST35: WORK_STEP(35)
N631 T="30.2" M6
N632 MSG("T=30.2(2/30)RAZVERTKA D=13+0.035,WORK_STEP(35) ")
N633 ;************************************************ T=30.2
N634 G0 g54 B0
N635 TRANS X=X_B0 Z=Z_B0 Y=Y_B0   ;detal_A _____B0_!!!
N636 REGIME(13,13,6,0.027) ;s400 f60 u dedushki 
N637 ;WAIT_TO_CHECK   ;PROVERKA KONTROLAY POLOMKI PRED.T_INSTR
N638 G0 G54 X=72-30 Y=-(30+15) m3 d1  ;2 texn_D=13+0.03
N639 Z12 M8
N640 G1 Z-44 F=r93
N641 Z12 F=r93*4
N642 G0 X=72+120 Y=96-(30+15)        ;4 texn_D=13+0.03
N643 G1 Z-44 F=r93
N644 Z12 F=r93*4
N645 SMENA_Z
N646 ;M0;** MERITI RAZMER D=13+0.035***********
N647 ;==========================================================
N648 
N649 MSG("POLUCHI GOTOVUYU,GODNUYU DETAL.Nezabud podelitca!!!!")
N650 ;M0
N651 ;==========================================================
N652 WORK_DONE
N653 GOTOF _ENDE
N654 
N655 ST999:TO_BROKEN
N656  _ENDE:T0 M6
N657 M91
N658 WORK_STEP(0)
N659 ; MSG("PIPEC PROGRAMME *** VSE DOMOY ***")
N660 R98=$AC_TIMER[1]
N661 ;N68 R98=R98/60  ;cycle TIME/MIN
N662 M30
N663 
N664 _proverka:
N665 ;____20_operac___detal___storona B0/B90/B180/B270____G54_____
N666 ;*G54-X-centr STOLA,Y-PLOSKOST paleti,Z-centr STOLA
N667 $P_UIFR[1]=CTRANS(X,0,Y,0,Z,0,B,180+90);  G54 
N668 
N669 
N670 STOPRE
N671 ZBEZ=3
N672 XBEZ=10
N673 YBEZ=7 
N674 zpripusk=0.5  
N675 ;______B0 __TRANS _____detal_A_ ______    ;B0!!!
N676 Y_B0=r10                     ;OS_Y TRANS  
N677 X_B0=r11                     ;OS_X TRANS 
N678 Z_B0=r12+43                  ;OS_Z TRANS 
N679 ;_____BB90-TRANS_________detal_A__________ ;BB90!!
N680 Y_BB90=Y_B0                  ;OS_Y TRANS 
N681 X_BB90=-(Z_B0-43)            ;OS_X TRANS 
N682 Z_BB90=242.85-ABS(X_B0)      ;OS_Z TRANS 
N683 ;_____B270-TRANS__________detal_A_____     ;B270!!
N684 Y_B270=Y_B0                  ;OS_Y TRANS 
N685 X_B270=Z_B0-43               ;OS_X TRANS 
N686 Z_B270=ABS(X_B0)             ;OS_Z TRANS
N687 
N688 
N689 
N690 STOPRE
N691 ;**************************YSTANOV 1**********
N692 ;*poraydok obrabotki***metka***magazin/gnezdo*******NALADKA INSTRUMENTA******
N693 ;--------------------------------------T=CGT(CPS)--!!!!
N694  ;;;IF WORKING_STEP==0   GOTOF CHECK_1  ;esli budet palleta n2 !!!!
N695  IF WORKING_STEP<=1   GOTOB ST1  ;TC=8  T3.1(1/2)FREZA D=125/chern.
N696  M91 ;poka nezak-ca cmena palet 
N697  IF WORKING_STEP==2   GOTOB ST2  ;TC=2 T=6.2(3/2)CEKOVKA D=65
N698  IF WORKING_STEP==3   GOTOB ST3  ;TC=2 T=5.1(1/2)CEKOVKA D=55
N699  IF WORKING_STEP==4   GOTOB ST4  ;TC=1  T=24.2(1/16)ENZHEKTOR D=30
N700  IF WORKING_STEP==5   GOTOB ST5  ;TC=2 T=1.2(1/15)FREZA chist.D=125
N701  IF WORKING_STEP==6   GOTOB ST6  ;TC=1  T=9.1(1/1)rezec D=69.5
N702  IF WORKING_STEP==7   GOTOB ST7  ;TC=3 T=9.2(2/2)rezec D=59.5
N703  IF WORKING_STEP==8   GOTOB ST8  ;TC=1 T=10.1(1/3)rezec D=67.4
N704  IF WORKING_STEP==9   GOTOB ST9  ;TC=4  T=12.1(2/27)MIKROBOR D=70+0.12
N705  IF WORKING_STEP==10 GOTOB ST10  ;TC=1  T=10.2(1/28)MIKROBOR D=68+0.074
N706  IF WORKING_STEP==11  GOTOB ST11 ;TC=11  T=12.2(2/29)MIKROBOR D=59.93+0.046
N707  IF WORKING_STEP==12  GOTOB ST12 ;TC=11  T=20.1(2/18)FREZA D=25.3 d1/d2  --
N708  IF WORKING_STEP==13  GOTOB ST13 ;TC=2  T=23.2(2/20)ZENKER D=31.43+0.22 --
N709  IF WORKING_STEP==14  GOTOB ST14 ;TC=1 T=13.2(1/22)REZEC D=33/45 --
N710  IF WORKING_STEP==15  GOTOB ST15 ;TC=1 T=19.1(2/9) rezec-faska<30_gr.D=35+0.62--
N711  IF WORKING_STEP==16  GOTOB ST16 ;TC=1  T=16.1(1/4) MIKROBOR D=33.5+0.16 --
N712  IF WORKING_STEP==17  GOTOB ST17 ;TC=8  T=29.2(1/17)ZENKOVKA D=3/60 --
N713  IF WORKING_STEP==18  GOTOB ST18 ;TC=8  T=15.1(2/17)ZENKOVKA D=22/60
N714  IF WORKING_STEP==19  GOTOB ST19 ;TC=2  T=7.1(2/5) RASKATKA D=33.5 --
N715  IF WORKING_STEP==20  GOTOB ST20 ;TC=2 T=29.1(2/25)RASKATKA D=70* --
N716  IF WORKING_STEP==21  GOTOB ST21 ;TC=1 T=11.2(1/11)METCHIK D=33*1.5 --
N717  IF WORKING_STEP==22  GOTOB ST22 ;TC=2 T=17.1(1/30)SVERLO D=22/90 --ppp
N718  IF WORKING_STEP==23  GOTOB ST23 ;TC=3  T=14.1(2/10)SVERLO D=8.5
N719  IF WORKING_STEP==24  GOTOB ST24 ;TC=4  T=8.1(1/19)ZENKER D=8.5 --
N720  IF WORKING_STEP==25  GOTOB ST25 ;TC=2  T=24.2(1/16)INZHEKTOR D=30 (DORABOTKA L=90_MM.)--ppp
N721  IF WORKING_STEP==26  GOTOB ST26 ;TC=1  T=24.1(1/21)INZHEKTOR D=36 (DOR-TKA L=100_MM.)
N722  IF WORKING_STEP==27  GOTOB ST27 ;TC=2  T=21.1(2/14)SVERLO D=40.5
N723  IF WORKING_STEP==28  GOTOB ST28 ;TC=2  T=1.2(1/15)FREZA chist.D=125---ppp
N724  IF WORKING_STEP==29  GOTOB ST29 ;TC=1  T=28.1(1/13)ZENKER KOLCEVOJ D=45-54
N725  IF WORKING_STEP==30  GOTOB ST30 ;TC=3  T=15.2(2/12)ZENKER KOLCEVOJ D=35-44
N726  IF WORKING_STEP==31  GOTOB ST31 ;TC=1  T=17.1(1/30)SVERLO D=22/90--ppp
N727  IF WORKING_STEP==32  GOTOB ST32 ;TC=4   T=8.2(1/26)SVERLO D=13+0.43
N728  IF WORKING_STEP==33  GOTOB ST33 ;TC=2  T=6.1(NET)SVERLO D=11+0.43
N729  IF WORKING_STEP==34  GOTOB ST34 ;TC=1 T=23.1(NET)zenker D=12.75
N730  IF WORKING_STEP==35  GOTOB ST35 ;TC=3 T=30.2(NET)RAZVERTKA D=13+0.035
N731  IF WORKING_STEP==999  GOTOB ST999
N732 ENDIF
N733 
N734 AA: MSG("Neverniy etap obrabotki.Ti ne prav,poshevili mozgami!!!")
N735 M0
N736 GOTOB AA
N737 ;;;CHECK_1:   ;esli budet palleta n2 !!!!
N738 GOTOB START_1
N739 ; NE UDOLAYT VSE RABOTAET
