N1 ;DETAL 540A-8607016-10 KORPUS
N2 ;OPER 30
N3 ;STANOK NBH-6 INV.ZAV. A.10003135.03
N4 ;KOPTYAEV S.G          23.10.09
N5 ;TC=24 MIN(NA 1_DETAL)
N6 ;KOREKTIROVAL 29.10.09 (UBRAL FREZU CHIST D100)
N7 ;KOREKTIROVAL 11.03.21 (GLUB OTV M10 + SVERLO FASK 120GR)
N8 DEF REAL POM_Y,FUS=3000,ZBEZ,ZPRIPUSK,XBEZ,YBEZ,ZAG,RO,Y_B180,X_B180,Z_B180,Y_B90,X_B90,Z_B90,Y_B270,X_B270,Z_B270,DPR,KP,TF,TS
N9 ;DEFINE SMENA_ZYX AS G75 FP=1 Z1=0 Y1=0 X1=0 SPOS=0  
N10 DEFINE SMENA_Z AS G0 G53 Z930 D0 M9 M5 
N11 $AC_TIMER[1]=0  ;CIKL STARTA TIME/MIN
N12 ;********** ZDES NASTROY ******************************
N13 R10=1  ;1=DA OBRABOT.NA B270(G55),0=NET OBRABOT.NA B270(G55)
N14 R20=1  ;1=DA OBRABOT.NA B90(G56),0=NET OBRABOT.NA B90(G56)
N15 ;******************************************************
N16 GOTOF _PROVERKA
N17 START_1:
N18 ;********RABOTA*********G54* 
N19 ST1: WORK_STEP(1)
N20 SMENA_Z
N21 G0 G54 G17 G40 G90 G94          ;G54!!!!
N22 T="19.1" M6
N23 MSG("T=19.1(1/19) FREZA CHERN.D=100,WORK_STEP(1) ")
N24 R1=100/2  ;RAD.FREZI
N25 ;************************************************
N26 G0 G54 B90
N27 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N28 BOL_SKOK_1:REGIME(150,100,8,0.08) ;BILO REGIME(150,100,8,0.15)
N29 SKOK_1:G0 G54 X=37+R1+XBEZ Y0 D1
N30 DPR=(152-140)/2 KP=2
N31 Z=DPR+ZPRIPUSK M3 D1 ;+ZPRIPUSK
N32 MM1:G1Z=IC(-DPR/KP) F=FUS
N33 G1 X=-70+R1   F=R93 M8 ;F=TF
N34 G0 Z=IC(1)
N35 X=37+R1+XBEZ
N36 Z=IC(-1)
N37 REPEAT MM1 P=KP-1
N38 G0 Z100
N39 ATRANS Y=POM_Y
N40 REPEAT SKOK_1 P=1
N41 SMENA_Z
N42 G0 G54 B270
N43 TRANS X=X_B270 Z=Z_B270 Y=Y_B270          ; B270_!!!
N44 AMIRROR X0
N45 REPEAT BOL_SKOK_1 P=1
N46 SMENA_Z
N47 ;********_VIDIMO NE RABOTAET**_S_29.10.09
N48 GOTOF T_2_FREZA
N49 ST2: WORK_STEP(2)
N50 T="21.1" M6
N51 MSG("T21.1(1/21) FREZA CHIST.D=100,WORK_STEP(2) ")
N52 R1=100/2  ;RAD.FREZI
N53 ;***************************************************
N54 G0 G54 B270
N55 TRANS X=X_B270 Z=Z_B270 Y=Y_B270           ; B270_!!!
N56 BOL_SKOK_2:REGIME(220,100,8,0.08)
N57 SKOK_2:G0 G54 X0 Y=90/2+R1+YBEZ D1
N58 Z=10 M3 M8
N59 G1 Z0 F=FUS
N60 X=70-R1 F=R93*2
N61 Y=-(90/2-R1) F=R93  ;F=TF
N62 X=-(37+R1+XBEZ)
N63 G0 Z150
N64 ATRANS Y=POM_Y
N65 REPEAT SKOK_2 P=1
N66 SMENA_Z
N67 G0 G54 B90
N68 TRANS X=X_B90 Z=Z_B90 Y=Y_B90              ; B90_!!!
N69 AMIRROR X0
N70 REPEAT BOL_SKOK_2 P=1
N71 SMENA_Z
N72 T_2_FREZA:
N73 ;**********DO SIX**************_-
N74 ST4: WORK_STEP(4)
N75 T="1.1" M6
N76 MSG(" T1.1(1/1) -SVERLO CENTR.D=20<90_GR,WORK_STEP(4) ")
N77 ;******************************************************* T1.1
N78 G0 G54 B180
N79 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N80 REGIME(16,15,2,0.08)
N81 ;******_4_OTV. NA D=13+0.43******_
N82 SKOK_4:G0 G54 X18 Y-44 D1
N83 Z30 M3 M8
N84 MCALL CYCLE82(10,0,ZBEZ+1.5,,13.2/2,1)
N85 X18 Y-44           ;1_OTV
N86 X18 Y44            ;2_OTV
N87 X=18+104 Y44        ;3_OTV
N88 X=18+104 Y-44       ;4_OTV
N89 MCALL
N90 ;******_4_OTV. NA D=30+0.33******_
N91 Z10 
N92 X36 Y-26 
N93 MCALL CYCLE82(10,0,ZBEZ+1.5,,19.5/2,1)
N94 X36 Y-26           ;1_OTV
N95 X80 Y-26           ;2_OTV
N96 X58 Y26            ;3_OTV  D=10.8+0.19/-0.05 Y25 !!!
N97 X104 Y26           ;4_OTV
N98 MCALL
N99 G0 Z30
N100 ATRANS Y=POM_Y
N101 REPEAT SKOK_4 P=1
N102 SMENA_Z
N103 GBTOCHECKATTC = TRUE 
N104 GBERRMSGONTOCHECK = TRUE
N105 ST5: WORK_STEP(5)
N106 T="2.1" M6
N107 MSG(" T2.1(1/2) -SVERLO D=13+0.43,WORK_STEP(5) ")
N108 ;*******************************************************T2.1
N109 G0 G54 B180
N110 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N111 REGIME(15,13,2,0.12)
N112 WAIT_TO_CHECK
N113 ;******_4_OTV. D=13+0.43******_
N114 SKOK_5:G0 G54 X18 Y-44 D1
N115 Z50 M3 M8
N116 MCALL CYCLE83(20,0,ZBEZ,,76,,8,4,,,1,1) 
N117 X18 Y-44           ;1_OTV
N118 X18 Y44            ;2_OTV
N119 X=18+104 Y44       ;3_OTV
N120 X=18+104 Y-44      ;4_OTV
N121 MCALL
N122 G0 Z50
N123 ATRANS Y=POM_Y
N124 REPEAT SKOK_5 P=1
N125 SMENA_Z
N126 ST6: WORK_STEP(6)
N127 T="19.2" M6
N128 MSG(" T19.2(2/19) -SVERLO D=19+0.52,WORK_STEP(6) ")
N129 ;**************************************************** T15.1
N130 G0 G54 B180
N131 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N132 REGIME(15,19,2,0.12)
N133 ;******_2_OTV. D=19+0.52******_
N134 SKOK_6:G0 G54 X80 Y-26 D1
N135 Z50 M3 M8
N136 MCALL CYCLE83(20,0,ZBEZ*1.5,,50.5,,8,5,,,1,1) 
N137 X80 Y-26           ;1_OTV
N138 X58  Y26            ;2_OTV D=10.8+0.19/-0.05 Y25 !!!
N139 MCALL
N140 G0 Z50
N141 ATRANS Y=POM_Y
N142 REPEAT SKOK_6 P=1
N143 SMENA_Z
N144 ST7: WORK_STEP(7)
N145 T="15.2" M6
N146 MSG(" T15.2(2/15)-SVERLO D=21+0.52,WORK_STEP(7) ")
N147 ;************************************************** T15.2
N148 G0 G54 B180
N149 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N150 REGIME(15,21,2,0.12)
N151 ;******_2_OTV. D=21+0.52******_
N152 SKOK_7:G0 G54 X104 Y26 D1
N153 Z50 M3 M8
N154 MCALL CYCLE83(20,0,ZBEZ*1.5,,50.5,,8,5,,,1,1) 
N155 X104 Y26           ;1_OTV
N156 X36  Y-26          ;2_OTV
N157 MCALL
N158 G0 Z50
N159 ATRANS Y=POM_Y
N160 REPEAT SKOK_7 P=1
N161 SMENA_Z
N162 ST3: WORK_STEP(3)
N163 T="2.2" M6
N164 MSG("T2.2(2/2) - FREZA CHIST.D=160,WORK_STEP(3) ")
N165 R1=160/2  ;RAD.FREZI
N166 ;******************************************************* T2.2
N167 G0 G54 B180
N168 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N169 REGIME(210,160,8,0.08)
N170 SKOK_3:G0 G54 X=-(R1+XBEZ) Y=0 D1
N171 Z10 M3 M8
N172 G1 Z0 F=FUS
N173 G1 X=140+R1+XBEZ F=R93  ;F=TF
N174 G0 Z20
N175 ATRANS Y=POM_Y
N176 REPEAT SKOK_3 P=1
N177 SMENA_Z
N178 ST8: WORK_STEP(8)
N179 T="16.2" M6
N180 MSG("T16.2(2/16)-FREZA SHPON.D=12 MIN=55_MM RAB.(2234-0367),WORK_STEP(8)")
N181 R1=12/2  ;RAD.FREZI L=58MM_MIN
N182 ;*************************************************
N183 G0 G54 B180
N184 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N185 REGIME(18,12,2,0.05)
N186 SKOK_8:G0 G54 X58 Y25 D1
N187 Z10 M3 M8
N188 G1 Z-48 F=R93*7   ;F=TF*5
N189 Z-56.5    F=R93          ;F=TF
N190 G4 F0.5
N191 G0 Z50
N192 ATRANS Y=POM_Y
N193 REPEAT SKOK_8 P=1
N194 SMENA_Z
N195 ST9: WORK_STEP(9)
N196 T="14.2" M6
N197 MSG(" T14.2(2/14)-SVERLO D=10.8,WORK_STEP(9)")
N198 ;*********************************************** T16.1
N199 G0 G54 B180
N200 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N201 REGIME(15,10.8,2,0.1)
N202 SKOK_9:G0 G54 X58 Y25 D1
N203 Z50 M3 M8
N204 CYCLE83(50,-55,ZBEZ*1.5,,22,,8,5,,,1,1) 
N205 G0 Z50
N206 ATRANS Y=POM_Y
N207 REPEAT SKOK_9 P=1
N208 SMENA_Z
N209 ST10: WORK_STEP(10)
N210 T="18.1" M6
N211 ;N202 MSG(" T18.1(1/18)-FREZA D=20(2217-6008 2-PL(TPGN 110204 8026),WORK_STEP(10) ")
N212 MSG(" T18.1(1/18)-CEKOVKA D=30(WORK_STEP(10)")
N213 R1=20/2  ;RAD.FREZI
N214 ;*************************************************** T18.1
N215 G0 G54 B180
N216 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N217 REGIME(250,20,2,0.08)
N218 ; REGIME(40,30,4,0.03)
N219 ;******_4_OTV. D=30+0.33******_
N220 SKOK_10:G0 G54 X36 Y-26 D1
N221 Z10 M3 M8
N222 MCALL KRUG
N223 ;MCALL CYCLE82(10,0,ZBEZ,,2.15,2)
N224 X36 Y-26           ;1_OTV
N225 X80 Y-26           ;2_OTV
N226 X58 Y26            ;3_OTV  D=10.8+0.19/-0.05 Y25 !!!
N227 X104 Y26           ;4_OTV
N228 MCALL
N229 G0 Z50
N230 ATRANS Y=POM_Y
N231 REPEAT SKOK_10 P=1
N232 SMENA_Z
N233 ;***********************************
N234 ST11: WORK_STEP(11)
N235 T="1.1" M6
N236 MSG("T1.1(1/1)-SVERLO CENTR. D=20<90_GR,WORK_STEP(11)")
N237 ;************************************************* T1.1
N238 G0 G54 B90
N239 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N240 ;******_4_OTV. D=8.43+0.22************************
N241 BOL_SKOK_11:REGIME(16,15,2,0.08)
N242 SKOK_11:G0 G54 X-25 Y-25 D1
N243 Z100 M3 M8
N244 MCALL CYCLE82(10,ZPRIPUSK,ZBEZ,,9/2,0.2)
N245 X-25 Y-25           ;1_OTV
N246 X25  Y-25           ;2_OTV
N247 X25  Y25            ;3_OTV
N248 X-25 Y25            ;4_OTV
N249 MCALL
N250 G0 Z100
N251 ATRANS Y=POM_Y
N252 REPEAT SKOK_11 P=1
N253 SMENA_Z
N254 G0 G54 B270
N255 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N256 AMIRROR X0
N257 REPEAT BOL_SKOK_11 P=1
N258 SMENA_Z
N259 GBTOCHECKATTC = TRUE 
N260 GBERRMSGONTOCHECK = TRUE
N261 ;*********************************
N262 ST12: WORK_STEP(12)
N263 T="17.1" M6
N264 MSG("T17.1(1/17) SVERLO D=8.43+0.22,WORK_STEP(12) ")
N265 ;*******************************************
N266 G0 G54 B270
N267 TRANS X=X_B270 Z=Z_B270 Y=Y_B270           ; B270_!!!
N268 WAIT_TO_CHECK
N269 ;******_4_OTV. D=8.43+0.22************************_
N270 BOL_SKOK_12:REGIME(15,8.5,2,0.1)
N271 SKOK_12:G0 G54 X-25 Y-25 D1
N272 Z100 M3 M8
N273 MCALL CYCLE83(5,ZPRIPUSK,ZBEZ,,19.2,,4,3,,,0.85,1)
N274 X-25 Y-25           ;1_OTV
N275 X25  Y-25           ;2_OTV
N276 X25  Y25            ;3_OTV
N277 X-25 Y25            ;4_OTV
N278 MCALL
N279 G0 Z100
N280 ATRANS Y=POM_Y
N281 REPEAT SKOK_12 P=1
N282 SMENA_Z
N283 G0 G54 B90
N284 TRANS X=X_B90 Z=Z_B90 Y=Y_B90              ; B90_!!!
N285 AMIRROR X0
N286 REPEAT BOL_SKOK_12 P=1
N287 SMENA_Z
N288 GBTOCHECKATTC = TRUE 
N289 GBERRMSGONTOCHECK = TRUE
N290 ;***********************************
N291 ST121: WORK_STEP(121)
N292 T="30.2" M6
N293 MSG("T30.2 ZENKOVKA D=22<120_GR D1 NA D=12.75,WORK_STEP(121) ")
N294 ;*************************************************
N295 G0 G54 B90
N296 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N297 ;******_4_OTV. D=8.43+0.22************************_
N298 BOL_SKOK_121:REGIME(8,12.75,6,0.03)
N299 SKOK_121:G0 G54 X-25 Y-25 D1
N300 Z100 M3 M8
N301 MCALL CYCLE82(10,ZPRIPUSK,5,,0.01,2)
N302 X-25 Y-25           ;1_OTV
N303 X25  Y-25           ;2_OTV
N304 X25  Y25            ;3_OTV
N305 X-25 Y25            ;4_OTV
N306 MCALL
N307 G0 Z100
N308 ATRANS Y=POM_Y
N309 REPEAT SKOK_121 P=1
N310 SMENA_Z
N311 G0 G54 B270
N312 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N313 AMIRROR X0
N314 REPEAT BOL_SKOK_121 P=1
N315 SMENA_Z
N316 GBTOCHECKATTC = TRUE 
N317 GBERRMSGONTOCHECK = TRUE
N318 ;***************************************
N319 ST13: WORK_STEP(13)
N320 T="17.2" M6
N321 MSG("T17.2(2/17)-METCH.M10*1.5,WORK_STEP(13) ")
N322 ;***************************************************
N323 G0 G54 B90
N324 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N325 WAIT_TO_CHECK
N326 ;******_4_OTV.REZBA M10*1.5************************_
N327 BOL_SKOK_13:REGIME(5,10,1,1.5) ;5_METR(S159.235 F238.8)
N328 SKOK_13:G0 G54 X-25 Y-25 D1 
N329 Z100 M3 M8
N330 MCALL CYCLE840(20,ZPRIPUSK,ZBEZ*2,-18.7,,,4,3,1,0,)
N331 X-25 Y-25           ;1_OTV
N332 X25  Y-25           ;2_OTV
N333 X25  Y25            ;3_OTV
N334 X-25 Y25            ;4_OTV
N335 MCALL
N336 G0 Z100
N337 ATRANS Y=POM_Y
N338 REPEAT SKOK_13 P=1
N339 SMENA_Z
N340 G0 G54 B270
N341 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N342 AMIRROR X0
N343 REPEAT BOL_SKOK_13 P=1
N344 SMENA_Z
N345 ;**************************** RABOTA B270****G55
N346 IF R10==0 GOTOF END_B270 
N347 ST14: WORK_STEP(14)
N348 SMENA_Z
N349 G0 G55 G17 G40 G90 G94          ;G55!!!!
N350 T="19.1" M6
N351 MSG("T19.1(1/19) FREZA CHERN.D=100,WORK_STEP(14) ")
N352 R1=100/2  ;RAD.FREZI
N353 ;************************************************ T5.2
N354 G0 G55 B90
N355 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N356 BOL_SKOK_14:REGIME(150,100,8,0.08) ;BILO REGIME(150,100,8,0.15)
N357 SKOK_14:G0 G55 X=37+R1+XBEZ Y0 D1
N358 DPR=(152-140)/2 KP=2
N359 Z=DPR+ZPRIPUSK M3 M8 D1 ;+ZPRIPUSK
N360 MM14:G1Z=IC(-DPR/KP) F=FUS
N361 G1 X=-70+R1   F=R93  ;F=TF
N362 G0 Z=IC(1)
N363 X=37+R1+XBEZ
N364 Z=IC(-1)
N365 REPEAT MM14 P=KP-1
N366 G0 Z100
N367 ATRANS Y=POM_Y
N368 REPEAT SKOK_14 P=1
N369 SMENA_Z
N370 G0 G55 B270
N371 TRANS X=X_B270 Z=Z_B270 Y=Y_B270          ; B270_!!!
N372 AMIRROR X0
N373 REPEAT BOL_SKOK_14 P=1
N374 SMENA_Z
N375 ;********_VIDIMO NE RABOTAET**_S_29.10.09
N376 GOTOF T_2_FREZZA
N377 ST15: WORK_STEP(15)
N378 T="21.1" M6
N379 MSG("T21.1(1/21) FREZA CHIST.D=100,WORK_STEP(15) ")
N380 R1=100/2  ;RAD.FREZI
N381 ;***************************************************
N382 G0 G55 B270
N383 TRANS X=X_B270 Z=Z_B270 Y=Y_B270           ; B270_!!!
N384 BOL_SKOK_15:REGIME(220,100,8,0.08)
N385 SKOK_15:G0 G55 X0 Y=90/2+R1+YBEZ D1
N386 Z=10 M3 M8
N387 G1 Z0 F=FUS
N388 X=70-R1 F=R93*2
N389 Y=-(90/2-R1) F=R93  ;F=TF
N390 X=-(37+R1+XBEZ)
N391 G0 Z150
N392 ATRANS Y=POM_Y
N393 REPEAT SKOK_15 P=1
N394 SMENA_Z
N395 G0 G55 B90
N396 TRANS X=X_B90 Z=Z_B90 Y=Y_B90              ; B90_!!!
N397 AMIRROR X0
N398 REPEAT BOL_SKOK_15 P=1
N399 SMENA_Z
N400 T_2_FREZZA:
N401 ;**********_DO SIX**********_
N402 ST17: WORK_STEP(17)
N403 T="1.1" M6
N404 MSG(" T1.1(1/1) -SVERLO CENTR.D=20<90_GR,WORK_STEP(17) ")
N405 ;******************************************************* T1.1
N406 G0 G55 B180
N407 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N408 REGIME(16,15,2,0.08)
N409 ;******_4_OTV. NA D=13+0.43******_
N410 SKOK_17:G0 G55 X18 Y-44 D1
N411 Z30 M3 M8
N412 MCALL CYCLE82(10,0,ZBEZ+1.5,,13/2,1)
N413 X18 Y-44           ;1_OTV
N414 X18 Y44            ;2_OTV
N415 X=18+104 Y44        ;3_OTV
N416 X=18+104 Y-44       ;4_OTV
N417 MCALL
N418 ;******_4_OTV. NA D=30+0.33******_
N419 Z10 
N420 X36 Y-26 
N421 MCALL CYCLE82(10,0,ZBEZ+1.5,,19.5/2,1)
N422 X36 Y-26           ;1_OTV
N423 X80 Y-26           ;2_OTV
N424 X58 Y26            ;3_OTV  D=10.8+0.19/-0.05 Y25 !!!
N425 X104 Y26           ;4_OTV
N426 MCALL
N427 G0 Z30
N428 ATRANS Y=POM_Y
N429 REPEAT SKOK_17 P=1
N430 SMENA_Z
N431 GBTOCHECKATTC = TRUE 
N432 GBERRMSGONTOCHECK = TRUE
N433 ST18: WORK_STEP(18)
N434 T="2.1" M6
N435 MSG(" T2.1(1/2) -SVERLO D=13+0.43,WORK_STEP(18) ")
N436 ;******************************************************* T2.1
N437 G0 G55 B180
N438 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N439 REGIME(15,13,2,0.12)
N440 WAIT_TO_CHECK
N441 ;******_4_OTV. D=13+0.43******_
N442 SKOK_18:G0 G55 X18 Y-44 D1
N443 Z50 M3 M8
N444 MCALL CYCLE83(20,0,ZBEZ,,76,,8,4,,,1,1) 
N445 X18 Y-44           ;1_OTV
N446 X18 Y44            ;2_OTV
N447 X=18+104 Y44       ;3_OTV
N448 X=18+104 Y-44      ;4_OTV
N449 MCALL
N450 G0 Z50
N451 ATRANS Y=POM_Y
N452 REPEAT SKOK_18 P=1
N453 SMENA_Z
N454 ST19: WORK_STEP(19)
N455 T="19.2" M6
N456 MSG(" T19.2(2/19) -SVERLO D=19+0.52,WORK_STEP(19) ")
N457 ;****************************************************
N458 G0 G55 B180
N459 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N460 REGIME(15,19,2,0.12)
N461 ;******_2_OTV. D=19+0.52******_
N462 SKOK_19:G0 G55 X80 Y-26 D1
N463 Z50 M3 M8
N464 MCALL CYCLE83(20,0,ZBEZ*1.5,,50.5,,8,5,,,1,1) 
N465 X80 Y-26           ;1_OTV
N466 X58  Y26            ;2_OTV D=10.8+0.19/-0.05 Y25 !!!
N467 MCALL
N468 G0 Z50
N469 ATRANS Y=POM_Y
N470 REPEAT SKOK_19 P=1
N471 SMENA_Z
N472 ST20: WORK_STEP(20)
N473 T="15.2" M6
N474 MSG(" T15.2(2/15)-SVERLO D=21+0.52,WORK_STEP(20) ")
N475 ;**************************************************** T15.2
N476 G0 G55 B180
N477 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N478 REGIME(15,21,2,0.12)
N479 ;******_2_OTV. D=21+0.52******_
N480 SKOK_20:G0 G55 X104 Y26 D1
N481 Z50 M3 M8
N482 MCALL CYCLE83(20,0,ZBEZ*1.5,,50.5,,8,5,,,1,1) 
N483 X104 Y26           ;1_OTV
N484 X36  Y-26          ;2_OTV
N485 MCALL
N486 G0 Z50
N487 ATRANS Y=POM_Y
N488 REPEAT SKOK_20 P=1
N489 SMENA_Z
N490 
N491 ST16: WORK_STEP(16)
N492 T="2.2" M6
N493 MSG("T2.2(2/2) - FREZA CHIST.D=160,WORK_STEP(16) ")
N494 R1=160/2  ;RAD.FREZI
N495 ;******************************************************* T2.2
N496 G0 G55 B180
N497 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N498 REGIME(210,160,8,0.08)
N499 SKOK_16:G0 G55 X=-(R1+XBEZ) Y=0 D1
N500 Z10 M3 M8
N501 G1 Z0 F=FUS
N502 G1 X=140+R1+XBEZ F=R93  ;F=TF
N503 G0 Z20
N504 ATRANS Y=POM_Y
N505 REPEAT SKOK_16 P=1
N506 SMENA_Z
N507 ST21: WORK_STEP(21)
N508 T="16.2" M6
N509 MSG("T16.2(2/16)-FREZA SHPON.D=12 MIN=55_MM RAB.(2234-0367),WORK_STEP(21)")
N510 R1=12/2  ;RAD.FREZI L=58MM_MIN
N511 ;********************************************* T16.2
N512 G0 G55 B180
N513 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N514 REGIME(18,12,2,0.05)
N515 SKOK_21:G0 G55 X58 Y25 D1
N516 Z10 M3 M8
N517 G1 Z-48 F=R93*7   ;F=TF*5
N518 Z-56.5    F=R93          ;F=TF
N519 G4 F0.5
N520 G0 Z50
N521 ATRANS Y=POM_Y
N522 REPEAT SKOK_21 P=1
N523 SMENA_Z
N524 ST22: WORK_STEP(22)
N525 T="14.2" M6
N526 MSG(" T14.2(2/14)-SVERLO D=10.8,WORK_STEP(22)")
N527 ;************************************************** T16.1
N528 G0 G55 B180
N529 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N530 REGIME(15,10.8,2,0.1)
N531 SKOK_22:G0 G55 X58 Y25 D1
N532 Z50 M3 M8
N533 CYCLE83(50,-55,ZBEZ*1.5,,22,,8,5,,,1,1) 
N534 G0 Z50
N535 ATRANS Y=POM_Y
N536 REPEAT SKOK_22 P=1
N537 SMENA_Z
N538 ST23: WORK_STEP(23)
N539 T="18.1" M6
N540 ;N484 MSG(" T18.1(1/18)-FREZA D=20(2217-6008 2-PL(TPGN 110204 8026),WORK_STEP(23) ")
N541 MSG(" T18.1(1/18)-CEKOVKA D=30(WORK_STEP(23)")
N542 R1=20/2  ;RAD.FREZI
N543 ;*************************************************** T18.1
N544 G0 G55 B180
N545 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N546 REGIME(250,20,2,0.08)
N547 ;REGIME(40,30,4,0.03)
N548 ;******_4_OTV. D=30+0.33******_
N549 SKOK_23:G0 G55 X36 Y-26 D1
N550 Z10 M3 M8
N551  MCALL KRUG
N552 ; MCALL CYCLE82(10,0,ZBEZ,,2.15,2)
N553 X36 Y-26           ;1_OTV
N554 X80 Y-26           ;2_OTV
N555 X58 Y26            ;3_OTV  D=10.8+0.19/-0.05 Y25 !!!
N556 X104 Y26           ;4_OTV
N557 MCALL
N558 G0 Z50
N559 ATRANS Y=POM_Y
N560 REPEAT SKOK_23 P=1
N561 SMENA_Z
N562 ST24: WORK_STEP(24)
N563 T="1.1" M6
N564 MSG("T1.1(1/1)-SVERLO CENTR. D=20<90_GR,WORK_STEP(24)")
N565 ;************************************************* T1.1
N566 G0 G55 B90
N567 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N568 ;******_4_OTV. D=8.43+0.22************************_
N569 BOL_SKOK_24:REGIME(16,15,2,0.08)
N570 SKOK_24:G0 G55 X-25 Y-25 D1
N571 Z100 M3 M8
N572 MCALL CYCLE82(10,ZPRIPUSK,ZBEZ,,9/2,0.2)
N573 X-25 Y-25           ;1_OTV
N574 X25  Y-25           ;2_OTV
N575 X25  Y25            ;3_OTV
N576 X-25 Y25            ;4_OTV
N577 MCALL
N578 G0 Z100
N579 ATRANS Y=POM_Y
N580 REPEAT SKOK_24 P=1
N581 SMENA_Z
N582 G0 G55 B270
N583 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N584 AMIRROR X0
N585 REPEAT BOL_SKOK_24 P=1
N586 SMENA_Z
N587 GBTOCHECKATTC = TRUE 
N588 GBERRMSGONTOCHECK = TRUE
N589 ;*********************************
N590 ST25: WORK_STEP(25)
N591 T="17.1" M6
N592 MSG("T17.1(1/17) -SVERLO D=8.43+0.22,WORK_STEP(25) ")
N593 ;*************************************************** T17.1
N594 G0 G55 B270
N595 TRANS X=X_B270 Z=Z_B270 Y=Y_B270           ; B270_!!!
N596 WAIT_TO_CHECK
N597 ;******_4_OTV. D=8.43+0.22************************_
N598 BOL_SKOK_25:REGIME(15,8.5,2,0.1)
N599 SKOK_25:G0 G55 X-25 Y-25 D1
N600 Z100 M3 M8
N601 MCALL CYCLE83(5,ZPRIPUSK,ZBEZ,,19.2,,4,3,,,0.85,1)
N602 X-25 Y-25           ;1_OTV
N603 X25  Y-25           ;2_OTV
N604 X25  Y25            ;3_OTV
N605 X-25 Y25            ;4_OTV
N606 MCALL
N607 G0 Z100
N608 ATRANS Y=POM_Y
N609 REPEAT SKOK_25 P=1
N610 SMENA_Z
N611 G0 G55 B90
N612 TRANS X=X_B90 Z=Z_B90 Y=Y_B90              ; B90_!!!
N613 AMIRROR X0
N614 REPEAT BOL_SKOK_25 P=1
N615 SMENA_Z
N616 GBTOCHECKATTC = TRUE 
N617 GBERRMSGONTOCHECK = TRUE
N618 ;***********************************
N619 ST251: WORK_STEP(251)
N620 T="30.2" M6
N621 MSG("T30.2 ZENKOVKA D=22<120_GR D1 NA D=12.75,WORK_STEP(251) ")
N622 ;*************************************************
N623 G0 G55 B90
N624 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N625 ;******_4_OTV. D=8.43+0.22************************_
N626 BOL_SKOK_251:REGIME(8,12.75,6,0.03)
N627 SKOK_251:G0 G55 X-25 Y-25 D1
N628 Z100 M3 M8
N629 MCALL CYCLE82(10,ZPRIPUSK,5,,0.01,2)
N630 X-25 Y-25           ;1_OTV
N631 X25  Y-25           ;2_OTV
N632 X25  Y25            ;3_OTV
N633 X-25 Y25            ;4_OTV
N634 MCALL
N635 G0 Z100
N636 ATRANS Y=POM_Y
N637 REPEAT SKOK_251 P=1
N638 SMENA_Z
N639 G0 G55 B270
N640 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N641 AMIRROR X0
N642 REPEAT BOL_SKOK_251 P=1
N643 SMENA_Z
N644 GBTOCHECKATTC = TRUE 
N645 GBERRMSGONTOCHECK = TRUE
N646 ST26: WORK_STEP(26)
N647 T="17.2" M6
N648 MSG("T17.2(2/17)-METCH.M10*1.5,WORK_STEP(26) ")
N649 ;*************************************************** T17.2
N650 G0 G55 B90
N651 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N652 WAIT_TO_CHECK
N653 ;******_4_OTV.REZBA M10*1.5************************_
N654 BOL_SKOK_26:REGIME(5,10,1,1.5) ;5_METR(S159.235 F238.8)
N655 SKOK_26:G0 G55 X-25 Y-25 D1 
N656 Z100 M3 M8
N657 MCALL  CYCLE840(20,ZPRIPUSK,ZBEZ*2,-18.7,,,4,3,1,0,)
N658 X-25 Y-25           ;1_OTV
N659 X25  Y-25           ;2_OTV
N660 X25  Y25            ;3_OTV
N661 X-25 Y25            ;4_OTV
N662 MCALL
N663 G0 Z100
N664 ATRANS Y=POM_Y
N665 REPEAT SKOK_26 P=1
N666 SMENA_Z
N667 G0 G55 B270
N668 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N669 AMIRROR X0
N670 REPEAT BOL_SKOK_26 P=1
N671 SMENA_Z
N672 END_B270:
N673 SMENA_Z
N674 ; ****************************_RABOTA B90****G56
N675 IF R20==0 GOTOF END_B90 
N676 ST27: WORK_STEP(27)
N677 SMENA_Z
N678 G0 G56 G17 G40 G90 G94          ;G56!!!!
N679 T="19.1" M6
N680 MSG("T19.1(1/19) FREZA CHERN.D=100,WORK_STEP(27) ")
N681 R1=100/2  ;RAD.FREZI
N682 ;************************************************ T5.2
N683 G0 G56 B90
N684 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N685 BOL_SKOK_27:REGIME(150,100,8,0.08) ;BILO REGIME(150,100,8,0.15)
N686 SKOK_27:G0 G56 X=37+R1+XBEZ Y0 D1
N687 DPR=(152-140)/2 KP=2
N688 Z=DPR+ZPRIPUSK M3 M8 D1 ;+ZPRIPUSK
N689 MM27:G1Z=IC(-DPR/KP) F=FUS
N690 G1 X=-70+R1   F=R93  ;F=TF
N691 G0 Z=IC(1)
N692 X=37+R1+XBEZ
N693 Z=IC(-1)
N694 REPEAT MM27 P=KP-1
N695 G0 Z100
N696 ATRANS Y=POM_Y
N697 REPEAT SKOK_27 P=1
N698 SMENA_Z
N699 G0 G56 B270
N700 TRANS X=X_B270 Z=Z_B270 Y=Y_B270          ; B270_!!!
N701 AMIRROR X0
N702 REPEAT BOL_SKOK_27 P=1
N703 SMENA_Z
N704 ;********_VIDIMO NE RABOTAET**_S_29.10.09
N705 GOTOF T_2_FREZZZA
N706 ST28: WORK_STEP(28)
N707 T="21.1" M6
N708 MSG("T21.1(1/21) FREZA CHIST.D=100,WORK_STEP(28) ")
N709 R1=100/2  ;RAD.FREZI
N710 ;***************************************************
N711 G0 G56 B270
N712 TRANS X=X_B270 Z=Z_B270 Y=Y_B270           ; B270_!!!
N713 BOL_SKOK_28:REGIME(220,100,8,0.08)
N714 SKOK_28:G0 G56 X0 Y=90/2+R1+YBEZ D1
N715 Z=10 M3 M8
N716 G1 Z0 F=FUS
N717 X=70-R1 F=R93*2
N718 Y=-(90/2-R1) F=R93  ;F=TF
N719 X=-(37+R1+XBEZ)
N720 G0 Z150
N721 ATRANS Y=POM_Y
N722 REPEAT SKOK_28 P=1
N723 SMENA_Z
N724 G0 G56 B90
N725 TRANS X=X_B90 Z=Z_B90 Y=Y_B90              ; B90_!!!
N726 AMIRROR X0
N727 REPEAT BOL_SKOK_28 P=1
N728 SMENA_Z
N729 T_2_FREZZZA:
N730 ;********_DO SIX******************
N731 ST30: WORK_STEP(30)
N732 T="1.1" M6
N733 MSG(" T1.1(1/1) -SVERLO CENTR.D=20<90_GR,WORK_STEP(30) ")
N734 ;******************************************************* T1.1
N735 G0 G56 B180
N736 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N737 REGIME(16,15,2,0.08)
N738 ;******_4_OTV. NA D=13+0.43******_
N739 SKOK_30:G0 G56 X18 Y-44 D1
N740 Z30 M3 M8
N741 MCALL CYCLE82(10,0,ZBEZ+1.5,,13/2,1)
N742 X18 Y-44           ;1_OTV
N743 X18 Y44            ;2_OTV
N744 X=18+104 Y44        ;3_OTV
N745 X=18+104 Y-44       ;4_OTV
N746 MCALL
N747 ;******_4_OTV. NA D=30+0.33******_
N748 Z10 
N749 X36 Y-26 
N750 MCALL CYCLE82(10,0,ZBEZ+1.5,,19.5/2,1)
N751 X36 Y-26           ;1_OTV
N752 X80 Y-26           ;2_OTV
N753 X58 Y26            ;3_OTV  D=10.8+0.19/-0.05 Y25 !!!
N754 X104 Y26           ;4_OTV
N755 MCALL
N756 G0 Z30
N757 ATRANS Y=POM_Y
N758 REPEAT SKOK_30 P=1
N759 SMENA_Z
N760 GBTOCHECKATTC = TRUE 
N761 GBERRMSGONTOCHECK = TRUE
N762 ST31: WORK_STEP(31)
N763 T="2.1" M6
N764 MSG(" T2.1(1/2) -SVERLO D=13+0.43,WORK_STEP(31) ")
N765 ;******************************************************* T2.1
N766 G0 G56 B180
N767 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N768 REGIME(15,13,2,0.12)
N769 WAIT_TO_CHECK
N770 ;******_4_OTV. D=13+0.43******_
N771 SKOK_31:G0 G56 X18 Y-44 D1
N772 Z50 M3 M8
N773 MCALL CYCLE83(20,0,ZBEZ,,76,,8,4,,,1,1) 
N774 X18 Y-44           ;1_OTV
N775 X18 Y44            ;2_OTV
N776 X=18+104 Y44       ;3_OTV
N777 X=18+104 Y-44      ;4_OTV
N778 MCALL
N779 G0 Z50
N780 ATRANS Y=POM_Y
N781 REPEAT SKOK_31 P=1
N782 SMENA_Z
N783 ST32: WORK_STEP(32)
N784 T="19.2" M6
N785 MSG(" T19.2(2/19) -SVERLO D=19+0.52,WORK_STEP(32) ")
N786 ;****************************************************
N787 G0 G56 B180
N788 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N789 REGIME(15,19,2,0.12)
N790 ;******_2_OTV. D=19+0.52******_
N791 SKOK_32:G0 G56 X80 Y-26 D1
N792 Z50 M3 M8
N793 MCALL CYCLE83(20,0,ZBEZ*1.5,,50.5,,8,5,,,1,1) 
N794 X80 Y-26           ;1_OTV
N795 X58  Y26           ;2_OTV D=10.8+0.19/-0.05 Y25 !!!
N796 MCALL
N797 G0 Z50
N798 ATRANS Y=POM_Y
N799 REPEAT SKOK_32 P=1
N800 SMENA_Z
N801 ST33: WORK_STEP(33)
N802 T="15.2" M6
N803 MSG(" T15.2(2/15)-SVERLO D=21+0.52,WORK_STEP(33) ")
N804 ;************************************************* T15.2
N805 G0 G56 B180
N806 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N807 REGIME(15,21,2,0.12)
N808 ;******_2_OTV. D=21+0.52******_
N809 SKOK_33:G0 G56 X104 Y26 D1
N810 Z50 M3 M8
N811 MCALL CYCLE83(20,0,ZBEZ*1.5,,50.5,,8,5,,,1,1) 
N812 X104 Y26           ;1_OTV
N813 X36  Y-26          ;2_OTV
N814 MCALL
N815 G0 Z50
N816 ATRANS Y=POM_Y
N817 REPEAT SKOK_33 P=1
N818 SMENA_Z
N819 
N820 ST29: WORK_STEP(29)
N821 T="2.2" M6
N822 MSG("T2.2(2/2) - FREZA CHIST.D=160,WORK_STEP(29) ")
N823 R1=160/2  ;RAD.FREZI
N824 ;******************************************************* T2.2
N825 G0 G56 B180
N826 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N827 REGIME(210,160,8,0.08)
N828 SKOK_29:G0 G56 X=-(R1+XBEZ) Y=0 D1
N829 Z10 M3 M8
N830 G1 Z0 F=FUS
N831 G1 X=140+R1+XBEZ F=R93  ;F=TF
N832 G0 Z20
N833 ATRANS Y=POM_Y
N834 REPEAT SKOK_29 P=1
N835 SMENA_Z
N836 
N837 ST34: WORK_STEP(34)
N838 T="16.2" M6
N839 MSG("T16.2(2/16)-FREZA SHPON.D=12 MIN=55_MM RAB.(2234-0367),WORK_STEP(34)")
N840 R1=12/2  ;RAD.FREZI L=58MM_MIN
N841 ;******************************************** T16.2
N842 G0 G56 B180
N843 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N844 REGIME(18,12,2,0.05)
N845 SKOK_34:G0 G56 X58 Y25 D1
N846 Z10 M3 M8
N847 G1 Z-48 F=R93*7   ;F=TF*5
N848 Z-56.5  F=R93          ;F=TF
N849 G4 F0.5
N850 G0 Z50
N851 ATRANS Y=POM_Y
N852 REPEAT SKOK_34 P=1
N853 SMENA_Z
N854 ST35: WORK_STEP(35)
N855 T="14.2" M6
N856 MSG(" T14.2(2/14)-SVERLO D=10.8,WORK_STEP(35)")
N857 ;************************************************ T16.1
N858 G0 G56 B180
N859 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N860 REGIME(15,10.8,2,0.1)
N861 SKOK_35:G0 G56 X58 Y25 D1
N862 Z50 M3 M8
N863 CYCLE83(50,-55,ZBEZ*1.5,,22,,8,5,,,1,1) 
N864 G0 Z50
N865 ATRANS Y=POM_Y
N866 REPEAT SKOK_35 P=1
N867 SMENA_Z
N868 ST36: WORK_STEP(36)
N869 T="18.1" M6
N870 ;N767 MSG(" T18.1(1/18)-FREZA D=20(2217-6008 2-PL(TPGN 110204 8026),WORK_STEP(36) ")
N871 MSG(" T18.1(1/18)-CEKOVKA D=30(WORK_STEP(36)")
N872 R1=20/2  ;RAD.FREZI
N873 ;*************************************************** T18.1
N874 G0 G56 B180
N875 TRANS X=X_B180 Z=Z_B180 Y=Y_B180           ; B180_!!!
N876 REGIME(250,20,2,0.08)
N877 ;REGIME(40,30,4,0.03)
N878 ;******_4_OTV. D=30+0.33******_
N879 SKOK_36:G0 G56 X36 Y-26 D1
N880 Z10 M3 M8
N881 MCALL KRUG
N882 ; MCALL CYCLE82(10,0,ZBEZ,,2.15,2)
N883 X36 Y-26           ;1_OTV
N884 X80 Y-26           ;2_OTV
N885 X58 Y26            ;3_OTV  D=10.8+0.19/-0.05 Y25 !!!
N886 X104 Y26           ;4_OTV
N887 MCALL
N888 G0 Z50
N889 ATRANS Y=POM_Y
N890 REPEAT SKOK_36 P=1
N891 SMENA_Z
N892 ST37: WORK_STEP(37)
N893 T="1.1" M6
N894 MSG("T1.1(1/1)-SVERLO CENTR. D=20<90_GR,WORK_STEP(37)")
N895 ;************************************************* T1.1
N896 G0 G56 B90
N897 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N898 ;******_4_OTV. D=8.43+0.22************************_
N899 BOL_SKOK_37:REGIME(16,15,2,0.08)
N900 SKOK_37:G0 G56 X-25 Y-25 D1
N901 Z100 M3 M8
N902 MCALL CYCLE82(10,ZPRIPUSK,ZBEZ,,9/2,0.2)
N903 X-25 Y-25           ;1_OTV
N904 X25  Y-25           ;2_OTV
N905 X25  Y25            ;3_OTV
N906 X-25 Y25            ;4_OTV
N907 MCALL
N908 G0 Z100
N909 ATRANS Y=POM_Y
N910 REPEAT SKOK_37 P=1
N911 SMENA_Z
N912 G0 G56 B270
N913 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N914 AMIRROR X0
N915 REPEAT BOL_SKOK_37 P=1
N916 SMENA_Z
N917 GBTOCHECKATTC = TRUE 
N918 GBERRMSGONTOCHECK = TRUE
N919 ;*********************************
N920 ST38: WORK_STEP(38)
N921 T="17.1" M6
N922 MSG("T17.1(1/17) -SVERLO D=8.43+0.22,WORK_STEP(38) ")
N923 ;******************************************* T17.1
N924 G0 G56 B270
N925 TRANS X=X_B270 Z=Z_B270 Y=Y_B270           ; B270_!!!
N926 WAIT_TO_CHECK
N927 ;******_4_OTV. D=8.43+0.22************************_
N928 BOL_SKOK_38:REGIME(15,8.5,2,0.1)
N929 SKOK_38:G0 G56 X-25 Y-25 D1
N930 Z100 M3 M8
N931 MCALL CYCLE83(5,ZPRIPUSK,ZBEZ,,19.2,,4,3,,,0.85,1)
N932 X-25 Y-25           ;1_OTV
N933 X25  Y-25           ;2_OTV
N934 X25  Y25            ;3_OTV
N935 X-25 Y25            ;4_OTV
N936 MCALL
N937 G0 Z100
N938 ATRANS Y=POM_Y
N939 REPEAT SKOK_38 P=1
N940 SMENA_Z
N941 G0 G56 B90
N942 TRANS X=X_B90 Z=Z_B90 Y=Y_B90              ; B90_!!!
N943 AMIRROR X0
N944 REPEAT BOL_SKOK_38 P=1
N945 SMENA_Z
N946 GBTOCHECKATTC = TRUE 
N947 GBERRMSGONTOCHECK = TRUE
N948 ;***********************************
N949 ST381: WORK_STEP(381)
N950 T="30.2" M6
N951 MSG("T30.2 ZENKOVKA D=22<120_GR D1 NA D=12.75,WORK_STEP(381) ")
N952 ;*************************************************
N953 G0 G56 B90
N954 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N955 ;******_4_OTV. D=8.43+0.22************************_
N956 BOL_SKOK_381:REGIME(8,12.75,6,0.03)
N957 SKOK_381:G0 G56 X-25 Y-25 D1
N958 Z100 M3 M8
N959 MCALL CYCLE82(10,ZPRIPUSK,5,,0.01,2)
N960 X-25 Y-25           ;1_OTV
N961 X25  Y-25           ;2_OTV
N962 X25  Y25            ;3_OTV
N963 X-25 Y25            ;4_OTV
N964 MCALL
N965 G0 Z100
N966 ATRANS Y=POM_Y
N967 REPEAT SKOK_381 P=1
N968 SMENA_Z
N969 G0 G56 B270
N970 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N971 AMIRROR X0
N972 REPEAT BOL_SKOK_381 P=1
N973 SMENA_Z
N974 GBTOCHECKATTC = TRUE 
N975 GBERRMSGONTOCHECK = TRUE
N976 ST39: WORK_STEP(39)
N977 T="17.2" M6
N978 MSG("T17.2(2/17)-METCH.M10*1.5,WORK_STEP(39) ")
N979 ;*************************************************** T17.2
N980 G0 G56 B90
N981 TRANS X=X_B90 Z=Z_B90 Y=Y_B90           ; B90_!!!
N982 WAIT_TO_CHECK
N983 ;******_4_OTV.REZBA M10*1.5************************_
N984 BOL_SKOK_39:REGIME(5,10,1,1.5) ;5_METR(S159.235 F238.8)
N985 SKOK_39:G0 G56 X-25 Y-25 D1 
N986 Z100 M3 M8
N987 MCALL  CYCLE840(20,ZPRIPUSK,ZBEZ*2,-18.7,,,4,3,1,0,)
N988 X-25 Y-25           ;1_OTV
N989 X25  Y-25           ;2_OTV
N990 X25  Y25            ;3_OTV
N991 X-25 Y25            ;4_OTV
N992 MCALL
N993 G0 Z100
N994 ATRANS Y=POM_Y
N995 REPEAT SKOK_39 P=1
N996 SMENA_Z
N997 G0 G56 B270
N998 TRANS X=X_B270 Z=Z_B270 Y=Y_B270              ; B270_!!!
N999 AMIRROR X0
N1000 REPEAT BOL_SKOK_39 P=1
N1001 SMENA_Z 
N1002 END_B90:
N1003 SMENA_Z
N1004 ;**********************************************************
N1005 MSG("POLUCHI GOTOVUYU,GODNUYU DETAL")
N1006 ;**********************************************************
N1007 WORK_DONE
N1008 GOTOF _ENDE
N1009 ST999:TO_BROKEN
N1010  _ENDE:T0 M6
N1011 M91
N1012 WORK_STEP(0)
N1013 ; MSG("PIPEC PROGRAMME *** VSE DOMOY ***")
N1014 R98=$AC_TIMER[1]
N1015 ;N68 R98=R98/60  ;CYCLE TIME/MIN
N1016 M30
N1017 _PROVERKA:
N1018 ;*G54/G55/G56* X-CENTR STOLA,Y-PLOSKOST PALETI,Z-CENTR STOLA
N1019 $P_UIFR[1]=CTRANS(X,0,Y,0.5,Z,0,B,0)  ;  G54 B180
N1020 $P_UIFR[2]=CTRANS(X,0,Y,0.5,Z,0,B,270);  G55 B270
N1021 $P_UIFR[3]=CTRANS(X,0,Y,0.5,Z,0,B,90) ;  G56 B90
N1022 ;*************************************
N1023 ZAG=75-0.74/2      ;74.63 
N1024 ZPRIPUSK=1.3/2    ;PRIPUSK NA CEX V "CGA" (TORCI B90/B270)
N1025 ZBEZ=3
N1026 XBEZ=10
N1027 YBEZ=7
N1028 ;****************B180 ****************
N1029 Y_B180=201+44              ;OS_Y TRANS
N1030 POM_Y=666-201              ;ATRANS VVERXN.DETALI PO OS_Y 
N1031 X_B180=630/2-367-18        ;OS_X TRANS  ;-52-18=-70
N1032 Z_B180=630/2-85+ZAG        ;OS_Z TRANS  ;304.63 (85+/-0.03)
N1033 ;****************B90 ****************
N1034 Y_B90=Y_B180               ;OS_Y TRANS
N1035 X_B90=Z_B180-(37-0.39/2)   ;OS_X TRANS ;304.63-36.805=267.825
N1036 Z_B90=ABS(X_B180)          ;OS_Z TRANS ;52+18=70
N1037 ;****************B270 ****************
N1038 Y_B270=Y_B180               ;OS_Y TRANS
N1039 X_B270=-X_B90               ;OS_X TRANS ;-267.825
N1040 Z_B270=-Z_B90+(140)  ;OS_Z TRANS ;
N1041 Y_B180=Y_B180
N1042 ;*************************************
N1043 STOPRE
N1044 ;******_2_DETALI******STORONA B180****G54****************_
N1045 ;*PORAYDOK OBRABOTKI***METKA***MAGAZIN/GNEZDO*******NALADKA INSTRUMENTA******
N1046  IF WORKING_STEP<=1   GOTOB ST1  ;T5.2(2/5)-FREZA CHERN.D=100
N1047  M91 ;POKA NEZAK-CA CMENA PALET 
N1048 ;;;NET IF WORKING_STEP==2   GOTOB ST2  ;T21.1(1/21)-FREZA CHIST.D=100
N1049  IF WORKING_STEP==3   GOTOB ST3  ;T2.2(2/2)-FREZA CHIST.D=160
N1050  IF WORKING_STEP==4   GOTOB ST4  ;T1.1(1/1)-SV.CENTR.D=20<90
N1051  IF WORKING_STEP==5   GOTOB ST5  ;T2.1(1/2)-SVERLO  D=13+0.43
N1052  IF WORKING_STEP==6   GOTOB ST6  ;T15.1(1/15)SVERLO D=19+0.52
N1053  IF WORKING_STEP==7   GOTOB ST7  ;T15.2(2/15)SVERLO D=21+0.52
N1054  IF WORKING_STEP==8   GOTOB ST8  ;T16.2(2/16)-FREZA SHP.D=12 
N1055  IF WORKING_STEP==9   GOTOB ST9  ;T16.1(1/16) -SVERLO D=10.8
N1056  IF WORKING_STEP==10  GOTOB ST10 ;T18.1(1/18)-FREZA D=20 
N1057  IF WORKING_STEP==11  GOTOB ST11 ;POV-R NA B270/B90 T1.1(1/1)-SVERLO CENTR.
N1058  IF WORKING_STEP==12  GOTOB ST12 ;T17.1(1/17)-SVE.D=8.43+0.22
N1059  IF WORKING_STEP==121  GOTOB ST121 ;ZENKOVKA D=22<120_GR D1 NA D=12.75
N1060  IF WORKING_STEP==13  GOTOB ST13 ;T17.2(2/17)-METCH.M10*1.5
N1061 ;******_+2_DETALI******STORONA B270****G55******_
N1062  IF WORKING_STEP==14 GOTOB ST14 ;T5.2(2/5)-FREZA CHERN.D=100 
N1063 ;;;NET IF WORKING_STEP==15 GOTOB ST15  ;T5.1(1/5)-FREZA CHIST.D=100
N1064  IF WORKING_STEP==16 GOTOB ST16  ;T2.2(2/2)-FREZA CHIST.D=160
N1065  IF WORKING_STEP==17 GOTOB ST17  ;T1.1(1/1)-SV.CENTR.D=20<90
N1066  IF WORKING_STEP==18 GOTOB ST18  ;T2.1(1/2)-SVERLO  D=13+0.43
N1067  IF WORKING_STEP==19 GOTOB ST19  ;T15.1(1/15)SVERLO D=19+0.52
N1068  IF WORKING_STEP==20 GOTOB ST20  ;T15.2(2/15)SVERLO D=21+0.52
N1069  IF WORKING_STEP==21 GOTOB ST21  ;T16.2(2/16)-FREZA SHP.D=12 
N1070  IF WORKING_STEP==22 GOTOB ST22  ;T16.1(1/16) -SVERLO D=10.8
N1071  IF WORKING_STEP==23 GOTOB ST23  ;T18.1(1/18)-FREZA D=20 
N1072  IF WORKING_STEP==24 GOTOB ST24  ;POV-R NA B270/B90 T1.1(1/1)-SVERLO CENTR.
N1073  IF WORKING_STEP==25 GOTOB ST25  ;T17.1(1/17)-SV.D=8.43+0.22
N1074  IF WORKING_STEP==251  GOTOB ST251 ;ZENKOVKA D=22<120_GR D1 NA D=12.75
N1075  IF WORKING_STEP==26 GOTOB ST26  ;T17.2(2/17)-METCH.M10*1.5
N1076 ;****_+2_DETALI******STORONA B90******_G56******
N1077  IF WORKING_STEP==27 GOTOB ST27 ;T5.2(2/5)-FREZA CHERN.D=100 
N1078 ;;;NET IF WORKING_STEP==28 GOTOB ST28  ;T21.1(1/21)-FREZA CHIST.D=100
N1079  IF WORKING_STEP==29 GOTOB ST29  ;T2.2(2/2)-FREZA CHIST.D=160
N1080  IF WORKING_STEP==30 GOTOB ST30  ;T1.1(1/1)-SV.CENTR.D=20<90
N1081  IF WORKING_STEP==31 GOTOB ST31  ;T2.1(1/2)-SVERLO D=13+0.43
N1082  IF WORKING_STEP==32 GOTOB ST32  ;T15.1(1/15)SVERLO D=19+0.52
N1083  IF WORKING_STEP==33 GOTOB ST33  ;T15.2(2/15)SVERLO D=21+0.52
N1084  IF WORKING_STEP==34 GOTOB ST34  ;T16.2(2/16)-FREZA SHP.D=12 
N1085  IF WORKING_STEP==35 GOTOB ST35  ;T16.1(1/16) -SVERLO D=10.8
N1086  IF WORKING_STEP==36 GOTOB ST36  ;T18.1(1/18)-FREZA D=20 
N1087  IF WORKING_STEP==37 GOTOB ST37  ;POV-R NA B270/B90 T1.1(1/1)-SVERLO CENTR.
N1088  IF WORKING_STEP==38 GOTOB ST38  ;T17.1(1/17)-SV.D=8.43+0.22
N1089  IF WORKING_STEP==381  GOTOB ST381 ;ZENKOVKA D=22<120_GR D1 NA D=12.75
N1090  IF WORKING_STEP==39 GOTOB ST39  ;T17.2(2/17)-METCH.M10*1.5
N1091  IF WORKING_STEP==999  GOTOB ST999
N1092 ENDIF
N1093 AA: MSG("NEVERNIY ETAP OBRABOTKI")
N1094 M0
N1095 GOTOB AA
N1096 GOTOB START_1
N1097 ;NE UDOLAYT VSE RABOTAET
