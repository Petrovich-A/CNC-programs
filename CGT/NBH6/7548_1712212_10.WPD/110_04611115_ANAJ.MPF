N1 ;detal 7548-1712212 korpus zolotnikov 
N2 ;OPER 110 -- YSTANOV I+II=I -- B0/B180 -- prilada 7274-6381
N3 ;STANOK nbh-6 INV_12506
N4 ;VASILEVSKI A.I. (22.05.2014) VNEDRIL ANAJ
N5 ;TC A1= _MIN/A2= _MIN; TC A3= _MIN/A4= _MIN (NA KAZHDUYU USTANOVKU,(DETAL_A1(B0),DETAL_A2(BB0),DETAL_A3(B180),DETAL_A4(BB180))
N6 DEF REAL POM_Y,FUS=3000,ZBEZ,ZPRIPUSK,XBEZ,YBEZ,ZAG,RO,X_B0,Y_B0,Z_B0,X_BB0,Y_BB0,Z_BB0,X_B180,Y_B180,Z_B180,X_BB180,Y_BB180,Z_BB180,dpr,kp,zzbez,TF,TS,STOP_TIMER;
N7 DEFINE SMENA_Z AS g0 g53 z930 d0 M9 m5 
N8 $AC_TIMER[1]=0  ;cikl starta time/min
N9 ;***************************************************
N10 ;___detal_A1 _storona B0_____KRYGLIJ PALEC
N11 R11=385-630/2-0.13  ;os_x palca 
N12 R21=500.690+0.13          ;os_y palca 
N13 R31=480-630/2-0.027  ;os_z torec placika
N14 ;___detal_A2 _storona BB0_____KRYGLIJ PALEC
N15 R12=245-630/2-0.12  ;os_x palca 
N16 R22=500.690+0.11      ;os_y palca 
N17 R32=480-630/2        ;os_Z torec placika 
N18 ;___detal_A3 _storona B180_____KRYGLIJ PALEC
N19 R13=-245+630/2+0.22  ;os_x palca -0.18
N20 R23=500.670+0.09          ;os_y palca 
N21 R33=630/2-150.013    ;os_z torec placika
N22 ;___detal_A4 _storona BB180_____KRYGLIJ PALEC
N23 R14=-385+630/2+0.19 ;os_x palca -0.22
N24 R24=500.760+0.118          ;os_y palca 
N25 R34=630/2-150.079    ;os_Z torec placika
N26 ;***************************************************
N27 GOTOF _proverka
N28 START_1:
N29 MSG("ZAGRUGENI LI DETALI A1/A3????")
N30 M0
N31 ; ********rabota*********G54  
N32 ;___detal_A1 _storona B0
N33 ST1: WORK_STEP(1)
N34 G0 G54 G17 G40 G90 G94
N35 T="27.2" M6
N36 MSG("T=27.2(2/27) FREZA D=20,WORK_STEP(1) ")
N37 R1=20/2  ;rad.frezi
N38 ;************************************************
N39 G0 G54 B0
N40 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N41 REGIME(150,20,2,0.09)
N42 G54 X0 Y0 d1 m3
N43 Z10 m8
N44 POCKET2(7,0,5,,3.4,15.13,0,0,r93*0.5,r93,,2,,2)
N45 POCKET2(7,0,5,,6.7,15.13,0,0,r93*0.5,r93,,2,,2)
N46 POCKET2(7,0,5,,10.23,15.13,0,0,r93*0.5,r93,,2,,2)
N47 POCKET2(7,0,5,,3.4,15.13,-87,0,r93*0.5,r93,,2,,2)
N48 POCKET2(7,0,5,,6.7,15.13,-87,0,r93*0.5,r93,,2,,2)
N49 POCKET2(7,0,5,,10.23,15.13,-87,0,r93*0.5,r93,,2,,2)
N50 SMENA_Z
N51 MSG("MERITI D=26+0.52_L=...")
N52 M0;*********MERITI D=26+0.52_L=...****
N53 ;ST5: WORK_STEP(5)
N54 ;SMENA_Z
N55 ;G0 G54 G17 G40 G90 G94
N56 ;T6 M6
N57 ;MSG("T6(1/1) FREZA D=40,WORK_STEP(5) ")
N58 ;R1=40/2  ;rad.frezi
N59 ;************************************************
N60 ;G0 G54 B0
N61 ;TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N62 ;REGIME(110,40,3,0.047)
N63 ;X-87 Y-38 D1 M3
N64 ;Z3 M8
N65 ;G1 Z-9.5 F=r93*1.5
N66 ;y-7 F=r93
N67 ;G0 Z3
N68 ;X0 Y-38
N69 ;G1 Z-9.5 F=r93*1.5
N70 ;y-7 F=r93
N71 ;g0 z50 m9
N72 ;SMENA_Z
N73 ST10: WORK_STEP(10)
N74 T="2.1" M6
N75 MSG("T=2.1(1/2)SVERLO CENTR d=16/90 ,WORK_STEP(10) ")
N76 ;***************************************************
N77 G0 G54 B0
N78 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N79 REGIME(19,16,2,0.1)
N80 G0 G54 X39 Y261 D1 M3 M8
N81 CYCLE82(30,0,ZBEZ,,5.6,1)
N82 X39 Y261
N83 ;X13 Y58
N84 X-17 Y163
N85 MCALL CYCLE82(5,0,zbez,,3.1,2)
N86 X-17 Y163
N87 X-5 Y191
N88 MCALL
N89 X-49 Y174
N90 CYCLE82(5,0,zbez,,3.1,2)
N91 ;X-22 Y192            ;7556
N92 ;CYCLE82(5,0,zbez,,4.2,1)      ;7556
N93 ;x-29 y261;ANAJ
N94 ;CYCLE82(5,0,zbez,,13.25,1)
N95 x-16 y29
N96 CYCLE82(5,0,ZBEZ,,7,1)
N97 ;X-47 Y232
N98 ;CYCLE82(25,-(18+2),zbez*3,,7,1)
N99 SMENA_Z
N100 ST15: WORK_STEP(15)
N101 T="6.2" M6
N102 MSG("T=6.2(2/6)FREZA d=10 ,WORK_STEP(15) ")
N103 ;***************************************************
N104 G0 G54 B0
N105 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N106 REGIME(90,10,4,0.06)
N107 G0 G54 X-47 Y232  D1 M3
N108 POCKET2(25,-(18+2),zbez*3,,3,7,-47,232,R93,R93,3,2,0,2)
N109 SMENA_Z
N110 ST20: WORK_STEP(20)
N111 T="3.1" M6
N112 MSG("T3.1(1/3) SVERLO D=13+0.27 ,WORK_STEP(20) ")
N113 ;*************************************************** 
N114 G0 G54 B0
N115 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N116 REGIME(21,13,2,0.075)
N117 WAIT_TO_CHECK 
N118 G0 G54 X-47 Y232 D1 M3 M8
N119 CYCLE83(25,-18,9,,50-21.7,,15,10,0,0,1,1) 
N120 ;REGIME(18,13,2,0.08) 
N121 ;WAIT_TO_CHECK 
N122 ;G0 G54 X-87 Y232 D1 M3 ; PALCI STARIE
N123 ;MCALL CYCLE83(30,0,ZBEZ,,42,,10,7,,,1,1,3,,,,)
N124 ;X-87 Y232 M8
N125 ;X13 Y58
N126 ;MCALL
N127 G0 Z30 M9
N128 SMENA_Z
N129 ST25: WORK_STEP(25)
N130 T="4.1" M6
N131 MSG("T4.1(1/4) SVERLO D=6**NA,L=8+1.WORK_STEP(25)")
N132 ;***************************************************
N133 G0 G54 B0
N134 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N135 REGIME(16,6,2,0.073)
N136 G0 G54 X-17 Y163 m8 D1 M3
N137 CYCLE82(5,0,5,,8,1)
N138 X-49 Y174
N139 CYCLE83(5,0,5,,50.5,,15,10,0,0,1,1,3,,,,)
N140 X-5 Y191
N141 CYCLE83(5,0,5,,34.5,,10,10,0,0,1,1,3,,,,)
N142 SMENA_Z
N143 ST30: WORK_STEP(30)
N144 T="13.2" M6
N145 MSG("T13.2(2/13)SVERLO D=10.8* L=17 D=10.7+0.2.WORK_STEP(30)")
N146 ;***************************************************
N147 G0 G54 B0
N148 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N149 REGIME(21,10.8,2,0.073)
N150 G0 G54 X-16 Y29 D1 M3
N151 Z8 M8
N152 G1 Z-17 F=r93
N153 G0 Z30 M9
N154 SMENA_Z
N155 ;ST35: WORK_STEP(35)     ;!!!!PRIZHIMI!!!!!!!
N156 ;T="1.2" M6
N157 ;MSG("T1.2 KOMBIN D1=SV=8.5_L=28/D2=CEKOVKA_D=28*WORK_STEP(35)")
N158 ;*************************************************** T8.1
N159 ;G0 g54 B0
N160 ;TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N161 ;REGIME(130,28,2,0.07)    ;D1=SV=8.5_L=28
N162 ;G0 G55 X39 Y261 D1 M3    ;D1  
N163 ;M7       
N164 ;CYCLE82(70,0,13+28,,20.5,1)  
N165 ;REGIME(80,8.5,2,0.11)   ;D1=SV=8.5_L=28
N166 ;G0 G55 X-49 Y174 m7 D1 M3  
N167 ;CYCLE82(25,0,12,,16.5,0)
N168 ;SMENA_Z
N169 ST35: WORK_STEP(35) ; VMESTO ANAJ pic ý-ý
N170 T="14.2" M6
N171 MSG("T=14.2(2/14)SVERLO D=8.3*NA L=20 D=8.43+0.2*WORK_STEP(35)")
N172 ;***************************************************
N173 G0 G54 B0
N174 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N175 REGIME(18,8.3,2,0.073)
N176 G0 G54 X39 Y261 D1 M3 M8
N177 CYCLE82(15,-7,6,,13.5,1)
N178 X39 Y261
N179 X-49 Y174
N180 CYCLE82(15,0,5,,16.55,1)
N181 SMENA_Z
N182 ;ST37: WORK_STEP(37)     ;7556
N183 ;T="5.1" M6        ;7556
N184 ;MSG("T=5.1(1/5)SVERLO D=8****NA L=26 .WORK_STEP(37) ")      ;7556
N185 ;***************************************************
N186 ;G0 G54 B0       ;7556
N187 ;TRANS X=X_B0 Z=Z_B0 Y=Y_B0       ;7556
N188 ;REGIME(18,8,2,0.073)       ;7556
N189 ;G0 G54 X-22 Y192 D1 M3 M8      ;7556
N190 ;CYCLE82(5,0,5,,26,1)       ;7556
N191 ;SMENA_Z         ;7556
N192 ;ST45: WORK_STEP(45)   
N193 ;T="20.2" M6    
N194 ;MSG("T=20.2(2/20)CEKOVKA D=26*L=58-0.46 D=26+0.52*WORK_STEP(45)") 
N195 ;*************************************************** 
N196 ;G0 G54 B0  
N197 ;TRANS X=X_B0 Z=Z_B0 Y=Y_B0 
N198 ;REGIME(20,26,4,0.045)   
N199 ;G0 G54 X-87 Y0 D1 M3  
N200 ;MCALL CYCLE82(5,0,zbez,,10,1) 
N201 ;X-87 Y0 M8   
N202 ;X0 Y0   
N203 ;MCALL   
N204 ;G0 Z40 M9  
N205 ;SMENA_Z
N206 ;ST50: WORK_STEP(50)  ;7556
N207 ;T="7.1" M6   ;7556
N208 ;MSG("T=7.1(1/7) FREZA D=8(4_zub)L=10.5+/-0.215,WORK_STEP(50)")  ;7556
N209 ;R1=8/2  ;rad.frezi   ;7556
N210 ;************************************************
N211 ;G0 G54 B0   ;7556
N212 ;TRANS X=X_B0 Z=Z_B0 Y=Y_B0   ;7556
N213 ;REGIME(70,8,4,0.05)   ;7556
N214 ;X-22 Y192 D1 M3   ;7556
N215 ;Z5    ;7556
N216 ;g1 z0 f=fus    ;7556
N217 ;DPR=10.5 KP=3 zzbez=dpr+zbez*2    ;7556
N218 ;fr_8:G1Z=IC(-DPR/KP) F=r93*2     ;7556
N219 ;X26 F=r93     ;7556
N220 ;g0 z=ic(zzbez)    ;7556
N221 ;X-22    ;7556
N222 ;g1 z=ic(-zzbez) f=fus/2    ;7556
N223 ;REPEAT fr_8 P=KP-1     ;7556
N224 ;g0 z50 m9    ;7556
N225 ;SMENA_Z    ;7556
N226 MSG("PROVER GODNOST DETALI A1!!!!")
N227 M0
N228 ;************************************************
N229 M192
N230 MSG("PEREUSTONOVIT DETAL A1  NA __A2!!!!")
N231 M0
N232 M193
N233 ;___detal_A2 _storona B0
N234 ;************************************************
N235 ST55: WORK_STEP(55)
N236 T="2.1" M6
N237 MSG("T=2.1(1/2) SVERLO CENTR.  D=16<90,WORK_STEP(55) ")
N238 ;************************************************
N239 G0 G54 B0
N240 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N241 REGIME(25,16,2,0.076)        ; S500 F75 
N242 G0 G54 X49 Y270 D1 M3
N243 m8
N244 ;-----gruppa otv na d13-------------- SMOTRI PRIGIMI
N245 CYCLE82(35,0,zbez,,6.9,1)
N246 X49 Y270   ;1 d=13+0.035
N247 ;X87 Y232   ;2 d=13+0.035
N248 ;-----gruppa otv na d6--------------
N249 REGIME(19,16,2,0.1)
N250 X-39 Y203
N251 MCALL CYCLE82(5,0,zbez,,3.1,2)
N252 X-39 Y203
N253 X-39 Y253
N254 Z50 ;SMOTRI PRIGIMI
N255 X18 Y213
N256 X29 Y220
N257 X110 Y210
N258 Z50
N259 X107 Y273
N260 MCALL
N261 ;-----gruppa otv na d10--------------
N262 X3 Y251
N263 MCALL CYCLE82(5,0,zbez,,5.18,2)
N264 X3 Y251
N265 X-22 Y270
N266 MCALL
N267 SMENA_Z
N268 ;******************************* p-p E-E OTV. D=14+0.043***
N269 ST60: WORK_STEP(60)
N270 T="3.1" M6
N271 MSG("T3.1(1/3) SVERLO D=13****NA L=15*,WORK_STEP(60) ")
N272 ;***************************************************
N273 G0 G54 B0
N274 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N275 REGIME(21,13,2,0.073)
N276 WAIT_TO_CHECK 
N277 G0 G54 X-13 Y-14 D1 M3
N278 Z8 M8
N279 G1 Z-15 F=r93
N280 G0 Z35
N281 REGIME(18,13,2,0.075)
N282 WAIT_TO_CHECK 
N283 G0 G54 X49 Y270 D1 M3
N284 CYCLE83(30,0,ZBEZ,,35,,10,7,,,1,1,3,,,,)
N285 X49 Y270 M8
N286 SMENA_Z
N287 ST65: WORK_STEP(65)
N288 T="18.1" M6
N289 MSG("T=18.1(1/18)SVERLO D=13.8<180*L=20+0.21***,WORK_STEP(65) ")
N290 ;***************************************************
N291 G0 G54 B0
N292 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N293 REGIME(14,13.8,2,0.05)
N294 G0 G54 X-13 Y-14 D1 M3
N295 M8
N296 CYCLE82(3,0,3,,20.1,1)
N297 SMENA_Z
N298 ST70: WORK_STEP(70)
N299 T="18.2" M6
N300 MSG("T=18.2(2/18)RAZVERTKA D=14+0.045 ,WORK_STEP(70) ")
N301 ;***************************************************
N302 G0 G54 B0
N303 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N304 REGIME(10,14,5,0.036)
N305 G0 G54 X-13 Y-14 D1 M3
N306 Z6 M8
N307 G1 Z-18.5 F=r93
N308 Z6 F=r93*5
N309 G0 Z30 M9
N310 SMENA_Z
N311 ST75: WORK_STEP(75)
N312 T="19.1" M6
N313 MSG("T=19.1(1/19)FREZA D=13**NA L=1.35+0.12-0.1,WORK_STEP(75)")
N314 ;***************************************************
N315 G0 G54 B0
N316 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N317 REGIME(19,13,2,0.03)
N318 G0 G54 X-13 Y-31 D1 M3
N319 ATRANS X-13 Y-31
N320 X0 Y0
N321 Z=zbez M8
N322 G1 Z-1.35 F=r93
N323 G1 G42 X6.55 Y0
N324 G2 X6.55 Y0 I=AC(0) J=AC(0) F=r93*4
N325 G1 G40 X0 Y0
N326 SMENA_Z
N327 ST80: WORK_STEP(80)
N328 T="17.2" M6
N329 MSG("T17.2(2/17) SVERLO D=10.2*m12*6h,L=20min,WORK_STEP(80)")
N330 ;*************************************************** T16
N331 G0 g54 B0
N332 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N333 REGIME(20,10.2,2,0.065)
N334 G0 G54 X3 Y251 D1 M3 M8
N335 MCALL CYCLE81(35,0,zbez*2,,28)
N336 X3 Y251         ;1-OTV (POD  GRUPU D=10+0.36_ 2-OTV)
N337 X-22 Y270         ;2-OTV (POD  GRUPU D=10+0.36_ 2-OTV)
N338  MCALL
N339 SMENA_Z
N340 ;ST81: WORK_STEP(81)    ;7556
N341 ;T="19.2" M6     ;7556
N342 ;MSG("T=19.2(2/19) FREZA D=14(2_zub),WORK_STEP(81)")   ;7556
N343 ;R1=14/2  ;rad.frezi    ;7556
N344 ;************************************************
N345 ;G0 G54 B0   ;7556
N346 ;TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0   ;7556
N347 ;REGIME(20,14,4,0.05)   ;7556
N348 ;******************************* p-p B-B***   ;7556
N349 ;g0 G54 x-20 y212 d1 m3   ;7556
N350 ;z10 m8   ;7556
N351 ;g1 z0 f=fus   ;7556
N352 ;DPR=11+0.43/2 KP=2 zzbez=dpr+zbez*2   ;7556
N353 ;fr_14:G1Z=IC(-DPR/KP) F=r93*2   ;7556
N354 ;g1 x-8.5 y226 F=r93    ;7556
N355 ;y250     ;7556
N356 ;x-35 y270      ;7556
N357 ;g0 z=ic(zzbez)       ;7556
N358 ;x-20 y212        ;7556
N359 ;g1 z=ic(-zzbez) f=fus/2         ;7556
N360 ;REPEAT fr_14 P=KP-1    ;7556
N361 ;g0 z50 m9      ;7556
N362 SMENA_Z
N363 ST85: WORK_STEP(85)
N364 T="4.1" M6
N365 MSG("T4.1(1/4) SVERLO D=6**NA,L=8+1.WORK_STEP(85)")
N366 ;*************************************************** T12
N367 G0 G54 B0
N368 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N369 REGIME(16,6,2,0.073)
N370 G0 G56 X110 Y210 m8 D1 M3           ;1
N371 MCALL CYCLE83(35,0,zbez*2,,27,,20,10,0,0,1,1)
N372 X110 Y210  
N373 X107 Y273    
N374 X-39 Y253   
N375 MCALL 
N376 X29 Y220  
N377 CYCLE83(35,0,zbez*2,,33.5,,20,10,0,0,1,1)
N378 G0 X18 Y213 
N379 Z=zbez*2
N380 G1 Z-11.5 F=r93  ;L=11+1
N381 G0 Z35
N382 X-39 Y203
N383 Z=zbez*2
N384 G1 Z-19 F=r93
N385 G0 Z35
N386 SMENA_Z
N387 ST90: WORK_STEP(90)
N388 T="11.2" M6
N389 MSG("T=11.2(2/11) FREZA D=6(3_zub),WORK_STEP(90)")
N390 R1=6/2  ;rad.frezi
N391 ;************************************************
N392 G0 G54 B0
N393 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N394 REGIME(70,6,3,0.045)
N395 g0 G54 x18 y213 d1 m3
N396 z10 ;m8
N397 g1 z0 f=fus
N398 DPR=5 KP=2 zzbez=dpr+zbez*2
N399 fr_6:G1Z=IC(-DPR/KP) F=r93*2
N400 g1 y251 F=r93
N401 g4 f=stop_timer
N402 g1 x15
N403 g4 f=stop_timer
N404 g0 z=ic(zzbez)
N405 x18 y213
N406 g1 z=ic(-zzbez) f=fus/2
N407 REPEAT fr_6 P=KP-1
N408 ;***********B=6+/-0.24****** p-p C-C***L=5+/-0.15 
N409 g0 z10 
N410 x61 y128
N411 g1 z0 f=fus
N412 DPR=5 KP=2 zzbez=dpr+zbez*2
N413 ffr_6:G1Z=IC(-DPR/KP) F=r93*2
N414 g1 x18 y-14 F=r93
N415 g4 f=stop_timer
N416 g0 z=ic(zzbez)
N417 x61 y128
N418 g1 z=ic(-zzbez) f=fus/2
N419 REPEAT ffr_6 P=KP-1
N420 g0 z50 m9
N421 SMENA_Z
N422 ST95: WORK_STEP(95)
N423 T="7.1" M6
N424 MSG("T=7.1(1/7) FREZA D=8(4_zub),WORK_STEP(95)")
N425 R1=8/2  ;rad.frezi
N426 ;************************************************
N427 G0 G54 B0
N428 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N429 REGIME(70,8,4,0.05)
N430 WAIT_TO_CHECK 
N431 ;******************************* p-p g-g VERH LEV***
N432 g0 G54 x3 y251 d1 m3
N433 z10 ;m8
N434 g1 z0 f=fus
N435 DPR=12+0.43/2 KP=4 zzbez=dpr+zbez*2             ;KP=3
N436 fr_8:G1Z=IC(-DPR/KP) F=r93*2
N437 g1 X15 F=r93
N438 g0 z=ic(zzbez)
N439 x3 y251
N440 g1 z=ic(-zzbez) f=fus/2
N441 REPEAT fr_8 P=KP-1
N442 ;******************************* p-p g-g VERH PRAVO***
N443 g0 z=zbez*2
N444 x-22 y270
N445 g1 z0 f=fus
N446 DPR=12+0.43/2 KP=4 zzbez=dpr+zbez*2             ;KP=3
N447 ffr_8:G1Z=IC(-DPR/KP) F=r93*2
N448 g1 x-35 F=r93
N449 g0 z=ic(zzbez)
N450 x-22 y270
N451 g1 z=ic(-zzbez) f=fus/2
N452 REPEAT ffr_8 P=KP-1
N453 ;******************************* p-p M-M***
N454 g0 z=zbez*2
N455 x49 y270
N456 g1 z0 f=fus
N457 DPR=12+0.43/2 KP=3 zzbez=dpr+zbez*2  
N458 fffrr_8:G1Z=IC(-DPR/KP) F=r93*2
N459 g1 y287 F=r93
N460 g4 f=stop_timer
N461 X-1
N462 g4 f=stop_timer
N463 g0 z=ic(zzbez)
N464 x49 y270
N465 g1 z=ic(-zzbez) f=fus/2
N466 REPEAT fffrr_8 P=KP-1
N467 g0 z50 m9
N468 SMENA_Z
N469 ST100: WORK_STEP(100)
N470 T="11.2" M6
N471 MSG("T=11.2(2/11) FREZA D=6(3_zub),WORK_STEP(100)")
N472 R1=6/2  ;rad.frezi
N473 ;************************************************
N474 G0 G54 B0
N475 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N476 REGIME(70,6,3,0.045)            ;REGIME(25,6,2,0.025)
N477 ;**B=6+/-0.24****** p-p M-M***L=5+/-0.15 1_chast_paza nijn
N478 g0 g56 x-39 y253 d1 m3
N479 z10 ;m8
N480 g1 z0 f=fus
N481 DPR=5 KP=2 zzbez=dpr+zbez*2
N482 ffrr_6:G1Z=IC(-DPR/KP) F=r93*2
N483 g1 x-43 F=r93
N484 g4 f=stop_timer
N485 g1 y203
N486 g4 f=stop_timer
N487 g0 z=ic(zzbez)
N488 x-39 y253 
N489 g1 z=ic(-zzbez) f=fus/2
N490 REPEAT ffrr_6 P=KP-1
N491 ;*B=6+/-0.24****** p-p M-M***L=5+/-0.15 2_chast_paza vverxn.
N492 g0 z10 
N493 x-39 y253 
N494 g1 z0 f=fus
N495 DPR=5 KP=2 zzbez=dpr+zbez*2
N496 fffrr_6:G1Z=IC(-DPR/KP) F=r93*2
N497 g1 X-9 F=r93
N498 g4 f=stop_timer
N499 g1 Y267
N500 g4 f=stop_timer
N501 g1 x29
N502 g4 f=stop_timer
N503 g1 y251
N504 g4 f=stop_timer
N505 g1 x70
N506 g4 f=stop_timer
N507 g1 y287
N508 g4 f=stop_timer
N509 g1 x85
N510 g4 f=stop_timer
N511 g0 z=ic(zzbez)
N512 x-39 y253 
N513 g1 z=ic(-zzbez) f=fus/2
N514 REPEAT fffrr_6 P=KP-1
N515 g0 z50 m9
N516 SMENA_Z
N517 ST105: WORK_STEP(105)
N518 T="6.2" M6
N519 MSG("T=6.2(2/6) FREZA D=10(4_zub),WORK_STEP(105)")
N520 R1=10/2  ;rad.frezi
N521 ;************************************************
N522 G0 G54 B0
N523 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N524 REGIME(90,10,3,0.06) ;SMOTRI KOL-VO ZYB'EV 
N525 WAIT_TO_CHECK 
N526 ;****paz  h=10+0.36***L=12+0.43**** p-p D-D***
N527 g0 G54 x79 y87 d1 m3
N528 z10 ;m8
N529 g1 z0 f=fus
N530 DPR=12+0.43/2 KP=3 zzbez=dpr+zbez*2          ;KP=3 
N531 fr_10:G1Z=IC(-DPR/KP) F=r93*2
N532 g1 x107 F=r93
N533 y143
N534 x29
N535 y149
N536 x21
N537 g0 z=ic(zzbez)
N538 x79 y87
N539 g1 z=ic(-zzbez) f=fus/2
N540 REPEAT fr_10 P=KP-1
N541 g0 z50 m9
N542 SMENA_Z
N543 ST110: WORK_STEP(110)
N544 T="11.1" M6
N545 MSG("T=11.1(1/11) FREZA D=20(2_zub),WORK_STEP(110)")
N546 R1=20/2  ;rad.frezi
N547 ;************************************************
N548 G0 G54 B0
N549 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N550 REGIME(20,20,2,0.05)
N551 WAIT_TO_CHECK 
N552 ;********paz h=20+0.52**L=18+1.1***** p-p D-D***
N553 g0 G54 x15 y174 d1 m3
N554 z10 m8
N555 g1 z0 f=fus
N556 DPR=18+1.1/2 KP=3 zzbez=dpr+zbez*2
N557 fr_20:G1Z=IC(-DPR/KP) F=r93*2
N558 g1 y177 F=r93
N559 x47
N560 g0 z=ic(zzbez)
N561 x15 y174
N562 g1 z=ic(-zzbez) f=fus/2
N563 REPEAT fr_20 P=KP-1
N564 G0 Z=ZBEZ*2
N565 X15 Y96;  edet na nizhnii paz
N566 G1 Z-25 F=FUS/2
N567 Z-35 F=R93
N568 g0 z50 m9
N569 SMENA_Z
N570 ST115: WORK_STEP(115)
N571 T="6.1" M6
N572 MSG("T=6.1(1/6) FREZA D=28(2_zub),WORK_STEP(115)")
N573 R1=28/2  ;rad.frezi
N574 ;************************************************
N575 G0 G54 B0
N576 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N577 REGIME(25,28,6,0.05)
N578 ;********paz h=28+/-0.42**L=35+/-0.5***** p-p D-D***
N579 g0 G54 x15 y96 d1 m3
N580 z10 m8
N581 g1 z0 f=fus
N582 DPR=35 KP=5 zzbez=dpr+zbez*2
N583 fr_28:G1Z=IC(-DPR/KP) F=r93*2
N584 g1 y123 F=r93
N585 G4 F2
N586 g0 z=ic(zzbez)
N587 x15 y96
N588 g1 z=ic(-zzbez) f=fus/2
N589 REPEAT fr_28 P=KP-1
N590 g0 z50 m9
N591 SMENA_Z
N592 MSG("PROVER GODNOST DETALI A2!!!!")
N593 M0
N594 MSG("ZAGRUGENA DETAL A3????")
N595 M0
N596 ; ********rabota*********G54  
N597 ;___detal_A3 _storona B180
N598 ST120: WORK_STEP(120)
N599 G0 G54 G17 G40 G90 G94
N600 T="27.2" M6
N601 MSG("T=27.2(2/27) FREZA D=20,WORK_STEP(120) ")
N602 R1=20/2  ;rad.frezi
N603 ;************************************************
N604 G0 G54 B180
N605 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N606 REGIME(150,20,2,0.09)
N607 G54 X0 Y0 d1 m3
N608 Z10 m8
N609 POCKET2(7,0,5,,3.4,13.13,0,0,r93*0.5,r93,,2,,2)
N610 POCKET2(7,0,5,,6.7,13.13,0,0,r93*0.5,r93,,2,,2)
N611 POCKET2(7,0,5,,10.23,13.13,0,0,r93*0.5,r93,,2,,2)
N612 POCKET2(7,0,5,,3.4,13.13,-87,0,r93*0.5,r93,,2,,2)
N613 POCKET2(7,0,5,,6.7,13.13,-87,0,r93*0.5,r93,,2,,2)
N614 POCKET2(7,0,5,,10.23,13.13,-87,0,r93*0.5,r93,,2,,2)
N615 SMENA_Z
N616 MSG("MERITI D=26+0.52_L=...")
N617 M0;*********MERITI D=26+0.52_L=...****
N618 ;ST5: WORK_STEP(5)
N619 ;SMENA_Z
N620 ;G0 G54 G17 G40 G90 G94
N621 ;T6 M6
N622 ;MSG("T6(1/1) FREZA D=40,WORK_STEP(125) ")
N623 ;R1=40/2  ;rad.frezi
N624 ;************************************************
N625 ;G0 G54 B180
N626 ;TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N627 ;REGIME(110,40,3,0.047)
N628 ;X-87 Y-38 D1 M3
N629 ;Z3 M8
N630 ;G1 Z-9.5 F=r93*1.5
N631 ;y-7 F=r93
N632 ;G0 Z3
N633 ;X0 Y-38
N634 ;G1 Z-9.5 F=r93*1.5
N635 ;y-7 F=r93
N636 ;g0 z50 m9
N637 ;SMENA_Z
N638 ST130: WORK_STEP(130)
N639 T="2.1" M6
N640 MSG("T=2.1(1/2)SVERLO CENTR d=16/90 ,WORK_STEP(130) ")
N641 ;***************************************************
N642 G0 G54 B180
N643 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N644 REGIME(19,16,2,0.1)
N645 G0 G54 X-87 Y232 D1 M3 M8
N646 MCALL CYCLE82(30,0,ZBEZ,,5.6,1)
N647 X-87 Y232
N648 X13 Y58
N649 X39 Y261
N650 MCALL
N651 X-17 Y163
N652 MCALL CYCLE82(5,0,zbez,,3.1,2)
N653 X-17 Y163
N654 X-5 Y191
N655 MCALL
N656 X-49 Y174
N657 CYCLE82(5,0,zbez,,3.1,2)
N658 ;X-22 Y192            ;7556
N659 ;CYCLE82(5,0,zbez,,4.2,1)      ;7556
N660 ;x-29 y261;ANAJ
N661 ;CYCLE82(5,0,zbez,,13.25,1)
N662 x-16 y29
N663 CYCLE82(5,0,ZBEZ,,7,1)
N664 ;X-47 Y232
N665 ;CYCLE82(25,-(18+2),zbez*3,,7,1)
N666 SMENA_Z
N667 ST135: WORK_STEP(135)
N668 T="6.2" M6
N669 MSG("T=6.2(2/6)FREZA d=10 ,WORK_STEP(135) ")
N670 ;***************************************************
N671 G0 G54 B180
N672 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N673 REGIME(90,10,4,0.06)
N674 G0 G54 X-47 Y232  D1 M3
N675 POCKET2(25,-(18+2),zbez*3,,3,7,-47,232,R93,R93,3,2,0,2)
N676 SMENA_Z
N677 ST140: WORK_STEP(140)
N678 T="3.1" M6
N679 MSG("T3.1(1/3) SVERLO D=13+0.27 ,WORK_STEP(140) ")
N680 ;*************************************************** 
N681 G0 G54 B180
N682 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N683 REGIME(21,13,2,0.075)
N684 WAIT_TO_CHECK 
N685 G0 G54 X-47 Y232 D1 M3 M8
N686 CYCLE83(25,-18,9,,50-21.7,,15,10,0,0,1,1) 
N687 REGIME(18,13,2,0.08) 
N688 WAIT_TO_CHECK 
N689 G0 G54 X-87 Y232 D1 M3 ; PALCI STARIE
N690 MCALL CYCLE83(30,0,ZBEZ,,42,,10,7,,,1,1,3,,,,)
N691 X-87 Y232 M8
N692 X13 Y58
N693 MCALL
N694 G0 Z30 M9
N695 SMENA_Z
N696 ST145: WORK_STEP(145)
N697 T="4.1" M6
N698 MSG("T4.1(1/4) SVERLO D=6**NA,L=8+1.WORK_STEP(145)")
N699 ;***************************************************
N700 G0 G54 B180
N701 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N702 REGIME(16,6,2,0.073)
N703 G0 G54 X-17 Y163 m8 D1 M3
N704 CYCLE82(5,0,5,,8,1)
N705 X-49 Y174
N706 CYCLE83(5,0,5,,50.5,,15,10,0,0,1,1,3,,,,)
N707 X-5 Y191
N708 CYCLE83(5,0,5,,34.5,,10,10,0,0,1,1,3,,,,)
N709 SMENA_Z
N710 ST150: WORK_STEP(150)
N711 T="13.2" M6
N712 MSG("T13.2(2/13)SVERLO D=10.8* L=17 D=10.7+0.2.WORK_STEP(150)")
N713 ;***************************************************
N714 G0 G54 B180
N715 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N716 REGIME(21,10.8,2,0.073)
N717 G0 G54 X-16 Y29 D1 M3
N718 Z8 M8
N719 G1 Z-17 F=r93
N720 G0 Z30 M9
N721 SMENA_Z
N722 ;ST155: WORK_STEP(155)
N723 ;T="1.2" M6
N724 ;MSG("T1.2 KOMBIN D1=SV=8.5_L=28/D2=CEKOVKA_D=28*WORK_STEP(155)")
N725 ;*************************************************** T8.1
N726 ;G0 g54 B180
N727 ;TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N728 ;REGIME(130,28,2,0.07)    ;D2=CEKOVKA_D=28      ;7556
N729 ;G0 G55 X39 Y261 D2 M3    ;D2                 ;7556
N730 ;M7                      ;7556
N731 ;CYCLE82(70,0,13+28,,20.5,1)                   ;7556
N732 ;REGIME(80,8.5,2,0.11)   ;D1=SV=8.5_L=28
N733 ;G0 G55 X-49 Y174 m7 D1 M3  
N734 ;CYCLE82(25,0,12,,16.5,0)
N735 ;SMENA_Z
N736 ST155: WORK_STEP(155)
N737 T="14.2" M6
N738 MSG("T=14.2(2/14)SVERLO D=8.3*NA L=20 D=8.43+0.2*WORK_STEP(155)")    ;VMESTO ANAJ
N739 ;***************************************************
N740 G0 G54 B180
N741 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N742 REGIME(18,8.3,2,0.073)
N743 G0 G54 X39 Y261 D1 M3 M8
N744 CYCLE82(15,-8,5,,12.5,1)
N745 X39 Y261
N746 X-49 Y174
N747 CYCLE82(15,0,5,,16.55,1)
N748 SMENA_Z
N749 ;ST165: WORK_STEP(165)     ;7556
N750 ;T="5.1" M6        ;7556
N751 ;MSG("T=5.1(1/5)SVERLO D=8****NA L=26 .WORK_STEP(165) ")      ;7556
N752 ;***************************************************
N753 ;G0 G54 B180       ;7556
N754 ;TRANS X=X_B180 Z=Z_B180 Y=Y_B180       ;7556
N755 ;REGIME(18,8,2,0.073)       ;7556
N756 ;G0 G54 X-22 Y192 D1 M3 M8      ;7556
N757 ;CYCLE82(5,0,5,,26,1)       ;7556
N758 ;SMENA_Z         ;7556
N759 ;ST170: WORK_STEP(170)   
N760 ;T="20.2" M6    
N761 ;MSG("T=20.2(2/20)CEKOVKA D=26*L=58-0.46 D=26+0.52*WORK_STEP(170)") 
N762 ;*************************************************** 
N763 ;G0 G54 B180  
N764 ;TRANS X=X_B180 Z=Z_B180 Y=Y_B180 
N765 ;REGIME(20,26,4,0.045)   
N766 ;G0 G54 X-87 Y0 D1 M3  
N767 ;MCALL CYCLE82(5,0,zbez,,10,1) 
N768 ;X-87 Y0 M8   
N769 ;X0 Y0   
N770 ;MCALL   
N771 ;G0 Z40 M9  
N772 ;SMENA_Z
N773 ;ST175: WORK_STEP(175)  ;7556
N774 ;T="7.1" M6   ;7556
N775 ;MSG("T=7.1(1/7) FREZA D=8(4_zub)L=10.5+/-0.215,WORK_STEP(175)")  ;7556
N776 ;R1=8/2  ;rad.frezi   ;7556
N777 ;************************************************
N778 ;G0 G54 B180   ;7556
N779 ;TRANS X=X_B180 Z=Z_B180 Y=Y_B180   ;7556
N780 ;REGIME(70,8,4,0.05)   ;7556
N781 ;X-22 Y192 D1 M3   ;7556
N782 ;Z5    ;7556
N783 ;g1 z0 f=fus    ;7556
N784 ;DPR=10.5 KP=3 zzbez=dpr+zbez*2    ;7556
N785 ;fr_8:G1Z=IC(-DPR/KP) F=r93*2     ;7556
N786 ;X26 F=r93     ;7556
N787 ;g0 z=ic(zzbez)    ;7556
N788 ;X-22    ;7556
N789 ;g1 z=ic(-zzbez) f=fus/2    ;7556
N790 ;REPEAT fr_8 P=KP-1     ;7556
N791 ;g0 z50 m9    ;7556
N792 ;SMENA_Z    ;7556
N793 MSG("PROVER GODNOST DETALI A3!!!!")
N794 M0
N795 ;************************************************
N796 M192
N797 MSG("PEREUSTONOVIT DETAL A3  NA __A4!!!!")
N798 M0
N799 M193
N800 ;___detal_A4 _storona B180
N801 ;************************************************
N802 ST180: WORK_STEP(180)
N803 T="2.1" M6
N804 MSG("T=2.1(1/2) SVERLO CENTR.  D=16<90,WORK_STEP(180) ")
N805 ;************************************************
N806 G0 G54 B180
N807 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N808 REGIME(25,16,2,0.076)        ; S500 F75 
N809 G0 G54 X-13 Y58 D1 M3
N810 m8
N811 ;-----gruppa otv na d13-------------- SMOTRI PRIGIMI
N812 MCALL CYCLE82(35,0,zbez,,6.9,1)
N813 X-13 Y58   ;1 d=13+0.035
N814 X87 Y232   ;2 d=13+0.035
N815 X49 Y270
N816 MCALL
N817 ;-----gruppa otv na d6--------------
N818 REGIME(19,16,2,0.1)
N819 X-39 Y203
N820 MCALL CYCLE82(5,0,zbez,,3.1,2)
N821 X-39 Y203
N822 X-39 Y253
N823 Z200 ;SMOTRI PRIGIMI
N824 X18 Y213
N825 X29 Y220
N826 X110 Y210
N827 Z200
N828 X107 Y273
N829 MCALL
N830 ;-----gruppa otv na d10--------------
N831 X3 Y251
N832 MCALL CYCLE82(5,0,zbez,,5.18,2)
N833 X3 Y251
N834 X-22 Y270
N835 MCALL
N836 SMENA_Z
N837 ;******************************* p-p E-E OTV. D=14+0.043***
N838 ST185: WORK_STEP(185)
N839 T="3.1" M6
N840 MSG("T3.1(1/3) SVERLO D=13****NA L=15*,WORK_STEP(185) ")
N841 ;***************************************************
N842 G0 G54 B180
N843 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N844 REGIME(21,13,2,0.073)
N845 WAIT_TO_CHECK 
N846 G0 G54 X-13 Y-14 D1 M3
N847 Z8 M8
N848 G1 Z-15 F=r93
N849 G0 Z35
N850 REGIME(18,13,2,0.075)
N851 WAIT_TO_CHECK 
N852 G0 G54 X-13 Y58 D1 M3
N853 MCALL CYCLE83(30,0,ZBEZ,,35,,10,7,,,1,1,3,,,,)
N854 X-13 Y58 M8
N855 X87 Y232
N856 Z200
N857 X49 Y270
N858 MCALL
N859 SMENA_Z
N860 ST190: WORK_STEP(190)
N861 T="18.1" M6
N862 MSG("T=18.1(1/18)SVERLO D=13.8<180*L=20+0.21***,WORK_STEP(190) ")
N863 ;***************************************************
N864 G0 G54 B180
N865 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N866 REGIME(14,13.8,2,0.05)
N867 G0 G54 X-13 Y-14 D1 M3
N868 M8
N869 CYCLE82(3,0,3,,20.1,1)
N870 SMENA_Z
N871 ST195: WORK_STEP(195)
N872 T="18.2" M6
N873 MSG("T=18.2(2/18)RAZVERTKA D=14+0.045 ,WORK_STEP(195) ")
N874 ;***************************************************
N875 G0 G54 B180
N876 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N877 REGIME(10,14,5,0.036)
N878 G0 G54 X-13 Y-14 D1 M3
N879 Z6 M8
N880 G1 Z-18.5 F=r93
N881 Z6 F=r93*5
N882 G0 Z30 M9
N883 SMENA_Z
N884 ST200: WORK_STEP(200)
N885 T="19.1" M6
N886 MSG("T=19.1(1/19)FREZA D=13**NA L=1.35+0.12-0.1,WORK_STEP(200)")
N887 ;***************************************************
N888 G0 G54 B180
N889 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N890 REGIME(19,13,2,0.03)
N891 G0 G54 X-13 Y-31 D1 M3
N892 ATRANS X-13 Y-31
N893 X0 Y0
N894 Z=zbez M8
N895 G1 Z-1.35 F=r93
N896 G1 G42 X6.55 Y0
N897 G2 X6.55 Y0 I=AC(0) J=AC(0) F=r93*4
N898 G1 G40 X0 Y0
N899 SMENA_Z
N900 ST205: WORK_STEP(205)
N901 T="17.2" M6
N902 MSG("T17.2(2/17) SVERLO D=10.2*m12*6h,L=20min,WORK_STEP(205)")
N903 ;*************************************************** T16
N904 G0 g54 B180
N905 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N906 REGIME(20,10.2,2,0.065)
N907 G0 G54 X3 Y251 D1 M3 M8
N908 MCALL CYCLE81(35,0,zbez*2,,28)
N909 X3 Y251         ;1-OTV (POD  GRUPU D=10+0.36_ 2-OTV)
N910 X-22 Y270         ;2-OTV (POD  GRUPU D=10+0.36_ 2-OTV)
N911  MCALL
N912 SMENA_Z 
N913 ;ST206: WORK_STEP(206)    ;7556
N914 ;T="19.2" M6     ;7556
N915 ;MSG("T=19.2(2/19) FREZA D=14(2_zub),WORK_STEP(206)")   ;7556
N916 ;R1=14/2  ;rad.frezi    ;7556
N917 ;************************************************
N918 ;G0 G54 B180   ;7556
N919 ;TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180  ;7556
N920 ;REGIME(20,14,4,0.05)   ;7556
N921 ;******************************* p-p B-B***   ;7556
N922 ;g0 G54 x-20 y212 d1 m3   ;7556
N923 ;z10 m8   ;7556
N924 ;g1 z0 f=fus   ;7556
N925 ;DPR=11+0.43/2 KP=2 zzbez=dpr+zbez*2   ;7556
N926 ;fr_14:G1Z=IC(-DPR/KP) F=r93*2   ;7556
N927 ;g1 x-8.5 y226 F=r93    ;7556
N928 ;y250     ;7556
N929 ;x-35 y270      ;7556
N930 ;g0 z=ic(zzbez)       ;7556
N931 ;x-20 y212        ;7556
N932 ;g1 z=ic(-zzbez) f=fus/2         ;7556
N933 ;REPEAT fr_14 P=KP-1    ;7556
N934 ;g0 z50 m9      ;7556
N935 SMENA_Z
N936 ST210:WORK_STEP(210)
N937 T="4.1" M6
N938 MSG("T4.1(1/4) SVERLO D=6**NA,L=8+1.WORK_STEP(210)")
N939 ;*************************************************** T12
N940 G0 G54 B180
N941 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N942 REGIME(16,6,2,0.073)
N943 G0 G56 X110 Y210 m8 D1 M3           ;1
N944 MCALL CYCLE83(35,0,zbez*2,,27,,20,10,0,0,1,1)
N945 X110 Y210  
N946 X107 Y273    
N947 X-39 Y253   
N948 MCALL 
N949 X29 Y220  
N950 CYCLE83(35,0,zbez*2,,33.5,,20,10,0,0,1,1)
N951 G0 X18 Y213 
N952 Z=zbez*2
N953 G1 Z-11.5 F=r93  ;L=11+1
N954 G0 Z35
N955 X-39 Y203
N956 Z=zbez*2
N957 G1 Z-19 F=r93
N958 G0 Z35
N959 SMENA_Z
N960 ST215: WORK_STEP(215)
N961 T="11.2" M6
N962 MSG("T=11.2(2/11) FREZA D=6(3_zub),WORK_STEP(215)")
N963 R1=6/2  ;rad.frezi
N964 ;************************************************
N965 G0 G54 B180
N966 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N967 REGIME(70,6,3,0.045)
N968 g0 G54 X18 y213 d1 m3
N969 z10 ;m8
N970 g1 z0 f=fus
N971 DPR=5 KP=2 zzbez=dpr+zbez*2
N972 fr_6:G1Z=IC(-DPR/KP) F=r93*2
N973 g1 y251 F=r93
N974 g4 f=stop_timer
N975 g1 x15
N976 g4 f=stop_timer
N977 g0 z=ic(zzbez)
N978 x18 y213
N979 g1 z=ic(-zzbez) f=fus/2
N980 REPEAT fr_6 P=KP-1
N981 ;***********B=6+/-0.24****** p-p C-C***L=5+/-0.15 
N982 g0 z10 
N983 x61 y128
N984 g1 z0 f=fus
N985 DPR=5 KP=2 zzbez=dpr+zbez*2
N986 ffr_6:G1Z=IC(-DPR/KP) F=r93*2
N987 g1 x18 y-14 F=r93
N988 g4 f=stop_timer
N989 g0 z=ic(zzbez)
N990 x61 Y128
N991 g1 z=ic(-zzbez) f=fus/2
N992 REPEAT ffr_6 P=KP-1
N993 g0 z50 m9
N994 SMENA_Z
N995 ST220: WORK_STEP(220)
N996 T="7.1" M6
N997 MSG("T=7.1(1/7) FREZA D=8(4_zub),WORK_STEP(220)")
N998 R1=8/2  ;rad.frezi
N999 ;************************************************
N1000 G0 G54 B180
N1001 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N1002 REGIME(70,8,4,0.05)
N1003 WAIT_TO_CHECK 
N1004 ;******************************* p-p g-g VERH LEV***
N1005 g0 G54 x3 y251 d1 m3
N1006 z10 ;m8
N1007 g1 z0 f=fus
N1008 DPR=12+0.43/2 KP=4 zzbez=dpr+zbez*2             ;KP=3
N1009 fr_8:G1Z=IC(-DPR/KP) F=r93*2
N1010 g1 X15 F=r93
N1011 g0 z=ic(zzbez)
N1012 x3 y251
N1013 g1 z=ic(-zzbez) f=fus/2
N1014 REPEAT fr_8 P=KP-1
N1015 ;******************************* p-p g-g VERH PRAVO***
N1016 g0 z=zbez*2
N1017 x-22 y270
N1018 g1 z0 f=fus
N1019 DPR=12+0.43/2 KP=4 zzbez=dpr+zbez*2             ;KP=3
N1020 ffr_8:G1Z=IC(-DPR/KP) F=r93*2
N1021 g1 x-35 F=r93
N1022 g0 z=ic(zzbez)
N1023 x-22 y270
N1024 g1 z=ic(-zzbez) f=fus/2
N1025 REPEAT ffr_8 P=KP-1
N1026 ;******************************* p-p M-M***
N1027 g0 z=zbez*2
N1028 x49 y270
N1029 g1 z0 f=fus
N1030 DPR=12+0.43/2 KP=3 zzbez=dpr+zbez*2  
N1031 fffrr_8:G1Z=IC(-DPR/KP) F=r93*2
N1032 g1 y287 F=r93
N1033 g4 f=stop_timer
N1034 X-1
N1035 g4 f=stop_timer
N1036 g0 z=ic(zzbez)
N1037 x49 y270
N1038 g1 z=ic(-zzbez) f=fus/2
N1039 REPEAT fffrr_8 P=KP-1
N1040 g0 z50 m9
N1041 SMENA_Z
N1042 ST225: WORK_STEP(225)
N1043 T="11.2" M6
N1044 MSG("T=11.2(2/11) FREZA D=6(3_zub),WORK_STEP(225)")
N1045 R1=6/2  ;rad.frezi
N1046 ;************************************************
N1047 G0 G54 B180
N1048 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N1049 REGIME(70,6,3,0.045)            ;REGIME(25,6,2,0.025)
N1050 ;**B=6+/-0.24****** p-p M-M***L=5+/-0.15 1_chast_paza nijn
N1051 g0 g56 x-39 y253 d1 m3
N1052 z10 ;m8
N1053 g1 z0 f=fus
N1054 DPR=5 KP=2 zzbez=dpr+zbez*2
N1055 ffrr_6:G1Z=IC(-DPR/KP) F=r93*2
N1056 g1 x-43 F=r93
N1057 g4 f=stop_timer
N1058 g1 y203
N1059 g4 f=stop_timer
N1060 g0 z=ic(zzbez)
N1061 x-39 y253 
N1062 g1 z=ic(-zzbez) f=fus/2
N1063 REPEAT ffrr_6 P=KP-1
N1064 ;*B=6+/-0.24****** p-p M-M***L=5+/-0.15 2_chast_paza vverxn.
N1065 g0 z10 
N1066 x-39 y253 
N1067 g1 z0 f=fus
N1068 DPR=5 KP=2 zzbez=dpr+zbez*2
N1069 fffrr_6:G1Z=IC(-DPR/KP) F=r93*2
N1070 g1 X-9 F=r93
N1071 g4 f=stop_timer
N1072 g1 Y267
N1073 g4 f=stop_timer
N1074 g1 x29
N1075 g4 f=stop_timer
N1076 g1 y251
N1077 g4 f=stop_timer
N1078 g1 x70
N1079 g4 f=stop_timer
N1080 g1 y287
N1081 g4 f=stop_timer
N1082 g1 x85
N1083 g4 f=stop_timer
N1084 g0 z=ic(zzbez)
N1085 x-39 y253 
N1086 g1 z=ic(-zzbez) f=fus/2
N1087 REPEAT fffrr_6 P=KP-1
N1088 g0 z50 m9
N1089 SMENA_Z
N1090 ST230: WORK_STEP(230)
N1091 T="6.2" M6
N1092 MSG("T=6.2(2/6) FREZA D=10(4_zub),WORK_STEP(230)")
N1093 R1=10/2  ;rad.frezi
N1094 ;************************************************
N1095 G0 G54 B180
N1096 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N1097 REGIME(90,10,3,0.06) ;SMOTRI KOL-VO ZYB'EV 
N1098 WAIT_TO_CHECK 
N1099 ;****paz  h=10+0.36***L=12+0.43**** p-p D-D***
N1100 g0 G54 x79 y87 d1 m3
N1101 z10 ;m8
N1102 g1 z0 f=fus
N1103 DPR=12+0.43/2 KP=3 zzbez=dpr+zbez*2          ;KP=3 
N1104 fr_10:G1Z=IC(-DPR/KP) F=r93*2
N1105 g1 x107 F=r93
N1106 y143
N1107 x29
N1108 y149
N1109 x21
N1110 g0 z=ic(zzbez)
N1111 x79 y87
N1112 g1 z=ic(-zzbez) f=fus/2
N1113 REPEAT fr_10 P=KP-1
N1114 g0 z50 m9
N1115 SMENA_Z
N1116 ST235: WORK_STEP(235)
N1117 T="11.1" M6
N1118 MSG("T=11.1(1/11) FREZA D=20(2_zub),WORK_STEP(235)")
N1119 R1=20/2  ;rad.frezi
N1120 ;************************************************
N1121 G0 G54 B180
N1122 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N1123 REGIME(20,20,2,0.05)
N1124 WAIT_TO_CHECK 
N1125 ;********paz h=20+0.52**L=18+1.1***** p-p D-D***
N1126 g0 G54 x15 y174 d1 m3
N1127 z10 m8
N1128 g1 z0 f=fus
N1129 DPR=18+1.1/2 KP=3 zzbez=dpr+zbez*2
N1130 fr_20:G1Z=IC(-DPR/KP) F=r93*2
N1131 g1 y177 F=r93
N1132 x47
N1133 g0 z=ic(zzbez)
N1134 x15 y174
N1135 g1 z=ic(-zzbez) f=fus/2
N1136 REPEAT fr_20 P=KP-1
N1137 G0 Z=ZBEZ*2
N1138 X15 Y96;  edet na nizhnii paz
N1139 G1 Z-25 F=FUS/2
N1140 Z-35 F=R93
N1141 g0 z50 m9
N1142 SMENA_Z
N1143 ST240: WORK_STEP(240)
N1144 T="6.1" M6
N1145 MSG("T=6.1(1/6) FREZA D=28(2_zub),WORK_STEP(240)")
N1146 R1=28/2  ;rad.frezi
N1147 ;************************************************
N1148 G0 G54 B180
N1149 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N1150 REGIME(25,28,6,0.05)
N1151 ;********paz h=28+/-0.42**L=35+/-0.5***** p-p D-D***
N1152 g0 G54 x15 y96 d1 m3
N1153 z10 m8
N1154 g1 z0 f=fus
N1155 DPR=35 KP=5 zzbez=dpr+zbez*2
N1156 fr_28:G1Z=IC(-DPR/KP) F=r93*2
N1157 g1 y123 F=r93
N1158 G4 F2
N1159 g0 z=ic(zzbez)
N1160 x15 y96
N1161 g1 z=ic(-zzbez) f=fus/2
N1162 REPEAT fr_28 P=KP-1
N1163 g0 z50 m9
N1164 SMENA_Z
N1165 MSG("PROVER GODNOST DETALI A4!!!!")
N1166 M0
N1167 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
N1168 MSG("SNIMI, PRODYI, POMERIAJ RAZMERI, ULIBNIS")
N1169 WORK_DONE
N1170 GOTOF _ENDE
N1171 ST999:TO_BROKEN
N1172 _ENDE:T0 M6
N1173 M91
N1174 WORK_STEP(0)
N1175 M30
N1176 ;***************************************************
N1177 _proverka:
N1178 ZBEZ=3
N1179 XBEZ=10
N1180 YBEZ=7 
N1181 ;***************************************************
N1182 ;_______detal_A1 _storona B0__TRANS ___na nizhnij rombich. palec t.k. razmeri ot nego
N1183 X_B0=R11+105            ;OS_X TRANS  
N1184 Y_B0=R21-290            ;OS_Y TRANS
N1185 Z_B0=R31+67.77          ;OS_Z TRANS tolshchina detali
N1186 ;_______detal_A2 _storona BB0__TRANS
N1187 X_BB0=R12-105           ;OS_X TRANS  
N1188 Y_BB0=R22-290           ;OS_Y TRANS
N1189 Z_BB0=R32+67.77         ;OS_Z TRANS tolshchina detali
N1190 ;_______detal_A3 _storona B180__TRANS
N1191 X_B180=R13+105          ;OS_X TRANS  
N1192 Y_B180=R23-290          ;OS_Y TRANS
N1193 Z_B180=R33+67.77        ;OS_Z TRANS tolshchina detali
N1194 ;_______detal_A4 _storona BB180__TRANS
N1195 X_BB180=R14-105         ;OS_X TRANS  
N1196 Y_BB180=R24-290         ;OS_Y TRANS
N1197 Z_BB180=R34+67.77       ;OS_Z TRANS tolshchina detali
N1198 STOPRE
N1199 ;**************************YSTANOV I**********
N1200 ;*poraydok obrabotki***metka***magazin/gnezdo***NALADKA INSTRUMENTA******
N1201  IF WORKING_STEP<=1   GOTOB ST1  ;T=27.2(2/30)   FREZA D=20 TC= 1 MIN
N1202  M91 ;poka ne zak-ca smena palet 
N1203 ; IF WORKING_STEP<=5    GOTOB ST5    ; T6(1/1)   FREZA D=40 TC=NET
N1204  IF WORKING_STEP==10   GOTOB ST10  ;T2.1(2/1)   SVERLO CENTR. 16/90 TC=1.5 MIN
N1205  IF WORKING_STEP==15   GOTOB ST15  ;T6.2(2/6)  FREZA D=10 TC=0.5 MIN
N1206  IF WORKING_STEP==20   GOTOB ST20  ;T3.1(1/2)  SVERLO D=13+0.27 TC=2.5 MIN
N1207  IF WORKING_STEP==25   GOTOB ST25  ;T4.1(1/4)  SVERLO D=6* TC=1 MIN
N1208  IF WORKING_STEP==30   GOTOB ST30  ;T13.2(2/13) SVERLO D=10.8 TC=1 MIN
N1209  IF WORKING_STEP==35   GOTOB ST35  ;T1.2(1/2) SVERLO KOMB ANAJ D=8.3 TC=0.5 MIN
N1210  IF WORKING_STEP==37   GOTOB ST37  ;T5.1(1/5)   SVERLO D=8 L=26 TC=0.5 MIN
N1211  ;IF WORKING_STEP==45   GOTOB ST45  ;T20.2(2/20) CEKOVKA D=26** TC=NET
N1212  IF WORKING_STEP==50   GOTOB ST50  ;T7.1(1/7) FREZA D=8(2_zub) TC=0.5 MIN
N1213  IF WORKING_STEP==55   GOTOB ST55  ;T2.1(1/2)   SVERLO CENTR. 16/90 TC=1 MIN
N1214  IF WORKING_STEP==60   GOTOB ST60  ;T3.1(1/3)  SVERLO D=13+0.43* TC=2 MIN
N1215  IF WORKING_STEP==65   GOTOB ST65  ;T18.1(1/18) SVERLO D=13.8<180 TC=1 MIN
N1216  IF WORKING_STEP==70   GOTOB ST70  ;T18.2(2/18) RAZV-KA D=14+0.045 TC=1 MIN
N1217  IF WORKING_STEP==75   GOTOB ST75  ;T19.1(1/19) FREZA D=13 TC=0.5 MIN
N1218  IF WORKING_STEP==80   GOTOB ST80  ;T19.2(2/19) FREZA D=14 TC=2.5 MIN
N1219  IF WORKING_STEP==85   GOTOB ST85  ;T4.1(1/4) SVERLO D=6 TC=1.5 MIN
N1220  IF WORKING_STEP==90   GOTOB ST90  ;T11.2(2/11) FREZA D=6TC= 3 MIN
N1221  IF WORKING_STEP==95   GOTOB ST95  ;T7.1(1/7) FREZA D=8 TC= 1.5 MIN
N1222  IF WORKING_STEP==100  GOTOB ST100 ;11.2(2/11) FREZA D=6 TC=4.5 MIN
N1223  IF WORKING_STEP==105  GOTOB ST105 ;T6.2(2/6) FREZA D=10 TC=2.5 MIN
N1224  IF WORKING_STEP<=110   GOTOB ST110   ;T=11.1(1/11) FREZA D=20 TC=1 MIN
N1225 ; IF WORKING_STEP<=115   GOTOB ST115  ;T=6.1(1/6) FREZA D=28 TC=NET
N1226 ;;;;;;;;;;;;;;;;;;;;;;;;;;;A3/A4;;;;;;;;;;;;;;;
N1227  IF WORKING_STEP==120   GOTOB ST120  ;T27.2(2/27) FREZA D=20 TC=1.5 MIN
N1228  IF WORKING_STEP==125   GOTOB ST125  ;T6(1/1) FREZA D=40 TC=0.5 MIN
N1229  IF WORKING_STEP==130   GOTOB ST130  ;T2.1(1/2)SVERLO CENTR d=16/90 TC=2.5 MIN
N1230  IF WORKING_STEP==135   GOTOB ST135  ;T6.2(2/6)FREZA d=10 TC=1 MIN
N1231  IF WORKING_STEP==140   GOTOB ST140  ;T3.1(1/3) SVERLO D=13+0.27 TC=1 MIN
N1232  IF WORKING_STEP==145   GOTOB ST145  ;TT4.1(1/4) SVERLO D=6**NA,L=8+1 TC=0.5 MIN
N1233  IF WORKING_STEP==150   GOTOB ST150  ;T13.2(2/13)SVERLO D=10.8* L=17 D=10.7+0.2 TC=0.5 MIN
N1234  ;IF WORKING_STEP==155   GOTOB ST155 ;T1.2 KOMBIN D1=SV=8.5_L=28/D2=CEKOVKA_D=28* TC=NET
N1235  IF WORKING_STEP==160   GOTOB ST160  ;T4.2(2/4)SVERLO D=8.3*NA L=20 D=8.43+0.2* TC=0.5 MIN
N1236  IF WORKING_STEP==165   GOTOB ST165  ;T5.1(1/5)SVERLO D=8****NA L=26 TC=1 MIN
N1237  IF WORKING_STEP==170   GOTOB ST170  ;T20.2(2/20)CEKOVKA D=26*L=58-0.46 D=26+0.52* TC=2 MIN
N1238  IF WORKING_STEP==175   GOTOB ST175  ;T7.1(1/7) FREZA D=8(4_zub)L=10.5+/-0.215 TC=1 MIN
N1239  IF WORKING_STEP==180   GOTOB ST180  ;T2.1(1/2) SVERLO CENTR.  D=16<90 TC=1 MIN
N1240  IF WORKING_STEP==185   GOTOB ST185  ;T3.1(1/3) SVERLO D=13****NA L=15* TC=0.5 MIN
N1241  IF WORKING_STEP==190   GOTOB ST190  ;T18.1(1/18)SVERLO D=13.8<180*L=20+0.21*** TC=2.5 MIN
N1242  IF WORKING_STEP==195   GOTOB ST195  ;T18.2(2/18)RAZVERTKA D=14+0.045TC=1.5 MIN
N1243  IF WORKING_STEP==200   GOTOB ST200  ;T19.1(1/19)FREZA D=13**NA L=1.35+0.12-0.1TC=3 MIN
N1244  IF WORKING_STEP==205   GOTOB ST205  ;T19.2(2/19) FREZA D=14(2_zub) TC=1.5 MIN
N1245  IF WORKING_STEP==210  GOTOB ST210  ;T4.1(1/4) SVERLO D=6**NA,L=8+1TC=4.5 MIN
N1246  IF WORKING_STEP==215  GOTOB ST215  ;T11.2(2/11) FREZA D=6(3_zub)TC=2.5 MIN
N1247  IF WORKING_STEP==220   GOTOB ST220  ;T7.1(1/7) FREZA D=8(4_zub) TC=1.5 MIN
N1248  IF WORKING_STEP==225   GOTOB ST225  ;T11.2(2/11) FREZA D=6(3_zub) TC=3 MIN
N1249  IF WORKING_STEP==230   GOTOB ST230  ;T6.2(2/6) FREZA D=10(4_zub) TC=1.5 MIN
N1250  IF WORKING_STEP==235  GOTOB ST235  ;T11.1(1/11) FREZA D=20(2_zub) TC=4.5 MIN
N1251  IF WORKING_STEP==240  GOTOB ST240  ;T6.1(1/6) FREZA D=28(2_zub) TC=2.5 MIN
N1252  IF WORKING_STEP==999  GOTOB ST999
N1253 ENDIF
N1254 
N1255 AA: MSG("Neverniy etap obrabotki.Ti ne prav,poshevili mozgami!!!")
N1256 M0
N1257 GOTOB AA
N1258 GOTOB START_1
N1259 
