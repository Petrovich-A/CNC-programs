N1 ;DETAL 7822-1712212-10 KORPUS ZOLOTNIKOV
N3 ;PRILADA 7274-6381
N2 ;OPER 110
N2 ;YSTANOV I+II - B0
N2 ;YSTANOV III+IV - B180
N3 ;DETAL_A1(B0), DETAL_A2(BB0), DETAL_A3(B180), DETAL_A4(BB180)
N3 ;STANOK NBH-6 INV_12506
N4 ;VASILEVSKI A.I. 14.03.2016 VNEDR. PRISPOSOBLENIE (PEREPISAL PROGY)
N5 ;TC A1=9_MIN/A2=21_MIN 
N5 ;TC A3=9_MIN/A4=21_MIN 
N6 DEF REAL POM_Y,FUS=3000,ZBEZ,ZPRIPUSK,XBEZ,YBEZ,ZAG,RO,X_B0,Y_B0,Z_B0,X_BB0,Y_BB0,Z_BB0,X_B180,Y_B180,Z_B180,X_BB180,Y_BB180,Z_BB180,DPR,KP,ZZBEZ;
N7 DEFINE SMENA_Z AS G0 G53 Z930 D0 M9 M5 
N8 $AC_TIMER[1]=0  ;CIKL STARTA TIME/MIN
N10 ;*** G54: X-CENTR STOLA, Y-PLOSKOST PALETI, Z-CENTR STOLA
N11 $P_UIFR[1]=CTRANS(X,0,Y,0,Z,0,B,0)
N9 ;**************************************
N10 ;___DETAL_A1 _STORONA B0_____KRYGLIJ PALEC
N11 R11=385-630/2+0      ;OS_X PALCA 
N12 R21=500.690          ;OS_Y PALCA 
N13 R31=480-630/2-0.027  ;OS_Z TOREC PLACIKA
N14 ;___DETAL_A2 _STORONA BB0_____KRYGLIJ PALEC
N15 R12=245-630/2+0      ;OS_X PALCA 
N16 R22=500.690          ;OS_Y PALCA 
N17 R32=480-630/2        ;OS_Z TOREC PLACIKA 
N18 ;___DETAL_A3 _STORONA B180_____KRYGLIJ PALEC
N19 R13=-245+630/2+0.14  ;OS_X PALCA -0.18
N20 R23=500.670          ;OS_Y PALCA 
N21 R33=630/2-150.013    ;OS_Z TOREC PLACIKA
N22 ;___DETAL_A4 _STORONA BB180_____KRYGLIJ PALEC
N23 R14=-385+630/2+0.1   ;OS_X PALCA -0.22
N24 R24=500.760          ;OS_Y PALCA 
N25 R34=630/2-150.079    ;OS_Z TOREC PLACIKA
N26 ;**************************************
N27 GOTOF _PROVERKA
N28 START_1:
N31 ;******** RABOTA G54 **********
N32 ;**** DETAL_A1 _STORONA B0 ****
N33 ;******************************
N34 ST1: WORK_STEP(1)
N35 G0 G54 G17 G40 G90 G94
N36 T="27.2" M6
N37 MSG("T=27.2 FREZA D=20,WORK_STEP(1) ")
N38 R1=20/2  ;RAD. FREZI
N39 G0 G54 B0
N40 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N41 REGIME(150,20,2,0.09)
N42 G54 X0 Y0 D1 M3
N43 Z10 M8
N44 POCKET2(7,0,5,,3.4,13.13,0,0,R93*0.5,R93,,2,,2)
N45 POCKET2(7,0,5,,6.7,13.13,0,0,R93*0.5,R93,,2,,2)
N46 POCKET2(7,0,5,,10.23,13.13,0,0,R93*0.5,R93,,2,,2)
N47 POCKET2(7,0,5,,3.4,14.13,-87,0,R93*0.5,R93,,2,,2)
N48 POCKET2(7,0,5,,6.7,14.13,-87,0,R93*0.5,R93,,2,,2)
N49 POCKET2(7,0,5,,10.23,14.13,-87,0,R93*0.5,R93,,2,,2)
N50 SMENA_Z
N51 ;**************************************
N52 ;MSG("MERITI D=26+0.52")
N53 ;********* MERITI D=26+0.52 ***********
N54 ST5: WORK_STEP(5)
N55 T="7.2" M6
N56 MSG("T=7.2 SVERLO CENTR D=16/90 ,WORK_STEP(5) ")
N57 G0 G54 B0
N58 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N59 REGIME(19,16,2,0.1)
N60 G0 G54 D1 M3 M8
N65 X-17 Y163
N66 MCALL CYCLE82(5,0,ZBEZ,,3.1,2)
N67 X-17 Y163
N68 X-49 Y174
N69 MCALL
N70 X-22 Y192
N71 CYCLE82(5,0,ZBEZ,,4.2,1)
N72 X-16 Y29
N73 CYCLE82(5,0,ZBEZ,,7,1)
N74 SMENA_Z
N51 ;**************************************
N76 ST10: WORK_STEP(10)
N77 T="6.2" M6
N78 MSG("T=6.2 FREZA D=10 ,WORK_STEP(10) ")
N79 G0 G54 B0
N80 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N81 REGIME(90,10,4,0.06)
N82 G0 G54 X-47 Y232  D1 M3
N83 POCKET2(25,-(18+2),ZBEZ*3,,3,7,-47,232,R93,R93,3,2,0,2)
N84 SMENA_Z
N51 ;**************************************
N86 ST15: WORK_STEP(15)
N87 T="3.1" M6
N88 MSG("T3.1 SVERLO D=13+0.27 ,WORK_STEP(15) ") 
N89 G0 G54 B0
N90 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N91 REGIME(21,13,2,0.075)
N92 WAIT_TO_CHECK 
N93 G0 G54 X-47 Y232 D1 M3 M8
N94 CYCLE83(25,-18,9,,50-21.7,,15,10,0,0,1,1) 
N103 G0 Z30 M9
N104 SMENA_Z
N51 ;**************************************
N106 ST20: WORK_STEP(20)
N107 T="4.1" M6
N108 MSG("T4.1 SVERLO D=6**NA,L=8+1 ,WORK_STEP(20)")
N109 G0 G54 B0
N110 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N111 REGIME(16,6,2,0.073)
N112 G0 G54 X-17 Y163 M8 D1 M3    ;X-16
N113 CYCLE82(5,0,5,,8,1)
N114 X-49 Y174
N115 CYCLE83(5,0,5,,50.5,,15,10,0,0,1,1,3,,,,)
N116 SMENA_Z
N51 ;**************************************
N118 ST25: WORK_STEP(25)
N119 T="13.2" M6
N120 MSG("T13.2 SVERLO D=10.8* L=17 D=10.7+0.2 WORK_STEP(25)")
N121 G0 G54 B0
N122 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N123 REGIME(21,10.8,2,0.073)
N124 G0 G54 X-16 Y29 D1 M3
N125 Z8 M8
N126 G1 Z-17 F=R93
N127 G0 Z30 M9
N128 SMENA_Z
N51 ;**************************************
N130 ST30: WORK_STEP(30)
N131 T="1.2" M6
N132 MSG("T1.2 ANAJ KOMBIN. D1=SV=8.5_L=28/D2=CEKOVKA_D=28*WORK_STEP(30)")
N133 G0 G54 B0
N134 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N135 REGIME(130,28,2,0.07)
N136 G0 X-29 Y261 D2 M3 M7 ;*** D2=CEKOVKA_D=28  
N138 CYCLE82(70,-6.5,13+28,,0.5,1)
N139 REGIME(80,8.5,2,0.11) ;*** D1=SV=8.5_L=28
N140 G0 X-49 Y174 M7 D1
N141 CYCLE82(25,0,12,,16.5,0)
N142 SMENA_Z
N143 ;**************************************
N144 ST35: WORK_STEP(35)
N145 T="5.1" M6
N146 MSG("T=5.1 SVERLO D=8, L=26 WORK_STEP(35) ")
N147 G0 G54 B0
N148 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N149 REGIME(18,8,2,0.073)
N150 G0 X-22 Y192 D1 M3 M8
N151 CYCLE82(5,0,5,,26,1)
N152 SMENA_Z
N153 ;**************************************
N154 ST40: WORK_STEP(40)
N155 T="7.1" M6
N156 MSG("T=7.1 FREZA D=8(4_ZUB)L=10.5+/-0.215,WORK_STEP(40)")
N157 R1=8/2  ;RAD.FREZI
N158 G0 G54 B0
N159 TRANS X=X_B0 Z=Z_B0 Y=Y_B0
N160 REGIME(70,8,4,0.05)
N161 X-22 Y192 D1 M3
N162 Z5
N163 G1 Z0 F=FUS
N164 DPR=10.5 KP=3 ZZBEZ=DPR+ZBEZ*2
N165 FR_8:G1Z=IC(-DPR/KP) F=R93*2
N166 X6 F=R93
N167 G0 Z=IC(ZZBEZ)
N168 X-22
N169 G1 Z=IC(-ZZBEZ) F=FUS/2
N170 REPEAT FR_8 P=KP-1
N171 G0 Z50 M9
N172 SMENA_Z
N153 ;**************************************
N181 ;******* DETAL_A2 STORONA B0 **********
N182 ;**************************************
N254 ;*************OTV E-E******************
N255 ST65: WORK_STEP(65)
N256 T="19.1" M6
N257 MSG("T=19.1 FREZA D=13** L=1+0.1,WORK_STEP(65)")
N258 G0 G54 B0
N259 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N260 REGIME(19,13,2,0.03)
N261 G0 G54 X-13 Y-31 D1 M3
N262 ATRANS X-13 Y-31
N263 X0 Y0
N264 Z=ZBEZ M8
N265 G1 Z-1 F=R93
N266 G1 G42 X6.55 Y0
N267 G2 X6.55 Y0 I=AC(0) J=AC(0) F=R93*4
N268 G1 G40 X0 Y0
N269 SMENA_Z
N270 ;**************************************
N271 ST75: WORK_STEP(75)
N272 T="19.2" M6
N273 MSG("T=19.2 FREZA D=14(2_ZUB),WORK_STEP(75)")
N274 R1=14/2  ;RAD.FREZI
N275 G0 G54 B0
N276 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N277 REGIME(20,14,4,0.05)
N278 ;******************** P-P B-B *********
N279 G0 G54 X-20 Y212 D1 M3
N280 Z10 M8
N281 G1 Z0 F=FUS
N282 DPR=11+0.43/2 KP=2 ZZBEZ=DPR+ZBEZ*2
N283 FR_14:G1Z=IC(-DPR/KP) F=R93*2
N284 G1 X-8.5 Y226 F=R93
N285 Y250
N286 X-35 Y270
N287 G0 Z=IC(ZZBEZ)
N288 X-20 Y212
N289 G1 Z=IC(-ZZBEZ) F=FUS/2
N290 REPEAT FR_14 P=KP-1
N291 G0 Z50 M9
N292 SMENA_Z
N293 ;***************************************
N294 ST80: WORK_STEP(80)
N295 T="11.2" M6
N296 MSG("T=11.2 FREZA D=6(3_ZUB),WORK_STEP(80)")
N297 R1=6/2  ;RAD.FREZI
N298 G0 G54 B0
N299 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N300 REGIME(70,6,3,0.045)
N301 ;************** P-P C-C VERHNII ********
N302 G0 G54 X63 Y271 D1 M3
N303 Z10 ;M8
N304 G1 Z0 F=FUS
N305 DPR=5 KP=2 ZZBEZ=DPR+ZBEZ*2
N306 FR_6:G1Z=IC(-DPR/KP) F=R93*2
N307 G1 Y287 F=R93
N308 X85
N309 G0 Z=IC(ZZBEZ)
N310 X63 Y271
N311 G1 Z=IC(-ZZBEZ) F=FUS/2
N312 REPEAT FR_6 P=KP-1
N313 ;************* P-P C-C NIZHNII *********
N314 G0 Z10 
N315 X61 Y128
N316 G1 Z0 F=FUS
N317 DPR=5 KP=2 ZZBEZ=DPR+ZBEZ*2
N318 FFR_6:G1Z=IC(-DPR/KP) F=R93*2
N319 G1 X34.5 Y40 F=R93
N320 X-35
N321 G0 Z=IC(ZZBEZ)
N322 X61 Y128
N323 G1 Z=IC(-ZZBEZ) F=FUS/2
N324 REPEAT FFR_6 P=KP-1
N325 G0 Z50 M9
N326 SMENA_Z
N270 ;**************************************
N328 ST85: WORK_STEP(85)
N329 T="7.1" M6
N330 MSG("T=7.1 FREZA D=8(4_ZUB),WORK_STEP(85)")
N331 R1=8/2  ;RAD.FREZI
N332 G0 G54 B0
N333 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N334 REGIME(70,8,4,0.05)
N335 WAIT_TO_CHECK 
N336 ;************* P-P G-G VERH LEV *******
N337 G0 G54 X-1 Y273 D1 M3
N338 Z10 ;M8
N339 G1 Z0 F=FUS
N340 DPR=12+0.43/2 KP=4 ZZBEZ=DPR+ZBEZ*2
N341 FR_8:G1Z=IC(-DPR/KP) F=R93*2
N342 G1 Y287 F=R93
N343 G0 Z=IC(ZZBEZ)
N344 X-1 Y273
N345 G1 Z=IC(-ZZBEZ) F=FUS/2
N346 REPEAT FR_8 P=KP-1
N347 ;****************** P-P M-M ***********
N348 G0 Z=ZBEZ*2
N349 X97 Y197
N350 G1 Z0 F=FUS
N351 DPR=10+0.36/2 KP=4 ZZBEZ=DPR+ZBEZ*2
N352 FFFR_8:G1Z=IC(-DPR/KP) F=R93*2
N353 G1 X49 Y177 F=R93
N354 G0 Z=IC(ZZBEZ)
N355 X97 Y197
N356 G1 Z=IC(-ZZBEZ) F=FUS/2
N357 REPEAT FFFR_8 P=KP-1
N358 ;******** P-P SH-SH* L=3+/-0.3 ********
N359 G0 Z=ZBEZ*2
N360 X6 Y214
N361 G1 Z0 F=FUS
N362 DPR=3  ZZBEZ=DPR+ZBEZ*2
N363 G1 Z=IC(-DPR) F=R93*2
N364 G1 Y199 F=R93
N365 G0 Z=IC(ZZBEZ)
N366 ;********** P-P SH-SH* L=12+0.43 ******
N367 X-37.5 Y208
N368 G1 Z0 F=FUS
N369 DPR=12+0.43/2 KP=4 ZZBEZ=DPR+ZBEZ*2             ;KP=3
N370 FFFRR_8:G1Z=IC(-DPR/KP) F=R93*2
N371 G1 Y192 F=R93
N372 X-18
N373 X4 Y199
N374 X27
N375 Y251
N376 X15
N377 G0 Z=IC(ZZBEZ)
N378 X-37.5 Y208
N379 G1 Z=IC(-ZZBEZ) F=FUS/2
N380 REPEAT FFFRR_8 P=KP-1
N381 G0 Z50 M9
N382 SMENA_Z
N270 ;**************************************
N384 ST95: WORK_STEP(95)
N385 T="6.2" M6
N386 MSG("T=6.2 FREZA D=10(4_ZUB),WORK_STEP(95)")
N387 R1=10/2  ;RAD.FREZI
N388 G0 G54 B0
N389 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N390 REGIME(90,10,3,0.06)
N391 WAIT_TO_CHECK 
N392 ;*** PAZ H=10+0.36, L=12+0.43 *** P-P D-D ***
N393 G0 G54 X79 Y87 D1 M3
N394 Z10 ;M8
N395 G1 Z0 F=FUS
N396 DPR=12+0.43/2 KP=3 ZZBEZ=DPR+ZBEZ*2
N397 FR_10:G1Z=IC(-DPR/KP) F=R93*2
N398 G1 X107 F=R93
N399 Y143
N400 X29
N401 Y149
N402 X21
N403 G0 Z=IC(ZZBEZ)
N404 X79 Y87
N405 G1 Z=IC(-ZZBEZ) F=FUS/2
N406 REPEAT FR_10 P=KP-1
N407 G0 Z=ZBEZ*2
N408 ;******** P-P G-G VERH PRAVO - IZMEN. PO SLUZHEBN.***
N409 X46.5 Y251
N410 G1 Z0 F=FUS
N411 DPR=12+0.43/2 KP=4 ZZBEZ=DPR+ZBEZ*2
N412 FFR_10:G1Z=IC(-DPR/KP) F=R93*2
N413 G1 X85 F=R93
N414 X107 Y273
N415 G0 Z=IC(ZZBEZ)
N416 X46.5 Y251
N417 G1 Z=IC(-ZZBEZ) F=FUS/2
N418 REPEAT FFR_10 P=KP-1
N419 SMENA_Z
N270 ;**************************************
N421 ST100: WORK_STEP(100)
N422 T="11.1" M6
N423 MSG("T=11.1 FREZA D=20(2_ZUB),WORK_STEP(100)")
N424 R1=20/2  ;RAD.FREZI
N425 G0 G54 B0
N426 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N427 REGIME(20,20,2,0.05)
N428 WAIT_TO_CHECK 
N429 ;********PAZ H=20+0.52**L=18+1.1***** P-P D-D***
N430 G0 G54 X15 Y174 D1 M3
N431 Z10 M8
N432 G1 Z0 F=FUS
N433 DPR=18+1.1/2 KP=3 ZZBEZ=DPR+ZBEZ*2
N434 FR_20:G1Z=IC(-DPR/KP) F=R93*2
N435 G1 Y177 F=R93
N436 X47
N437 G0 Z=IC(ZZBEZ)
N438 X15 Y174
N439 G1 Z=IC(-ZZBEZ) F=FUS/2
N440 REPEAT FR_20 P=KP-1
N441 G0 Z=ZBEZ*2
N442 X15 Y96
N443 G1 Z-25 F=FUS/2
N444 Z-35 F=R93
N445 G0 Z50 M9
N446 SMENA_Z
N270 ;**************************************
N448 ST105: WORK_STEP(105)
N449 T="6.1" M6
N450 MSG("T=6.1 FREZA D=28(2_ZUB),WORK_STEP(105)")
N451 R1=28/2  ;RAD.FREZI
N452 G0 G54 B0
N453 TRANS X=X_BB0 Z=Z_BB0 Y=Y_BB0
N454 REGIME(25,28,6,0.05)
N455 ;********PAZ H=28+/-0.42**L=35+/-0.5***** P-P D-D***
N456 G0 G54 X15 Y95.8 D1 M3
N457 Z10 M8
N458 G1 Z0 F=FUS
N459 DPR=35 KP=5 ZZBEZ=DPR+ZBEZ*2
N460 FR_28:G1Z=IC(-DPR/KP) F=R93*2
N461 G1 Y123 F=R93
N462 G4 F2
N463 G0 Z=IC(ZZBEZ)
N464 X15 Y95.8   ;Y96
N465 G1 Z=IC(-ZZBEZ) F=FUS/2
N466 REPEAT FR_28 P=KP-1
N467 G0 Z50 M9
N468 SMENA_Z
N270 ;**************************************
N476 ;___DETAL_A3 _STORONA B180
N270 ;**************************************
N480 ST110: WORK_STEP(110)
N481 G0 G54 G17 G40 G90 G94
N482 T="27.2" M6
N483 MSG("T=27.2 FREZA D=20,WORK_STEP(110) ")
N484 R1=20/2  ;RAD.FREZI
N485 G0 G54 B180
N486 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N487 REGIME(150,20,2,0.09)
N488 G54 X0 Y0 D1 M3
N489 Z10 M8
N490 POCKET2(7,0,5,,3.4,13.13,0,0,R93*0.5,R93,,2,,2)
N491 POCKET2(7,0,5,,6.7,13.13,0,0,R93*0.5,R93,,2,,2)
N492 POCKET2(7,0,5,,10.23,13.13,0,0,R93*0.5,R93,,2,,2)
N493 POCKET2(7,0,5,,3.4,14.13,-87,0,R93*0.5,R93,,2,,2)
N494 POCKET2(7,0,5,,6.7,14.13,-87,0,R93*0.5,R93,,2,,2)
N495 POCKET2(7,0,5,,10.23,14.13,-87,0,R93*0.5,R93,,2,,2)
N496 SMENA_Z
N270 ;**************************************
N499 ;M0;******** MERITI D=26+0.52 *********
N500 ST115: WORK_STEP(115)
N501 T="7.2" M6
N502 MSG("T=7.2 SVERLO CENTR D=16/90 ,WORK_STEP(115)")
N503 G0 G54 B180
N504 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N505 REGIME(19,16,2,0.1)
N506 G0 G54 X-87 Y232 D1 M3 M8
N511 X-17 Y163      ;BILO X-16
N512 MCALL CYCLE82(5,0,ZBEZ,,3.1,2)
N513 X-17 Y163      ;BILO X-16
N514 X-49 Y174
N515 MCALL
N516 X-22 Y192
N517 CYCLE82(5,0,ZBEZ,,4.2,1)
N518 X-16 Y29
N519 CYCLE82(5,0,ZBEZ,,7,1)
N520 SMENA_Z
N270 ;**************************************
N522 ST120: WORK_STEP(120)
N523 T="6.2" M6
N524 MSG("T=6.2 FREZA D=10 ,WORK_STEP(120) ")
N525 G0 G54 B180
N526 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N527 REGIME(90,10,4,0.06)
N528 G0 G54 X-47 Y232  D1 M3
N529 POCKET2(25,-(18+2),ZBEZ*3,,3,7,-47,232,R93,R93,3,2,0,2)
N530 SMENA_Z
N531 ;**************************************
N532 ST125: WORK_STEP(125)
N533 T="3.1" M6
N534 MSG("T3.1 SVERLO D=13+0.27 ,WORK_STEP(125) ") 
N535 G0 G54 B180
N536 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N537 REGIME(21,13,2,0.075)
N538 WAIT_TO_CHECK 
N539 G0 G54 X-47 Y232 D1 M3 M8
N540 CYCLE83(25,-18,9,,50-21.7,,15,10,0,0,1,1) 
N541 REGIME(18,13,2,0.08) 
N542 WAIT_TO_CHECK 
N543 G0 G54 X-87 Y232 D1 M3 ; PALCI STARIE
N544 MCALL CYCLE83(30,0,ZBEZ,,42,,10,7,,,1,1,3,,,,)
N545 X-87 Y232 M8
N546 X13 Y58
N547 MCALL
N548 G0 Z30 M9
N549 SMENA_Z
N550 ;**************************************
N551 ST130: WORK_STEP(130)
N552 T="4.1" M6
N553 MSG("T4.1 SVERLO D=6**NA,L=8+1.WORK_STEP(130)")
N554 G0 G54 B180
N555 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N556 REGIME(16,6,2,0.073)
N557 G0 G54 X-17 Y163 M8 D1 M3    ;X-16
N558 CYCLE82(5,0,5,,8,1)
N559 X-49 Y174
N560 CYCLE83(5,0,5,,50.5,,15,10,0,0,1,1,3,,,,)
N561 SMENA_Z
N562 ;**************************************
N563 ST135: WORK_STEP(135)
N564 T="13.2" M6
N565 MSG("T13.2 SVERLO D=10.8* L=17 D=10.7+0.2.WORK_STEP(135)")
N566 G0 G54 B180
N567 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N568 REGIME(21,10.8,2,0.073)
N569 G0 G54 X-16 Y29 D1 M3
N570 Z8 M8
N571 G1 Z-17 F=R93
N572 G0 Z30 M9
N573 SMENA_Z
N574 ;**************************************
N575 ST140: WORK_STEP(140)
N576 T="1.2" M6
N577 MSG("T1.2 ANAJ KOMBIN. D1=SV=8.5_L=28/D2=CEKOVKA_D=28*WORK_STEP(140)")
N578 G0 G54 B180
N579 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N580 REGIME(130,28,2,0.07) ;*** D2=CEKOVKA_D=28
N581 G0 X-29 Y261 D2 M3 M7
N583 CYCLE82(70,-6.5,13+28,,0.5,1)
N584 REGIME(80,8.5,2,0.11) ;*** D1=SV=8.5_L=28
N585 G0 X-49 Y174 M7 D1 M3 M7
N586 CYCLE82(25,0,12,,16.5,0)
N587 SMENA_Z
N588 ;**************************************
N589 ST145: WORK_STEP(145)
N590 T="5.1" M6
N591 MSG("T=5.1 SVERLO D=8****NA L=26 .WORK_STEP(145)")
N592 G0 G54 B180
N593 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N594 REGIME(18,8,2,0.073)
N595 G0 G54 X-22 Y192 D1 M3 M8
N596 CYCLE82(5,0,5,,26,1)
N597 SMENA_Z
N598 ;**************************************
N599 ST150: WORK_STEP(150)
N600 T="7.1" M6
N601 MSG("T=7.1 FREZA D=8(4_ZUB)L=10.5+/-0.215,WORK_STEP(150)")
N602 R1=8/2  ;RAD.FREZI
N603 G0 G54 B180
N604 TRANS X=X_B180 Z=Z_B180 Y=Y_B180
N605 REGIME(70,8,4,0.05)
N606 X-22 Y192 D1 M3
N607 Z5
N608 G1 Z0 F=FUS
N609 DPR=10.5 KP=3 ZZBEZ=DPR+ZBEZ*2
N610 FR_8:G1Z=IC(-DPR/KP) F=R93*2
N611 X6 F=R93   ;BILO X26
N612 G0 Z=IC(ZZBEZ)
N613 X-22
N614 G1 Z=IC(-ZZBEZ) F=FUS/2
N615 REPEAT FR_8 P=KP-1
N616 G0 Z50 M9
N617 SMENA_Z
N270 ;**************************************
N626 ;******* DETAL_A2 _STORONA B0 *********
N627 ;**************************************
N628 ST155: WORK_STEP(155)
N629 T="7.2" M6
N630 MSG("T=7.2 SVERLO CENTR.  D=16<90,WORK_STEP(155) ")
N631 G0 G54 B180
N632 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N633 REGIME(25,16,2,0.076)
N634 G0 G54 X-13 Y58 D1 M3 M8
N636 MCALL CYCLE82(35,0,ZBEZ,,6.9,1)
N637 X-13 Y58  ;1 D=13+0.035
N638 X87 Y232  ;2 D=13+0.035
N639 MCALL
N640 CYCLE82(70,0,ZBEZ,,3,1)
N641 X61 Y128
N642 SMENA_Z
N598 ;**************************************
N645 ST160: WORK_STEP(160)
N646 T="4.1" M6
N647 MSG("T4.1 SVERLO D=6 WORK_STEP(160)")
N648 G0 G54 B180
N649 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N650 REGIME(16,6,2,0.073)
N651 G0 G54 X61 Y128 M8 D1 M3
N652 CYCLE82(5,0,5,,4,1)
N653 SMENA_Z
N655 ;********* P-P E-E OTV. D=14+0.043 ******
N656 ST165: WORK_STEP(165)
N657 T="3.1" M6
N658 MSG("T3.1 SVERLO D=13****NA L=15*,WORK_STEP(165) ")
N659 G0 G54 B180
N660 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N661 REGIME(21,13,2,0.073)
N662 WAIT_TO_CHECK 
N669 G0 G54 X-13 Y58 D1 M3
N670 MCALL CYCLE83(30,0,ZBEZ,,35,,10,7,,,1,1,3,,,,)
N671 X-13 Y58 M8
N672 X87 Y232
N673 MCALL
N674 SMENA_Z
N699 ;**************************************
N700 ST180: WORK_STEP(180)
N701 T="19.1" M6
N702 MSG("T=19.1 FREZA D=13** L=1+0.1,WORK_STEP(180)")
N703 G0 G54 B180
N704 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N705 REGIME(19,13,2,0.03)
N706 G0 G54 X-13 Y-31 D1 M3
N707 ATRANS X-13 Y-31
N708 X0 Y0
N709 Z=ZBEZ M8
N710 G1 Z-1 F=R93
N711 G1 G42 X6.55 Y0
N712 G2 X6.55 Y0 I=AC(0) J=AC(0) F=R93*4
N713 G1 G40 X0 Y0
N714 SMENA_Z
N715 ;**************************************
N716 ST185: WORK_STEP(185)
N717 T="19.2" M6
N718 MSG("T=19.2 FREZA D=14(2_ZUB),WORK_STEP(185)")
N719 R1=14/2  ;RAD.FREZI
N720 G0 G54 B180
N721 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N722 REGIME(20,14,4,0.05)
N723 ;********** P-P B-B *******************
N724 G0 G54 X-20 Y212 D1 M3
N725 Z10 M8
N726 G1 Z0 F=FUS
N727 DPR=11+0.43/2 KP=2 ZZBEZ=DPR+ZBEZ*2
N728 FR_14:G1Z=IC(-DPR/KP) F=R93*2
N729 G1 X-8.5 Y226 F=R93
N730 Y250
N731 X-35 Y270
N732 G0 Z=IC(ZZBEZ)
N733 X-20 Y212
N734 G1 Z=IC(-ZZBEZ) F=FUS/2
N735 REPEAT FR_14 P=KP-1
N736 G0 Z50 M9
N737 SMENA_Z
N598 ;**************************************
N739 ST190: WORK_STEP(190)
N740 T="11.2" M6
N741 MSG("T=11.2 FREZA D=6(3_ZUB),WORK_STEP(190)")
N742 R1=6/2  ;RAD.FREZI
N743 G0 G54 B180
N744 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N745 REGIME(70,6,3,0.045)
N746 ;*********** P-P C-C VERHNII **********
N747 G0 G54 X63 Y271 D1 M3
N748 Z10 ;M8
N749 G1 Z0 F=FUS
N750 DPR=5 KP=2 ZZBEZ=DPR+ZBEZ*2
N751 FR_6:G1Z=IC(-DPR/KP) F=R93*2
N752 G1 Y287 F=R93
N753 X85
N754 G0 Z=IC(ZZBEZ)
N755 X63 Y271
N756 G1 Z=IC(-ZZBEZ) F=FUS/2
N757 REPEAT FR_6 P=KP-1
N758 ;*********** P-P C-C NIZHNII ***********
N759 G0 Z10
N760 X61 Y128
N761 G1 Z0 F=FUS
N762 DPR=5 KP=2 ZZBEZ=DPR+ZBEZ*2
N763 FFR_6:G1Z=IC(-DPR/KP) F=R93*2
N764 G1 X34.5 Y40 F=R93
N765 X-35
N766 G0 Z=IC(ZZBEZ)
N767 X61 Y128
N768 G1 Z=IC(-ZZBEZ) F=FUS/2
N769 REPEAT FFR_6 P=KP-1
N770 G0 Z50 M9
N771 SMENA_Z
N598 ;**************************************
N773 ST195: WORK_STEP(195)
N774 T="7.1" M6
N775 MSG("T=7.1 FREZA D=8(4_ZUB),WORK_STEP(195)")
N776 R1=8/2  ;RAD.FREZI
N777 G0 G54 B180
N778 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N779 REGIME(70,8,4,0.05)
N780 WAIT_TO_CHECK 
N781 ;********** P-P G-G VERH LEV **********
N782 G0 G54 X-1 Y273 D1 M3
N783 Z10 ;M8
N784 G1 Z0 F=FUS
N785 DPR=12+0.43/2 KP=4 ZZBEZ=DPR+ZBEZ*2
N786 FR_8:G1Z=IC(-DPR/KP) F=R93*2
N787 G1 Y287 F=R93
N788 G0 Z=IC(ZZBEZ)
N789 X-1 Y273
N790 G1 Z=IC(-ZZBEZ) F=FUS/2
N791 REPEAT FR_8 P=KP-1
N792 ;******** P-P M-M **********************
N793 G0 Z=ZBEZ*2
N794 X97 Y197
N795 G1 Z0 F=FUS
N796 DPR=10+0.36/2 KP=4 ZZBEZ=DPR+ZBEZ*2
N797 FFFR_8:G1Z=IC(-DPR/KP) F=R93*2
N798 G1 X49 Y177 F=R93
N799 G0 Z=IC(ZZBEZ)
N800 X97 Y197
N801 G1 Z=IC(-ZZBEZ) F=FUS/2
N802 REPEAT FFFR_8 P=KP-1
N803 ;******** P-P SH-SH* L=3+/-0.3 **********
N804 G0 Z=ZBEZ*2
N805 X6 Y214
N806 G1 Z0 F=FUS
N807 DPR=3 ZZBEZ=DPR+ZBEZ*2
N808 G1 Z=IC(-DPR) F=R93*2
N809 G1 Y199 F=R93
N810 G0 Z=IC(ZZBEZ)
N811 ;******** P-P SH-SH* L=12+0.43 **********
N812 X-37.5 Y208
N813 G1 Z0 F=FUS
N814 DPR=12+0.43/2 KP=4 ZZBEZ=DPR+ZBEZ*2
N815 FFFRR_8:G1Z=IC(-DPR/KP) F=R93*2
N816 G1 Y192 F=R93
N817 X-18
N818 X4 Y199
N819 X27
N820 Y251
N821 X15
N822 G0 Z=IC(ZZBEZ)
N823 X-37.5 Y208
N824 G1 Z=IC(-ZZBEZ) F=FUS/2
N825 REPEAT FFFRR_8 P=KP-1
N826 G0 Z50 M9
N827 SMENA_Z
N598 ;**************************************
N829 ST200: WORK_STEP(200)
N830 T="6.2" M6
N831 MSG("T=6.2 FREZA D=10(4_ZUB),WORK_STEP(200)")
N832 R1=10/2  ;RAD.FREZI
N833 G0 G54 B180
N834 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N835 REGIME(90,10,3,0.06) ;SMOTRI KOL-VO ZYB'EV 
N836 WAIT_TO_CHECK 
N837 ;*** PAZ H=10+0.36, L=12+0.43 *** P-P D-D ***
N838 G0 G54 X79 Y87 D1 M3
N839 Z10 ;M8
N840 G1 Z0 F=FUS
N841 DPR=12+0.43/2 KP=3 ZZBEZ=DPR+ZBEZ*2
N842 FR_10:G1Z=IC(-DPR/KP) F=R93*2
N843 G1 X107 F=R93
N844 Y143
N845 X29
N846 Y149
N847 X21
N848 G0 Z=IC(ZZBEZ)
N849 X79 Y87
N850 G1 Z=IC(-ZZBEZ) F=FUS/2
N851 REPEAT FR_10 P=KP-1
N852 G0 Z=ZBEZ*2
N853 ;*** P-P G-G VERH PRAVO - IZMEN. PO SLUZHEBN. ***
N854 X46.5 Y251
N855 G1 Z0 F=FUS
N856 DPR=12+0.43/2 KP=4 ZZBEZ=DPR+ZBEZ*2
N857 FFR_10:G1Z=IC(-DPR/KP) F=R93*2
N858 G1 X85 F=R93
N859 X107 Y273
N860 G0 Z=IC(ZZBEZ)
N861 X46.5 Y251
N862 G1 Z=IC(-ZZBEZ) F=FUS/2
N863 REPEAT FFR_10 P=KP-1
N864 SMENA_Z
N598 ;**************************************
N866 ST205: WORK_STEP(205)
N867 T="11.1" M6
N868 MSG("T=11.1 FREZA D=20(2_ZUB),WORK_STEP(205)")
N869 R1=20/2  ;RAD.FREZI
N870 G0 G54 B180
N871 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N872 REGIME(20,20,2,0.05)
N873 WAIT_TO_CHECK 
N874 ;*** PAZ H=20+0.52, L=18+1.1 *** P-P D-D ***
N875 G0 G54 X15 Y174 D1 M3
N876 Z10 M8
N877 G1 Z0 F=FUS
N878 DPR=18+1.1/2 KP=3 ZZBEZ=DPR+ZBEZ*2
N879 FR_20:G1Z=IC(-DPR/KP) F=R93*2
N880 G1 Y177 F=R93
N881 X47
N882 G0 Z=IC(ZZBEZ)
N883 X15 Y174
N884 G1 Z=IC(-ZZBEZ) F=FUS/2
N885 REPEAT FR_20 P=KP-1
N886 G0 Z=ZBEZ*2
N887 X15 Y96
N888 G1 Z-25 F=FUS/2
N889 Z-35 F=R93
N890 G0 Z50 M9
N891 SMENA_Z
N598 ;**************************************
N893 ST210: WORK_STEP(210)
N894 T="6.1" M6
N895 MSG("T=6.1 FREZA D=28(2_ZUB),WORK_STEP(210)")
N896 R1=28/2  ;RAD.FREZI
N897 G0 G54 B180
N898 TRANS X=X_BB180 Z=Z_BB180 Y=Y_BB180
N899 REGIME(25,28,6,0.05)
N900 ;*** PAZ H=28+/-0.42, L=35+/-0.5 *** P-P D-D ***
N901 G0 G54 X15 Y96 D1 M3
N902 Z10 M8
N903 G1 Z0 F=FUS
N904 DPR=35 KP=5 ZZBEZ=DPR+ZBEZ*2
N905 FR_28:G1Z=IC(-DPR/KP) F=R93*2
N906 G1 Y123 F=R93
N907 G4 F2
N908 G0 Z=IC(ZZBEZ)
N909 X15 Y96
N910 G1 Z=IC(-ZZBEZ) F=FUS/2
N911 REPEAT FR_28 P=KP-1
N912 G0 Z50 M9
N913 SMENA_Z
N917 MSG("SNIMI, PRODYI, POMERIAJ RAZMERI, ULIBNIS =)")
N918 WORK_DONE
N919 GOTOF _ENDE
N920 ST999:TO_BROKEN
N921 _ENDE:T="27.2" M6
N922 M91
N923 WORK_STEP(0)
N924 M30
N925 ;**************************************
N926 _PROVERKA:
N927 ZBEZ=3
N928 XBEZ=10
N929 YBEZ=7 
N930 ;**************************************
N931 ;*** DETAL_A1 STORONA B0 TRANS NA NIZHNIJ ROMBICH. PALEC T.K. RAZMERI OT NEGO
N932 X_B0=R11+105            ;OS_X TRANS  
N933 Y_B0=R21-290            ;OS_Y TRANS
N934 Z_B0=R31+67.77          ;OS_Z TRANS TOLSHCHINA DETALI
N935 ;**** DETAL_A2 _STORONA BB0__TRANS ****
N936 X_BB0=R12-105           ;OS_X TRANS  
N937 Y_BB0=R22-290           ;OS_Y TRANS
N938 Z_BB0=R32+67.77         ;OS_Z TRANS TOLSHCHINA DETALI
N939 ;**** DETAL_A3 _STORONA B180__TRANS ***
N940 X_B180=R13+105          ;OS_X TRANS  
N941 Y_B180=R23-290          ;OS_Y TRANS
N942 Z_B180=R33+67.77        ;OS_Z TRANS TOLSHCHINA DETALI
N943 ;**** DETAL_A4 _STORONA BB180__TRANS ***
N944 X_BB180=R14-105         ;OS_X TRANS  
N945 Y_BB180=R24-290         ;OS_Y TRANS
N946 Z_BB180=R34+67.77       ;OS_Z TRANS TOLSHCHINA DETALI
N947 STOPRE
N948 ;*********************************************
N949 ;*** PORAYDOK OBRABOTKI *** MAGAZIN/GNEZDO ***
N948 ;*********************************************
N950  IF WORKING_STEP<=1   GOTOB ST1  ;T=27.2(2/30)  FREZA D=20 TC= 1 MIN
N951  M91 ;POKA NE ZAK-CA SMENA PALET 
N952  IF WORKING_STEP==5   GOTOB ST5  ;T7.2(2/7)   	 SVERLO CENTR. 16/90 TC=1.5 MIN
N953  IF WORKING_STEP==10  GOTOB ST10  ;T6.2(2/6)    FREZA D=10 TC=0.5 MIN
N954  IF WORKING_STEP==15  GOTOB ST15  ;T3.1(1/2)    SVERLO D=13+0.27 TC=2.5 MIN
N955  IF WORKING_STEP==20  GOTOB ST20  ;T4.1(1/4)    SVERLO D=6* TC=1 MIN
N956  IF WORKING_STEP==25  GOTOB ST25  ;T13.2(2/13)  SVERLO D=10.8 TC=1 MIN
N957  IF WORKING_STEP==30  GOTOB ST30  ;T1.2(1/2)    SVERLO KOMB ANAJ D=8.3 TC=0.5 MIN
N958  IF WORKING_STEP==35  GOTOB ST35  ;T5.1(1/5)    SVERLO D=8 L=26 TC=0.5 MIN
N959  IF WORKING_STEP==40  GOTOB ST40  ;T7.1(1/7)    FREZA D=8(2_ZUB) TC=0.5 MIN
N960 ;**************************** A2 *************
N965  IF WORKING_STEP==65   GOTOB ST65  ;T19.1(1/19)  FREZA D=13 TC=0.5 MIN
N966  IF WORKING_STEP==70   GOTOB ST70  ;T19.2(2/19)  FREZA D=14 TC=2.5 MIN
N967  IF WORKING_STEP==75   GOTOB ST75  ;T11.2(2/11)  FREZA D=6 TC=1.5 MIN
N968  IF WORKING_STEP==80   GOTOB ST80  ;T7.1(1/7)    FREZA D=8 TC= 3 MIN
N969  IF WORKING_STEP==85   GOTOB ST85  ;T6.2(2/6)    FREZA D=10 TC= 1.5 MIN
N970  IF WORKING_STEP==90   GOTOB ST90  ;T11.1(1/11)  FREZA D=20 TC=4.5 MIN
N971  IF WORKING_STEP==95   GOTOB ST95  ;T6.1(1/6)    FREZA D=28 TC=2.5 MIN
N972 ;**************************** A3/A4 ***********
N973  IF WORKING_STEP<=100   GOTOB ST100   ;T=27.2(2/30) FREZA D=20 TC=1 MIN
N974  IF WORKING_STEP==105   GOTOB ST105  ;T7.2(2/7)     SVERLO CENTR. 16/90 TC=1.5 MIN
N975  IF WORKING_STEP==110   GOTOB ST110  ;T6.2(2/6)     FREZA D=10 TC=0.5 MIN
N976  IF WORKING_STEP==115   GOTOB ST115  ;T3.1(1/3)     SVERLO D=13+0.27 TC=2.5 MIN
N977  IF WORKING_STEP==120   GOTOB ST120  ;T4.1(1/4)     SVERLO D=6* TC=1 MIN
N978  IF WORKING_STEP==125   GOTOB ST125  ;T13.2(2/13)   SVERLO D=10.8 TC=1 MIN
N979  IF WORKING_STEP==130   GOTOB ST130  ;T1.2(1/2)     SVERLO KOMB ANAJ D=8.3 TC=0.5 MIN
N980  IF WORKING_STEP==135   GOTOB ST135  ;T5.1(1/5)     SVERLO D=8 L=26 TC=0.5 MIN
N981  IF WORKING_STEP==140   GOTOB ST140  ;T7.1(1/7)     FREZA D=8(2_ZUB) TC=0.5 MIN
N982 ;********************A4*************************
N983  IF WORKING_STEP==145   GOTOB ST142  ;T7.2(2/7)     SVERLO CENTR. 16/90 TC=1 MIN
N984  IF WORKING_STEP==150   GOTOB ST150  ;T3.1(1/2)     SVERLO D=13+0.43* TC=2 MIN
N985  IF WORKING_STEP==155   GOTOB ST155  ;T18.1(1/18)   SVERLO D=13.8<180 TC=1 MIN
N986  IF WORKING_STEP==160   GOTOB ST160  ;T18.2(2/18)   RAZV-KA D=14+0.045 TC=1 MIN
N987  IF WORKING_STEP==165   GOTOB ST165  ;T19.1(1/19)   FREZA D=13 TC=0.5 MIN
N988  IF WORKING_STEP==170   GOTOB ST170  ;T19.2(2/19)   FREZA D=14 TC=2.5 MIN
N989  IF WORKING_STEP==175   GOTOB ST175  ;T11.2(2/11)   FREZA D=6 TC=1.5 MIN
N990  IF WORKING_STEP==180   GOTOB ST180  ;T7.1(1/7)     FREZA D=8 TC=3 MIN
N991  IF WORKING_STEP==185   GOTOB ST185  ;T6.2(2/6)     FREZA D=10 TC=1.5 MIN
N992  IF WORKING_STEP==190   GOTOB ST190  ;T11.1(1/11)   FREZA D=20 TC=4.5 MIN
N993  IF WORKING_STEP==195   GOTOB ST195  ;T6.1(1/6)     FREZA D=28 TC=2.5 MIN
N994  IF WORKING_STEP==999   GOTOB ST999
N995 ENDIF
N997 AA: MSG("NEVERNIY ETAP OBRABOTKI.TI NE PRAV,POSHEVILI MOZGAMI")
N998 M0
N999 GOTOB AA
N1000 GOTOB START_1