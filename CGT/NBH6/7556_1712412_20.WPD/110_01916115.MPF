N1 ;DETAL 7556-1712412-20 KORPUS YPRAVLENIA
N2 ;TC=100 MIN
N3 ;OPER. 160
N4 ;STANOK NBH6
N5 ;ROTKO A.A.
N6 DEF REAL FUS=3000,ZZBEZ,ZBEZ,DPR,KP,STOP_TIMER
N7 DEFINE SMENA_Z AS G0 G53 Z930 D0 M9 M5
N8 $AC_TIMER[1]=0   ; CICL STARTA TIME/MIN
N9 ;***********************************
N10 $P_UIFR[2]=CTRANS(X,-315+382-0.2+138+18+0.8,Y,454.9-290+116,Z,-315+475+67.77,B,0); B0 2 YSTANOV
N11 $P_UIFR[4]=CTRANS(X,315-248-0.2+138+18,Y,454.95-290+116,Z,315-155+67.77,B,0); B180 2 YSTANOV
N12 ;***************************************
N13 GOTOF _PROVERKA
N14 START_1:
N15 ;**********RABOTA*************
N16 ;***************T59***************
N17 ST2: WORK_STEP(2)
N18 T59 M6
N19 MSG("T59(1/30) FREZA D=10, WORK_STEP(2)")
N20 R1=10/2
N21 G0 G57 B180
N22 REGIME(90,10,4,0.06)
N23 WAIT_TO_CHECK
N24 ;***********B=10+/- 0.29    PAZ 3******
N25 G0 X-92 Y-110 D1 M3
N26 Z10 ;M8
N27 G1 Z0 F=FUS
N28 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N29 PAZ_32: G1 Z=IC(-DPR/KP) F=R93
N30 G1 X-129 F=R93
N31 ;G4 F=STOP_TIMER
N32 G0 Z=IC(ZZBEZ)
N33 X-92 Y-110
N34 G1 Z=IC(-ZZBEZ) F=FUS/3
N35 REPEAT PAZ_32 P=KP-1
N36 G0 Z10
N37 ;***********B=10+/- 0.29   PAZ 4*****
N38 G0 X-144 Y-91
N39 G1 Z0 F=FUS
N40 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N41 PAZ_42: G1 Z=IC(-DPR/KP) F=R93*2
N42 G1 X-120 Y-71 F=R93
N43 ;G4 F=STOP_TIMER
N44 G0 Z=IC(ZZBEZ)
N45 X-144 Y-91
N46 G1 Z=IC(-ZZBEZ) F=FUS/2
N47 REPEAT PAZ_42 P=KP-1
N48 G0 Z10
N49 ;***********B=10+/- 0.29      PAZ 5****
N50 G0 X-124 Y-25
N51 G1 Z0 F=FUS
N52 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N53 PAZ_52: G1 Z=IC(-DPR/KP) F=R93*2
N54 G1 X-100 Y-34 F=R93
N55 ;G4 F=STOP_TIMER
N56 G1 Y-88 F=R93
N57 ;G4 F=STOP_TIMER
N58 G0 Z=IC(ZZBEZ)
N59 X-124 Y-25
N60 G1 Z=IC(-ZZBEZ) F=FUS/2
N61 REPEAT PAZ_52 P=KP-1
N62 G0 Z10
N63 ;*********B=10+/- 0.29   PAZ 6*******
N64 G0 X-144 Y-41
N65 G1 Z0 F=FUS
N66 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N67 PAZ_62: G1 Z=IC(-DPR/KP) F=R93*2
N68 G1 X-120 Y-48 F=R93
N69 ;G4 F=STOP_TIMER
N70 G0 Z=IC(ZZBEZ)
N71 X-144 Y-41
N72 G1 Z=IC(-ZZBEZ) F=FUS/2
N73 REPEAT PAZ_62 P=KP-1
N74 G0 Z10
N75 ;********B=10+/- 0.29     PAZ 7*******
N76 G0 X-106 Y-12
N77 G1 Z0 F=FUS
N78 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N79 PAZ_72: G1 Z=IC(-DPR/KP) F=R93*2
N80 G1 X-124 Y19 F=R93
N81 ;G4 F=STOP_TIMER
N82 G0 Z=IC(ZZBEZ)
N83 X-106 Y-12
N84 G1 Z=IC(-ZZBEZ) F=FUS/2
N85 REPEAT PAZ_72 P=KP-1
N86 G0 Z10
N87 ;*******B=10+/- 0.29    PAZ 8******
N88 G0 X-106 Y37
N89 G1 Z0 F=FUS
N90 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N91 PAZ_82: G1 Z=IC(-DPR/KP) F=R93*2
N92 G1 X-124 Y70 F=R93
N93 ;G4 F=STOP_TIMER
N94 G0 Z=IC(ZZBEZ)
N95 X-106 Y37
N96 G1 Z=IC(-ZZBEZ) F=FUS/2
N97 REPEAT PAZ_82 P=KP-1
N98 G0 Z10
N99 ;*******B=10+/- 0.29   PAZ 9******
N100 G0 X-144 Y37
N101 G1 Z0 F=FUS
N102 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N103 PAZ_92: G1 Z=IC(-DPR/KP) F=R93*2
N104 G1 Y84 F=R93
N105 ;G4 F=STOP_TIMER
N106 G1 X-117 Y89
N107 ;G4 F=STOP_TIMER
N108 G0 Z=IC(ZZBEZ)
N109 X-144 Y37
N110 G1 Z=IC(-ZZBEZ) F=FUS/2
N111 REPEAT PAZ_92 P=KP-1
N112 G0 Z10
N113 ;******B=10+/- 0.29   PAZ 10******
N114 G0 X-144 Y104
N115 G1 Z0 F=FUS
N116 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N117 PAZ_102: G1 Z=IC(-DPR/KP) F=R93*2
N118 G1 X-117 Y121 F=R93
N119 ;G4 F=STOP_TIMER
N120 G0 Z=IC(ZZBEZ)
N121 X-144 Y104
N122 G1 Z=IC(-ZZBEZ) F=FUS/2
N123 REPEAT PAZ_102 P=KP-1
N124 G0 Z10
N125 ;*******B=10+/- 0.29   PAZ 11******
N126 G0 X-78 Y135
N127 G1 Z0 F=FUS
N128 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N129 PAZ_112: G1 Z=IC(-DPR/KP) F=R93*2
N130 G1 X-66 Y115 F=R93
N131 ;G4 F=STOP_TIMER
N132 G0 Z=IC(ZZBEZ)
N133 X-78 Y135
N134 G1 Z=IC(-ZZBEZ) F=FUS/2
N135 REPEAT PAZ_112 P=KP-1
N136 G0 Z10
N137 ;********B=10+/- 0.29   PAZ 12*****
N138 G0 X-136 Y162
N139 G1 Z0 F=FUS
N140 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N141 PAZ_122: G1 Z=IC(-DPR/KP) F=R93*2
N142 G1 Y179 F=R93
N143 ;G4 F=STOP_TIMER
N144 G0 Z=IC(ZZBEZ)
N145 X-136 Y162
N146 G1 Z=IC(-ZZBEZ) F=FUS/2
N147 REPEAT PAZ_122 P=KP-1
N148 G0 Z10
N149 ;*****B=10+/-0.29    PAZ 13******
N150 G0 X-99 Y162
N151 G1 Z0 F=FUS
N152 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N153 PAZ_132: G1 Z=IC(-DPR/KP) F=R93*2
N154 G1 Y183 F=R93
N155 ;G4 F=STOP_TIMER
N156 G1 X-136 Y214 F=R93
N157 ;G4 F=STOP_TIMER
N158 G0 Z=IC(ZZBEZ)
N159 X-99 Y162
N160 G1 Z=IC(-ZZBEZ) F=FUS/2
N161 REPEAT PAZ_132 P=KP-1
N162 G0 Z10
N163 SMENA_Z
N164 ;*********************************************
N165 G0 G55 B0
N166 ;***********B=10+/- 0.29    PAZ 3******
N167 G0 X-92 Y-110 D1 M3
N168 Z10 ;M8
N169 G1 Z0 F=FUS
N170 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N171 PAZ_31: G1 Z=IC(-DPR/KP) F=R93
N172 G1 X-129 F=R93
N173 ;G4 F=STOP_TIMER
N174 G0 Z=IC(ZZBEZ)
N175 X-92 Y-110
N176 G1 Z=IC(-ZZBEZ) F=FUS/3
N177 REPEAT PAZ_31 P=KP-1
N178 G0 Z10
N179 ;***********B=10+/- 0.29   PAZ 4*****
N180 G0 X-144 Y-91
N181 G1 Z0 F=FUS
N182 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N183 PAZ_41: G1 Z=IC(-DPR/KP) F=R93*2
N184 G1 X-120 Y-71 F=R93
N185 ;G4 F=STOP_TIMER
N186 G0 Z=IC(ZZBEZ)
N187 X-144 Y-91
N188 G1 Z=IC(-ZZBEZ) F=FUS/2
N189 REPEAT PAZ_41 P=KP-1
N190 G0 Z10
N191 ;***********B=10+/- 0.29      PAZ 5****
N192 G0 X-124 Y-25
N193 G1 Z0 F=FUS
N194 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N195 PAZ_51: G1 Z=IC(-DPR/KP) F=R93*2
N196 G1 X-100 Y-34 F=R93
N197 ;G4 F=STOP_TIMER
N198 G1 Y-88 F=R93
N199 ;G4 F=STOP_TIMER
N200 G0 Z=IC(ZZBEZ)
N201 X-124 Y-25
N202 G1 Z=IC(-ZZBEZ) F=FUS/2
N203 REPEAT PAZ_51 P=KP-1
N204 G0 Z10
N205 ;*********B=10+/- 0.29   PAZ 6*******
N206 G0 X-144 Y-41
N207 G1 Z0 F=FUS
N208 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N209 PAZ_61: G1 Z=IC(-DPR/KP) F=R93*2
N210 G1 X-120 Y-48 F=R93
N211 ;G4 F=STOP_TIMER
N212 G0 Z=IC(ZZBEZ)
N213 X-144 Y-41
N214 G1 Z=IC(-ZZBEZ) F=FUS/2
N215 REPEAT PAZ_61 P=KP-1
N216 G0 Z10
N217 ;********B=10+/- 0.29     PAZ 7*******
N218 G0 X-106 Y-12
N219 G1 Z0 F=FUS
N220 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N221 PAZ_71: G1 Z=IC(-DPR/KP) F=R93*2
N222 G1 X-124 Y19 F=R93
N223 ;G4 F=STOP_TIMER
N224 G0 Z=IC(ZZBEZ)
N225 X-106 Y-12
N226 G1 Z=IC(-ZZBEZ) F=FUS/2
N227 REPEAT PAZ_71 P=KP-1
N228 G0 Z10
N229 ;*******B=10+/- 0.29    PAZ 8******
N230 G0 X-106 Y37
N231 G1 Z0 F=FUS
N232 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N233 PAZ_81: G1 Z=IC(-DPR/KP) F=R93*2
N234 G1 X-124 Y70 F=R93
N235 ;G4 F=STOP_TIMER
N236 G0 Z=IC(ZZBEZ)
N237 X-106 Y37
N238 G1 Z=IC(-ZZBEZ) F=FUS/2
N239 REPEAT PAZ_81 P=KP-1
N240 G0 Z10
N241 ;*******B=10+/- 0.29   PAZ 9******
N242 G0 X-144 Y37
N243 G1 Z0 F=FUS
N244 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N245 PAZ_91: G1 Z=IC(-DPR/KP) F=R93*2
N246 G1 Y84 F=R93
N247 ;G4 F=STOP_TIMER
N248 G1 X-117 Y89
N249 ;G4 F=STOP_TIMER
N250 G0 Z=IC(ZZBEZ)
N251 X-144 Y37
N252 G1 Z=IC(-ZZBEZ) F=FUS/2
N253 REPEAT PAZ_91 P=KP-1
N254 G0 Z10
N255 ;******B=10+/- 0.29   PAZ 10******
N256 G0 X-144 Y104
N257 G1 Z0 F=FUS
N258 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N259 PAZ_101: G1 Z=IC(-DPR/KP) F=R93*2
N260 G1 X-117 Y121 F=R93
N261 ;G4 F=STOP_TIMER
N262 G0 Z=IC(ZZBEZ)
N263 X-144 Y104
N264 G1 Z=IC(-ZZBEZ) F=FUS/2
N265 REPEAT PAZ_101 P=KP-1
N266 G0 Z10
N267 ;*******B=10+/- 0.29   PAZ 11******
N268 G0 X-78 Y135
N269 G1 Z0 F=FUS
N270 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N271 PAZ_111: G1 Z=IC(-DPR/KP) F=R93*2
N272 G1 X-66 Y115 F=R93
N273 ;G4 F=STOP_TIMER
N274 G0 Z=IC(ZZBEZ)
N275 X-78 Y135
N276 G1 Z=IC(-ZZBEZ) F=FUS/2
N277 REPEAT PAZ_111 P=KP-1
N278 G0 Z10
N279 ;********B=10+/- 0.29   PAZ 12*****
N280 G0 X-136 Y162
N281 G1 Z0 F=FUS
N282 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N283 PAZ_121: G1 Z=IC(-DPR/KP) F=R93*2
N284 G1 Y179 F=R93
N285 ;G4 F=STOP_TIMER
N286 G0 Z=IC(ZZBEZ)
N287 X-136 Y162
N288 G1 Z=IC(-ZZBEZ) F=FUS/2
N289 REPEAT PAZ_121 P=KP-1
N290 G0 Z10
N291 ;*****B=10+/-0.29    PAZ 13******
N292 G0 X-99 Y162
N293 G1 Z0 F=FUS
N294 DPR=12 KP=3 ZZBEZ=DPR+ZBEZ*2
N295 PAZ_131: G1 Z=IC(-DPR/KP) F=R93*2
N296 G1 Y183 F=R93
N297 ;G4 F=STOP_TIMER
N298 G1 X-136 Y214 F=R93
N299 ;G4 F=STOP_TIMER
N300 G0 Z=IC(ZZBEZ)
N301 X-99 Y162
N302 G1 Z=IC(-ZZBEZ) F=FUS/2
N303 REPEAT PAZ_131 P=KP-1
N304 G0 Z10
N305 SMENA_Z
N306 gbTOcheckAtTC=TRUE
N307 gbErrMsgOnToCheck=TRUE
N308 ;******************************
N309 ;*******************  T57   ******
N310 ST3: WORK_STEP(3)
N311 T57 M6
N312 MSG("T57(2/28) FREZA D=6, WORK_STEP(3)")
N313 R1=6/2
N314 G0 G55 B0
N315 REGIME(70,6,3,0.045)
N316 WAIT_TO_CHECK
N317 ;*********B=6+/- 0.24 L=37.5   PAZ 14*****
N318 G0 X-24.5 Y148 D1 M3
N319 Z10 ;M8
N320 G1 Z0 F=FUS
N321 DPR=6 KP=2 ZZBEZ=DPR+ZBEZ*2
N322 PAZ_141: G1 Z=IC(-DPR/KP) F=R93*2
N323 G1 X-62 F=R93
N324 ;G4 F=STOP_TIMER
N325 G0 Z=IC(ZZBEZ)
N326 X-24.5 Y148
N327 G1 Z=IC(-ZZBEZ) F=FUS/2
N328 REPEAT PAZ_141 P=KP-1
N329 G0 Z10
N330 ;********B=6+/- 0.24  L=39.5   5 PAZOV 15*****
N331 G0 X-11.5 Y135
N332 L15
N333 G0 X-11.5 Y82
N334 L15
N335 G0 X-11.5 Y38
N336 L15
N337 G0 X-11.5 Y-34
N338 L15
N339 G0 X-11.5 Y-73
N340 L15
N341 ;********B=6+/- 0.24  L=49.5  4 PAZA 16******
N342 G0 X-24.5 Y98
N343 L16
N344 G0 X-24.5 Y22
N345 L16
N346 G0 X-24.5 Y-18
N347 L16
N348 G0 X-24.5 Y-87
N349 L16
N350 ;*******B=6+/- 0.24     PAZ 17*******
N351 G0 X-37.5 Y-101
N352 G1 Z0 F=FUS
N353 DPR=6 KP=2 ZZBEZ=DPR+ZBEZ*2
N354 PAZ_171: G1 Z=IC(-DPR/KP) F=R93*2
N355 G1 X-74 F=R93
N356 ;G4 F=STOP_TIMER
N357 G1 Y-110 F=R93
N358 ;G4 F=STOP_TIMER
N359 G1 X-92 F=R93
N360 ;G4 F=STOP_TIMER
N361 G0 Z=IC(ZZBEZ)
N362 X-37.5 Y-101
N363 G1 Z=IC(-ZZBEZ) F=FUS/2
N364 REPEAT PAZ_171 P=KP-1
N365 G0 Z10
N366 SMENA_Z
N367 ;****************************************
N368 G0 G57 B180
N369 ;*********B=6+/- 0.24 L=37.5   PAZ 14*****
N370 G0 X-24.5 Y148 D1 M3
N371 Z10 ;M8
N372 G1 Z0 F=FUS
N373 DPR=6 KP=2 ZZBEZ=DPR+ZBEZ*2
N374 PAZ_142: G1 Z=IC(-DPR/KP) F=R93*2
N375 G1 X-62 F=R93
N376 ;G4 F=STOP_TIMER
N377 G0 Z=IC(ZZBEZ)
N378 X-24.5 Y148
N379 G1 Z=IC(-ZZBEZ) F=FUS/2
N380 REPEAT PAZ_142 P=KP-1
N381 G0 Z10
N382 ;********B=6+/- 0.24  L=39.5   5 PAZOV 15*****
N383 G0 X-11.5 Y135
N384 L15
N385 G0 X-11.5 Y82
N386 L15
N387 G0 X-11.5 Y38
N388 L15
N389 G0 X-11.5 Y-34
N390 L15
N391 G0 X-11.5 Y-73
N392 L15
N393 ;********B=6+/- 0.24  L=49.5  4 PAZA 16******
N394 G0 X-24.5 Y98
N395 L16
N396 G0 X-24.5 Y22
N397 L16
N398 G0 X-24.5 Y-18
N399 L16
N400 G0 X-24.5 Y-87
N401 L16
N402 ;*******B=6+/- 0.24     PAZ 17*******
N403 G0 X-37.5 Y-101
N404 G1 Z0 F=FUS
N405 DPR=6 KP=2 ZZBEZ=DPR+ZBEZ*2
N406 PAZ_172: G1 Z=IC(-DPR/KP) F=R93*2
N407 G1 X-74 F=R93
N408 ;G4 F=STOP_TIMER
N409 G1 Y-110 F=R93
N410 ;G4 F=STOP_TIMER
N411 G1 X-92 F=R93
N412 ;G4 F=STOP_TIMER
N413 G0 Z=IC(ZZBEZ)
N414 X-37.5 Y-101
N415 G1 Z=IC(-ZZBEZ) F=FUS/2
N416 REPEAT PAZ_172 P=KP-1
N417 G0 Z10
N418 SMENA_Z
N419 gbTOcheckAtTC=TRUE
N420 gbErrMsgOnToCheck=TRUE
N421 ;*************************************************
N422 MSG("POLYCHI GOTOVYU DETAL")
N423 M0
N424 WORK_DONE
N425 GOTOF _ENDE
N426 
N427 ST99: TO_BROKEN
N428 _ENDE: T0 M6
N429 M91
N430 WORK_STEP(0)
N431 R98=$AC_TIMER[1]
N432 M30
N433 
N434 _PROVERKA:
N435 ZBEZ=3
N436 STOP_TIMER=0.3
N437 STOPRE
N438 IF WORKING_STEP<=2 GOTOB ST2 ;T59(1/30) FREZA D=10
N439 M91
N440 IF WORKING_STEP==3 GOTOB ST3 ;T57(2/28) FREZA D=6
N441 IF WORKING_STEP==99 GOTOB ST99
N442 ENDIF
N443 
N444 AA:   MSG("NEVERNO!!!!!!!!!!!!")
N445 M0
N446 GOTOB AA
N447 GOTOB START_
