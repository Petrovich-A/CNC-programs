N2 ;DETAL 75180-3507204(3-USTANOVA)
N3 ;OPER. 020(SV. D=6 IMPORT)
N4 ;T.C.=_MIN
N5 ;SENKEVICH A.S.
N6 DEFINE SMENA_Z AS G0 G53 Z930 D0 M9 M5
N7 M193
N8 G0 B270
N9 M0; MERIT ZAGOTOVKY ZANESTI NA R0 I R2
N10 ; R0 -SHIRINA ZAGOTOVKI
N11 ; R2 -DLINNA ZAGOTOVKI

     ;VVESTI R70=0  SVERLO CENTR D=13 + SVERLO D=6 BELAZ
     ;VVESTI R70=1  SVERL0 D=6 IMPORT

N12 ;$AC_TIMER[1]=0   ; CICL STARTA TIME/MIN
N13 ;***********************************
N15 $P_UIFR[2]=CTRANS(X,-233.5-(232-R2/2),Y,254.7,Z,194.328,B,0)    ;****G55 NA B270 * I YST
N16 $P_UIFR[3]=CTRANS(X,200.76,Y,289.86,Z,194.7+R0,B,0)             ;****G56 NA B90 * II I III YST

N17 ; ******** 1 USTANOV ********
N18 IF WORKING_STEP<=1 GOTOF ST100 ;PROVERKA INSTRUMENTA
N19 IF WORKING_STEP<=1 GOTOF ST1  ;   T1 - FREZA D=40 T=3 MIN
N20 M91
N21 IF WORKING_STEP==2  GOTOF ST2 ;   T80 - SVERLO INGEKTORNOE D=31 T=2 MIN
N22 IF WORKING_STEP==3  GOTOF ST3 ;   T4 - SVERLO INGEKTORNOE D=24.5 T=2 MIN
N23 IF WORKING_STEP==4  GOTOF ST4 ;   T2 - SVERLO D=30<90 T=1.5 MIN
N24 IF WORKING_STEP==5  GOTOF ST5 ;   T5 - ZENKER D=25 T=1.5 MIN
N25 IF WORKING_STEP==6  GOTOF ST6 ;   T31 - ZENKER D=28 T=1 MIN
N26 IF WORKING_STEP==7  GOTOF ST7 ;   T6 - SVERLO INGEKTORNOE D=36 T=1 MIN
N27 IF WORKING_STEP==8  GOTOF ST8 ;   T7 - REZEC D=39.5 T=1 MIN
N28 IF WORKING_STEP==9  GOTOF ST9 ;   T8 - MIKR. D=40.1 T=1 MIN
N29 IF WORKING_STEP==10  GOTOF ST10 ; T13 - FREZA D=32<45 T=1.5 MIN
N30 IF WORKING_STEP==11  GOTOF ST11 ; T33 - FREZA D=20<45
N31 IF WORKING_STEP==12  GOTOF ST12 ; T14 - METCHIK M27*2 T=1.5 MIN
N32 IF WORKING_STEP==13  GOTOF ST13 ; T30 - METCHIK M30*2 T=1.5 MIN
N33 IF WORKING_STEP==14  GOTOF ST14 ; T72 - METCHIK M42*2 T=1.5 MIN

N34 ; *******  2 I 3 -USTANOV  *********
N39 IF WORKING_STEP==15  GOTOF ST15 ; T13 - FREZA D=32<45 T=1.5 MIN
N40 IF WORKING_STEP==16  GOTOF ST16 ; T="75.1" - SVERLO D=6 IMPORT
N39 IF WORKING_STEP==17  GOTOF ST17 ; T28 - SVERLO D=13<90
N40 IF WORKING_STEP==18  GOTOF ST18 ; T75 - SVERLO D=6 BELAZ
N42 IF WORKING_STEP==999  GOTOF ST999
N43 ENDIF
N44 ST100: WORK_STEP(100)
N45 T30 M6
N46 G0 G54 X-350 T1
N47 M0
N49 
N50 ;*************RABOTA*************
N51 
N52 SMENA_Z
N53 ST1: WORK_STEP(1)
N54 T1 M6
N55 MSG("T1 FREZA D=40,WORK_STEP(1)")
N56 G0 G55 G17 G40 G90 G94  D1
N57 G0 B270 T80
N58 X232 Y245
N59 Z100
N60 S1200 M3
N61 G1 Z29.84 F3000 M8
N62 G42 X254.65 Y247 F800
N63 G1 Y=157-20 F350
N64 G2 X209.35 I=AC(232) J=AC(137) F1500
N65 G1 Y250 F450
N66 G0 G40 X232
N67 Z135
N68 X23 Y160
N69 Z29.84
N70 G1 G42 Y73.75 F350
N71 X-5
N72 G0 Z32
N73 G0 G40 Y180
N74 X45 Y180
N75 Z29.84
N76 G1 G42 X68 F350
N77 G1 Y96.4
N78 G2 X45.35 Y73.75 I=AC(45.35) J=AC(96.4) F1500
N79 G1 X-15 F350
N80 G0 Z35
N81 G0 G40 X-25 Y150
N82 Z135
N83 X441 Y160
N84 Z29.84
N85 G1 G41 Y73.75 F350
N86 X475
N87 G0 Z32
N88 G0 G40 Y180
N89 X418 Y180 
N90 Z29.84
N91 G1 G41 X396 F350
N92 Y96.4
N93 G3 X418.65 Y73.75 I=AC(418.65) J=AC(96.4) F1500
N94 G1 X480 F350
N95 G0 G40 X495 Y150
N96 G0 Z135
N97 SMENA_Z

N98 ;********************

N99 ST2: WORK_STEP(2)
N100 T80 M6
N101 MSG("T80 SV. INGEK. D=31, WORK_STEP(2)")
N102 G0 G55 B270 T4
N103 REGIME(120,31,1,0.09)
N104 D1 M3 M27
N105 MCALL CYCLE81(150,R0,7,,R0+3)
N106 X107 Y146.43
N107 X189 Y164.62
N108 X275 Y164.62 T4
N109 X357 Y146.43
N110 MCALL
N111 SMENA_Z

N112 ;*********************

N113 ST3: WORK_STEP(3)
N114 T4 M6
N115 MSG("T4 SV. INGEK. D=24.5,WORK_STEP(3)")
N116 G0 G55 B270 T2
N118 S1400 M3 F220 M27 D1 
N121 X38 Y103.75
N120 MCALL CYCLE83(150,R0,5,,36,,3,1.5,,,1,0)
N121 X38 Y103.75
N122 X157 Y72
N123 X232 Y157 
N124 X307 Y72
N125 X426 Y103.75
N126 MCALL
N127 SMENA_Z

N128 ;**********************

N129 ST4: WORK_STEP(4)
N130 T2 M6
N131 MSG("T2 SVERLO D=30<90,WORK_STEP(4)")
N132 G0 G55 B270 T5
N133 S230 F40 M3 M8 D1 
N135 X38 Y103.75
N134 MCALL CYCLE82(150,20,2,,5,0.3)
N135 X38 Y103.75
N136 X232 Y157
N137 X426 Y103.75
N141 MCALL
N142 SMENA_Z

N143 ;**********************

N144 ST5: WORK_STEP(5)
N145 T5 M6
N146 MSG("T5 ZENKER D=25,WORK_STEP(5)")
N147 G0 G55 B270 T31
N148 S280 M3 M8 D1 
N150 X38 Y103.75
N149 MCALL CYCLE85(150,29.84,5,,35,,180,350)
N150 X38 Y103.75
N151 X232 Y157
N152 X426 Y103.75
N153 MCALL
N154 SMENA_Z

N155 ;***********************

N156 ST6: WORK_STEP(6)
N157 T31 M6
N158 MSG("T31(1/17) ZENKER D=28,WORK_STEP(6)")
N159 G0 G55 B270 T6
N160 S220 F100 M3 M8 D1
N164 X157 Y72
N161 MCALL CYCLE85(150,R0,10,,R0+3,,150,350)
N164 X157 Y72
N165 X307 Y72
N166 MCALL
N167 SMENA_Z

N168 ;***********************

N169 ST7: WORK_STEP(7)
N170 T6 M6
N171 MSG("T6 SV. INGEK. D=37.5,WORK_STEP(7)")
N172 G0 G55 B270 T7
N173 S900 F100 M3 M27 D1
N175 X32 Y32
N174 MCALL CYCLE81(150,R0,4,,R0+3)
N175 X32 Y32 
N176 X432 Y32
N177 MCALL
N178 SMENA_Z

N179 ;***********************

N180 ST8: WORK_STEP(8)
N181 T7 M6
N182 MSG("T7  REZEC D=39.5,WORK_STEP(8)")
N183 G0 G55 B270 T8
N184 S1210 F360 M3 M8 D1 
N186 X32 Y32
N185 MCALL CYCLE81(150,R0,4,,R0+3)
N186 X32 Y32
N187 X432 Y32
N188 MCALL
N189 SMENA_Z

N190 ;**************************

N191 ST9: WORK_STEP(9)
N192 T8 M6
N193 MSG("T8 MIKROBOR D=40.1,WORK_STEP(9)")
N194 G0 G55 B270 T13
N195 S1430 F143 M3 D1
N196 X32 Y32 M8
N197 CYCLE86(137,33,4,,7,,3,0.5,,,0)
N198 G0 Y200
N199 Z400 M5 M9
N200 M0 ; ***MERIT RAZMER D=40.1+0.1*****
N202 X32 Y32
N201 MCALL CYCLE86(137,33,4,,37,,3,0.5,,,0)
N202 X32 Y32 M8  
N203 X432 Y32
N204 MCALL
N205 SMENA_Z

N206 ;***********************

N207 ST10:WORK_STEP(10)
N208 T13 M6
N209 MSG("T13 FREZA D=32<45, WORK_STEP(10)")
N210 G0 G55 B270 T33
N211 S200 F80 M3 M8 D1
N213 X157 Y72
N212 MCALL CYCLE82(150,R0,3.5,,0.5,0.1)
N213 X157 Y72
N214 X307 Y72
N215 MCALL
N216 G0 X32 Y32 
N217 D1 S1200
N218 POCKET2(50,R0,3,,1,22,32,32,800,300,2,2,0,2)
N219 Z45 D2
N220 POCKET2(150,R0,11,0,,22,32,32,1000,300,2,2,0,2)
N221 G0 X432 Y32 D1
N222 POCKET2(50,R0,3,,1,22,432,32,800,300,2,2,0,2)
N223 Z45 D2
N224 POCKET2(150,R0,11,0,,22,432,32,1000,300,2,2,0,2)
N225 SMENA_Z

N226 ;***********************

N227 ST11:WORK_STEP(11)
N228 T33 M6
N229 MSG("T33(1/7) FREZA D=20<45, WORK_STEP(11)")
N230 G0 G55 B270 T14
N231 S1600 F100 M3 M8 D1
N232 POCKET2(150,R0,12,0,,14.5,38,103.75,900,80,2,2,0,2)
N233 POCKET2(150,R0,12,0,,14.5,232,157,900,80,2,2,0,2)
N234 POCKET2(150,R0,12,0,,14.5,426,103.75,900,80,2,2,0,2)
N235 ; 2-OTV. POD M30*2
N236 POCKET2(150,R0,12,0,,16,157,72,900,80,2,2,0,2)
N237 POCKET2(150,R0,12,0,,16,307,72,900,80,2,2,0,2)
N238 SMENA_Z

N239 ;***********************

N240 ST12:WORK_STEP(12)
N241 T14 M6
N242 MSG("T14 METCHIK M27*2, WORK_STEP(12)")
N243 G0 G55 B270 T30
N244 S100 F=100*2 M3 M8 D1
N246 X38 Y103.75
N245 MCALL CYCLE840(150,30,7,,37,,4,3,1)
N246 X38 Y103.75 
N247 X232 Y157
N248 X426 Y103.75
N249 MCALL
N250 SMENA_Z

N251 ;***********************

N252 ST13:WORK_STEP(13)
N253 T30 M6
N254 MSG("T30 METCHIK M30*2, WORK_STEP(13)")
N255 G0 G55 B270 T72
N256 S160 F320 M3 M8 D1 
N258 X157 Y72 
N257 MCALL CYCLE840(150,R0,7,,R0+8,,4,3,1)
N258 X157 Y72 
N259 X307 Y72
N260 MCALL
N261 SMENA_Z

N262 ;***********************

N263 ST14:WORK_STEP(14)
N264 T72 M6
N265 MSG("T72  METCHIK M42*2, WORK_STEP(14)")
N266 G0 G55 B270
N267 D1 S80 F=80*2 M3 M8
N269 X32 Y32
N268 MCALL CYCLE840(140,R0,7,,R0+8,,4,3,1)
N269 X32 Y32 T13
N270 X432 Y32
N271 MCALL
N272 SMENA_Z

N274 M0 ; ===================================
N284 ;********   II I III USTANOV  **********

N286 ST15: WORK_STEP(15)
N287 T13 M6
N288 MSG("T13  FREZA D=32<45, WORK_STEP(15)")
N289 G0 G56 B90
N290 S300 M3 F70 D1
N292 X=-107+32.15 Y=146.43-32.3
N291 MCALL CYCLE82(130,0,6,,0.5,0.3)
N292 X=-107+32.15 Y=146.43-32.3 M8
N293 X=-189+32.15 Y=164.62-32.3
N294 X=-275+32.15 Y=164.62-32.3
N295 X=-357+32.15 Y=146.43-32.3
N296 MCALL
N297 SMENA_Z

; ******************************************
N403 ;VVESTI R70=0  SVERLO CENTR D=13 + SVERLO D=6 BELAZ
N404 ;VVESTI R70=1  SVERL0 D=6 IMPORT
N405 STOPRE
N406 IF R70>0 GOTOF ETAP_SV6.1
N407 IF R70=0 GOTOF ETAP_SV6.2
N408 STOPRE
N409 ;***************************************

N406  ETAP_SV6.1:

N542 ST18: WORK_STEP(18)
N543 T="75.1" M6
N544 MSG("T="75.1"  SVERLO D=6 IMPORT , WORK_STEP(18)")
N545 G0 G56 B90 D1
N455 ; ****** D1 MIN 232MM ******
N546 M42
N547 S4000 F425 M3 M8
N591 X-50 Y-25 M8
N593 MCALL CYCLE82(117,0,5,,7,0.1)
N594 X-50 Y-25
N595 X-350
N596 MCALL
N597 SMENA_Z

N598 G0 G55 G17 B270 D1
N602 S4000 F425 M3 M8 
N601 X82.5 Y410.7 
N603 MCALL CYCLE83(-100,-147.9,3,,7,,3,2,,,1,0)
N604 X82.5 Y410.7 
N605 X382.5
N607 MCALL
N564 SMENA_Z
N429 GOTOF END_SV6

N410 ETAP_SV6.2:

N299 ST16: WORK_STEP(16)
N300 T28 M6
N301 MSG("T28  SVERLO CENTR. D=13<90, WORK_STEP(16)")
N302 G0 G56 B90  D1
N303 G0 S500 F85 M3
N568 X-50 Y-25 M8
N570 MCALL CYCLE82(3,0,3,,3.5,1)
N571 X-50 Y-25
N572 X-350
N573 MCALL
N677 SMENA_Z
N575 G0 G55 G17 B270
N576 S500 F85 M3 M8 D1 ; *** D1 MIN 220MM !!!
N577 X82.5 Y410.7 
N578 MCALL CYCLE82(-100,-147.9,3,,3.3,1)
N579 X82.5 Y410.7
N580 X382.5 T76
N582 MCALL
N574 SMENA_Z

N311 ;*******************

N375 ST17: WORK_STEP(17)
N376 G0 G56 G17 G40 G94
N377 T75 M6
N379 MSG("T75 SVERLO D=6 BELAZ , WORK_STEP(17)")
N588 G0 G56 B90 D1
N589 M42
N590 S500 F50 M3
N591 X-50 Y-25 M8
N593 MCALL CYCLE82(117,0,5,,7,0.1)
N594 X-50 Y-25
N595 X-350
N596 MCALL
N597 SMENA_Z
N598 G0 G55 G17 B270
N601 X82.5 Y410.7 
N602 S500 F50 M3 M8 D1
N603 MCALL CYCLE83(-100,-147.9,3,,7,,3,2,,,1,0)
N604 X82.5 Y410.7 
N605 X382.5
N607 MCALL
N608 SMENA_Z
N403 TRANS
N404 GOTOF END_SV6

N558 END_SV6:
N432 ;==================================
N433 MSG("POLUCHI GOTOVYU GODNYU DETAL")
N434 ;==================================
N435 WORK_DONE
N436 GOTOF _ENDE
N437 ST999: TO_BROKEN
N438 _ENDE: T0 M6
N439 T1
N440 M91
N441 WORK_STEP(0)
N442 MSG("KONEC PROGRAMMI*****BCE")
N443 M192
N444 M30