
N1 ;DETAL 75132-3507205(2-USTANOVA)
N2 ;OPER. 020(SV.D=5,METCHIK M=6,SV. D=12.5/20,SV. D=6**ANAJ)
N3 ;STANOK NBH6 
N4 ;ZHUK M.N.
N4 ;T.C.= 35.5_MIN
N5 DEF REAL RO,DPR,KP
N6 DEFINE SMENA_Z AS G0 G53 Z930 D0 M9 M5
N7 G4 F0.1
N8 G0 B270
N9 M0;  MERIT ZAGOTOVKY ZANESTI NA R0 I R2
M193
N10 ;R0-SHIRINA_R2-DLINNA
N11 ;***********************************
N12 $P_UIFR[2]=CTRANS(X,-232-2+(-232+R2/2),Y,255.3,Z,195.1,B,0);**G55 NA B270
N13 $P_UIFR[3]=CTRANS(X,200.5,Y,290.3,Z,195+R0,B,0);** G56 NA B90
N14 
N15 ;******PORAYDOK OBRABOTKI******
N16 IF WORKING_STEP<=1 GOTOF ST1 ; T1(1/1) - FREZA D=40 T=3 MIN
N17 M91
N18 IF WORKING_STEP==2  GOTOF ST2;  T21(21/1) - REZEC D=80/85 T=1.5 MIN
N19 IF WORKING_STEP==3  GOTOF ST3 ; T22(22/1) - REZEC D=89/93.5 T=1.5 MIN
N20 IF WORKING_STEP==4  GOTOF ST4 ; T32(1/2) - FREZA D=63 T=2 MIN
N21 IF WORKING_STEP==5 GOTOF ST5 ;  T2(2/1)- SVERLO D=30<90 T=3 MIN
N22 IF WORKING_STEP==6  GOTOF ST6 ; T26(26/1) - SVERLO D=28 T=1.5 MIN
N23 IF WORKING_STEP==7  GOTOF ST7 ; T6(6/1) - SVERLO ING.  D=37.5 T=1 MIN
N24 IF WORKING_STEP==8  GOTOF ST8 ; T7(7/1) - REZEC D=39.5 T=1 MIN
N25 IF WORKING_STEP==40  GOTOF ST40 ; T8(8/1) - MIKR. D=40.1 T=1 MIN
N26 IF WORKING_STEP==9  GOTOF ST9 ; T80(26/2) - INGEKTOR D=31-0.5 T=6 MIN
N27 IF WORKING_STEP==10  GOTOF ST10;  T78(27/1)  FREZA D=16
N28 IF WORKING_STEP==11  GOTOF ST11;  T79(29/1) - SVERLO D=13 
N29 IF WORKING_STEP==12  GOTOF ST12 ; T23(23/1) - FREZA D=80*2.3 T=4 MIN
N30 IF WORKING_STEP==13  GOTOF ST13 ; T13(13/1) - FREZA D=32<45 T=2 MIN
N31 IF WORKING_STEP==14  GOTOF ST14 ; T33(29/2) -FREZA D=20<45 
N32 IF WORKING_STEP==15 GOTOF ST15;   T72(30/1) - METCHIK M=42*2
;************  II-YSTANOV  ******************
N33 IF WORKING_STEP==16  GOTOF ST16 ; T36(18/2) - SVERLO D=5
N34 IF WORKING_STEP==17  GOTOF ST17 ; T37(19/2) - METCHIK M=6*1
N35 IF WORKING_STEP==18  GOTOF ST18 ; T2- SVERLO D=30<90 T=3 MIN
N36 IF WORKING_STEP==19  GOTOF ST19; T38(20/2) - SVERLO D=12.5/20 T=2 MIN
N37 IF WORKING_STEP==22  GOTOF ST22 ;T54(21/2) - SVERLO D=20
N38 IF WORKING_STEP==24  GOTOF ST24 ;T11(11/1) - SVERLO D=12.5
N39 IF WORKING_STEP==26  GOTOF ST26; T75(23/2) - SVERLO D=6
N40 
N41 IF WORKING_STEP==999  GOTOF ST999
N42 ENDIF
N43 
N44 AA: MSG("GALIMYJ ETAP OBRABOTKI")
N45 
N46 ;*************RABOTA*************
N47 SMENA_Z
N48 ST1: WORK_STEP(1)
N49 T1 M6
N50 MSG("T1  FREZA D=40,WORK_STEP(1)")
N51 G0 G55 G17 G40 G90 G94  D1
N52 G0 B270
N53 X232 Y245
N54 Z100
N55 S1200 M3
N56 G1 Z29.84 F3000 M8
N57 G42 X254.65 Y247 F800
N58 G1 Y=157-20 F350
N59 G2 X209.35 I=AC(232) J=AC(137) F1500
N60 G1 Y250 F450
N61 G0 G40 X232
N62 Z135
N63 X23 Y160
N64 Z29.84
N65 G1 G42 Y73.75 F350
N66 X-5
N67 G0 Z32
N68 G0 G40 Y180
N69 X45 Y180
N70 Z29.84
N71 G1 G42 X68 F350
N72 G1 Y96.4
N73 G2 X45.35 Y73.75 I=AC(45.35) J=AC(96.4) F1500
N74 G1 X-15 F350
N75 G0 Z35
N76 G0 G40 X-25 Y150
N77 Z135
N78 X441 Y160
N79 Z29.84
N80 G1 G41 Y73.75 F350
N81 X475
N82 G0 Z32
N83 G0 G40 Y180
N84 X418 Y180
N85 Z29.84
N86 G1 G41 X396 F350
N87 Y96.4
N88 G3 X418.65 Y73.75 I=AC(418.65) J=AC(96.4) F1500
N89 G1 X480 F350
N90 G0 G40 X495 Y150
N91 G0 Z135
N92 SMENA_Z
N93 ;**************************
N94 ST2: WORK_STEP(2)
N95 T21 M6
N96 MSG("T21   REZEC D=80/85,WORK_STEP(2)")
N97 G0 G55 B270
N98 REGIME(130,85,1,0.3)
N99 D1 M3 M8
N100 MCALL CYCLE81(140,R0,5,,37)
N101 X157 Y72
N102 X307 Y72
N103 MCALL
N104 SMENA_Z
N105 ;**************************
N106 ST3: WORK_STEP(3)
N107 T22 M6
N108 MSG("T22  REZEC D=89/93.5,WORK_STEP(3)")
M0
N109 G0 G55 B270
N110 REGIME(135,93.5,1,0.2)
N111 D1 M3 M8
N112 MCALL CYCLE81(140,R0,5,,38)
N113 X157 Y72
N114 X307 Y72
N115 MCALL
N116 SMENA_Z
N117 ;**************************
N118 ST5: WORK_STEP(5)
N119 T2 M6
N120 MSG("T2  SVERLO D=30<90,WORK_STEP(5)")
N121 G0 G55 B270
N122 D1 S230 F50 M3 M8
N123 MCALL CYCLE82(140,R0,3,,6.6,1)
N124 X52 Y67
N125 X412
;N126 MCALL CYCLE82(140,30,3,,7,0.5)
;N127 X38 Y103.75
;N128 X232 Y157
;N129 X426 Y103.75
N130 MCALL
N131 SMENA_Z
N132 ;***********************
N133 ST6: WORK_STEP(6)
N134 T26 M6;*****  T50 **BELAZ.
N135 MSG("T26  SVERLO D=28,WORK_STEP(6)")
N136 G0 G55 B270
N137 REGIME(110,28,1,0.11) ;DLA INGEKT.
N138 ;REGIME(20,28,1,0.3);  BISTROREZ
N139 D1 M3 M27;M8
N140 MCALL CYCLE82(140,29.84,3,,33,0.3);DLA INGEKT.
N141 ;MCALL CYCLE83(140,29.84,6,,33,,3,2,,,1,1); BISTROREZ
N142 X38 Y103.75
N143 X232 Y157
N144 X426 Y103.75
N145 MCALL
N146 SMENA_Z
N147 ;************************
N148 ST7: WORK_STEP(7)
N149 T6 M6
N150 MSG("T6  SVERLO INGEK.  D=36-37.5,WORK_STEP(7)")
N151 G0 G55 B270
N152 D1 S900 F100 M3 M27
N153 MCALL CYCLE81(140,33,4,,37)
N154 X32 Y32
N155 X432 Y32
N156 MCALL
N157 SMENA_Z
N158 ;**************************
N159 ST8: WORK_STEP(8)
N160 T7 M6
N161 MSG("T7  REZEC D=39.5,WORK_STEP(8)")
N162 G0 G55 B270
N163 D1 S1210 F240 M3 M8
N164 MCALL CYCLE81(140,R0,4,,37)
N165 X32 Y32
N166 X432 Y32
N167 MCALL
N168 SMENA_Z
N169 ;**************************
N170 ST40: WORK_STEP(40)
N171 T8 M6
N172 MSG("T8   MIKROBOR D=40.1,WORK_STEP(40)")
N173 G0 G55 B270
N174 D1 S1430 F143 M3
N175 X32 Y32 M8
/N176 CYCLE86(137,33,4,,7,,3,0.5,,,0)
/N177 G0 Y200
/N178 Z400 M5 M9
/N179 ;M0;***MERIT RAZMER D=40.1+0.1*****
N180 MCALL CYCLE86(137,33,4,,37,,3,0.5,,,0)
N181 X32 Y32   M8  T80
N182 X432 Y32
N183 MCALL
N184 SMENA_Z
N185 ;**************************
N186 ST9: WORK_STEP(9)
N187 T80 M6
N188 MSG("T80 SV. INGEK.  D=31,WORK_STEP(9)")
N189 G0 G55 B270
N190 REGIME(120,31,1,0.095)
N191 D1 M3 M7
N192 MCALL CYCLE82(135,21.5,17,,0.1,0.5)
N193 HOLES2(157,72,60,60,90,4)
N194 HOLES2(307,72,60,30,90,4)
N195 MCALL
N196 SMENA_Z
N197 ;M0 ; UBRAT STRUZHKU 
N198 ;*****************************
N199 ST4:WORK_STEP(4)
N200 T32 M6
N201 MSG("T32 FREZA D=63, WORK_STEP(4)")
N202 G0 G55 B270 M42
N203 D1 S860 M3 M8
N204 POCKET2(40,R0,4,,4,62.75,157,72,400,640,5,3,0,2)
N205 POCKET2(40,R0,4,,4,62.75,307,72,400,640,8,3,0,2)
N206 SMENA_Z
N207 ;******************************
N208 ST10:WORK_STEP(10)
N209 T78 M6
N210 MSG("T78  FREZA D=16, WORK_STEP(10)")
M0; STOIT V 12504 FREZA NOMER 13.2
N211 G0 G55 B270
N212 D1 S1500 M3 M8
;M0 ;SNEMI STRUZKU
N213 TRANS X=157+51.962 Y=72-30
N214 L3
N215 TRANS X=157+30 Y=72+51.962
N216 L3
N217 TRANS X=157-51.962 Y=72+30
N218 L3
N219 TRANS X=157-30 Y=72-51.962
N220 L3
N221 TRANS X=307+30 Y=72-51.962
N222 L3
N223 TRANS X=307+51.962 Y=72+30
N224 L3
N225 TRANS X=307-30 Y=72+51.962
N226 L3
N227 TRANS X=307-51.962 Y=72-30
N228 L3
N229 TRANS
N230 SMENA_Z
N231 ;***************************
N232 ST11: WORK_STEP(11)
N233 T79 M6
N234 MSG("T79 SVERLO D=13,WORK_STEP(11)")
N235 G0 G55 B270
N236 ;D1 S460 F90 M3 M8;  DLA BELAZ
N237 ;MCALL CYCLE83(70,R0-10,7,,27,,4,2,,,1,0);  DLA BELAZ
N238 D1 S2000 F400 M3 M7
N239 MCALL CYCLE82(70,R0-10,7,,27,0.05)
N240 HOLES2(157,72,60,60,90,4)
N241 HOLES2(307,72,60,30,90,4)
N242 MCALL
N243 SMENA_Z
N244 ;*********************
N245 ST12:WORK_STEP(12)
N246 T23 M6
N247 MSG("T23  FREZA D=80*2.3, WORK_STEP(12)")
N248 G0 G55 B270
N249 D1 S100 M3 M8
N250 POCKET2(140,R0,4,,6,49.22,157,72,800,60,3,2,0,2)
N251 POCKET2(140,R0,4,,6,49.22,307,72,800,60,3,2,0,2) 
N252 SMENA_Z
N253 ;*******************************
N254 ST13: WORK_STEP(13)
N255 T13 M6
N256 MSG("T13  FREZA D=32<45, WORK_STEP(13)")
N257 G0 G55 B270
N258 G0 D1 S220 F80 M3 M8
N259 MCALL CYCLE82(150,31.84,3,,0.7,0.5)
N260 X38 Y103.75
N261 X232 Y157
N262 X426 Y103.75
N263 MCALL
N264 X157 Y72
N265 D1 S1300 M3 M8
N266 POCKET2(40,R0,10,,4,47.2,157,72,2000,700,2,2,0,2)
N267 POCKET2(40,R0+3,10,,0.5,66.2,157,72,2000,850,2,2,0,2)
N268 D2
N269 POCKET2(140,R0,10,0,,47.4,157,72,2000,700,2,2,0,2)
N270 D1
N271 POCKET2(40,R0,10,,4,47.2,307,72,2000,700,2,2,0,2)
N272 POCKET2(40,R0+3,10,,0.5,66.2,307,72,2000,850,2,2,0,2)
N273 D2
N274 POCKET2(140,R0,10,0,,47.4,307,72,2000,700,2,2,0,2)
N275 D1
N276 POCKET2(40,R0,10,,0.05,22,32,32,2000,160,2,2,0,2)
N277 D2
N278 POCKET2(140,R0,10,0,,22,32,32,2000,160,2,2,0,2)
N279 D1
N280 POCKET2(40,R0,10,,0.05,22,432,32,2000,160,2,2,0,2)
N281 D2
N282 POCKET2(140,R0,10,0,,22,432,32,2000,160,2,2,0,2)
N283 SMENA_Z
N284 ;************************
N285 ST14:WORK_STEP(14)
N286 T33 M6
N287 MSG("T33 FREZA D=20<45, WORK_STEP(14)")
N288 G0 G55 B270
N289 D1 S1400 M3 M8
N290 POCKET2(150,R0,10,0,,14.5,38,103.75,800,200,2,2,0,2)
N291 POCKET2(150,R0,10,0,,14.5,232,157,800,200,2,2,0,2)
N292 POCKET2(150,R0,10,0,,14.5,426,103.75,800,200,2,2,0,2)
N293 SMENA_Z
N294 ;***********************
N295 ST15:WORK_STEP(15)
N296 T72 M6
N297 MSG("T72  METCHIK M42*2, WORK_STEP(15)")
N298 G0 G55 B270
N299 D1 S80 F=80*2 M3 M8
N300 MCALL CYCLE840(140,R0,7,,R0+8,,4,3,1)
N302 X32 Y32
N303 X432 Y32
N304 MCALL
N305 SMENA_Z
N306 ; ****  II-USTANOV  *********
N307 ST16: WORK_STEP(16)
N308 T36 M6
N309 MSG("T36  SVERLO  D=5, WORK_STEP(16)")
M0
N310 G0 G56 B90
N311 M42
N312 X-200 Y160
N313 D1 S5600 F600 M3 M27
N314 G4 F3 M7
N315 CYCLE82(150,0,37,,1,0.2)
N316 SMENA_Z
N317 ;*********************
N318 ST17: WORK_STEP(17)
N319 T37 M6
N320 MSG("T37 METCHIK  M=6, WORK_STEP(17)")
N321 G0 G56 B90
N322 M41
N323 X-200 Y160
N324 D1 S100 F=100*1 M3 M8
N325 CYCLE840(150,0,7,,20,,4,3,1)
N326 SMENA_Z
N327 ;************************
N328 M01; VVESTI R80=2 ESLI SVERLA BELAZ
N329    ;VVESTI R80=0 ESLI SVERL0 IMPORTNOE
N330 STOPRE
N331 
N332 IF R80<1 GOTOF ETAP_1
N333 IF R80>1 GOTOF ETAP_2
N334 STOPRE
N335 ;******************
N336 ETAP_1:
N337 ST18: WORK_STEP(18)
N338 T2 M6
N339 MSG("T2- SVERLO D=30<90 ,WORK_STEP(18)")
N340 G0 G56 B90
N341 D1 S450 F100 M3 M8
N342 MCALL CYCLE82(50,0,2,,6.6,0.5)
N343 HOLES2(-125,40,60,30,90,4)
N344 HOLES2(-275,40,60,60,90,4)
N345 MCALL
N346 SMENA_Z
N347 ;*************************
N349 ST19: WORK_STEP(19)
N350 T38 M6
N351 MSG("T38  SVERLO KOMB. D=12.5/20, WORK_STEP(19)")
N352 G0 G56 B90
;REZIM DLJ ANAJ
;N348 G0 D1 S2800 F670 M3 M7
;N349 MCALL CYCLE82(117,0,20,,25,0.1)
;N350 X-380 Y35
;N351 X-20 Y35
;N352 MCALL
;N353 SMENA_Z
;REZIM DLJ GUERING
N359 G0 D1 S1050 F530 M3 M27
N360 X-380 Y35
N361 M0
N362 AA:
N363 G0 Z30
N364 G1 Z-9
N365 G4 F0.3
N366 G1 Z-11
N367 G4 F0.3
N368 G1 Z-13
N369 G4 F0.3
N370 G1 Z-15
N371 G4 F0.3
N372 G1 Z-17
N373 G4 F0.3
N374 G1 Z-19
N375 G4 F0.3
N376 G1 Z-21
N377 G4 F0.3
N378 G1 Z-23
N379 G4 F0.3
N380 G1 Z-25
N381 G4 F0.3
N382 G0 Z150
N383 AA1:
N384 X-20 Y35
N385 REPEAT AA AA1 P1
N386 SMENA_Z
N354 ;***************************
N355 ST26: WORK_STEP(26)
N356 T75 M6
N357 MSG("T75  SVERLO D=6, WORK_STEP(26)")
N358 G0 G56 B90 D1
N359 M42
N360 S4700 F400 M3 M8
N361 MCALL CYCLE82(117,0,5,,11,0.1)
N362 X=-424 Y39 
N363 X=24 Y39
N364 MCALL
N365 G0 G53 Z900 D0
N366 G0 G56 G40 G17 B180 M3 D1
N367 L2
N368 X0 Y39 M8
N369 F200
N370 CYCLE82(100,0,12,,1.5,0.1)
N371 G0 G53 Z900 D0
N372 G0 G56 G40 G17 B0 M3 D1
N373 L1
N374 X0 Y39 M8
N375 F200
N376 CYCLE82(100,0,12,,1.5,0.1)
N377 SMENA_Z
N378 TRANS
N379 
N380 M0
N381 ;==================================
N382 MSG("POLUCHI GOTOVYU GODNYU DETAL")
N383 ;==================================
N384 WORK_DONE
N385 GOTOF _ENDE
N386 ST999: TO_BROKEN
N387 _ENDE: T0 M6
N388 
N389 M91
N390 WORK_STEP(0)
N391 M30
N392 ;*************************
N393 ETAP_2:
N394 ST18: WORK_STEP(18)
N395 T2 M6
N396 MSG("T2  SVERLO CENTR. D=30<90, WORK_STEP(18)")
N397 G0 G56 B90
N398 G0 D1 S300 F60 M3
N399 X-380 Y35
N400 Z120
N401 MCALL CYCLE82(120,0,3,,9.6,0.5)
N402 X-380 Y35 M8
N403 X-20 Y35
N404 MCALL CYCLE82(50,0,2,,7.6,0.5)
N405 HOLES2(-125,40,60,30,90,4)
N406 HOLES2(-275,40,60,60,90,4)
N407 MCALL
N408 SMENA_Z
N409 ;*******************
N410 ST22: WORK_STEP(22)
N411 T54 M6
N412 MSG("T54  SVERLO D=20, WORK_STEP(22)")
M0
N413 G0 G56 B90
N414 G0 D1 S320 F65 M3
N415 X-380 Y35
N416 Z120
N417 MCALL CYCLE83(120,0,5,,25,,3,2,,,1,0)
N418 X-380 Y35 M8
N419 X-20 Y35
N420 MCALL
N421 SMENA_Z
N422 ;*******************
N423 ST24: WORK_STEP(24)
N424 T11 M6
N425 MSG("T11  SVERLO  D=12.5, WORK_STEP(24)")
N426 G0 G56 B90
N427 G0 D1 S500 F90 M3
N428 X-380 Y35
N429 Z120
N430 MCALL CYCLE82(120,-25,4,,12,0.2)
N431 X-380 Y35 M8
N432 X-20 Y35
N433 MCALL
N434 SMENA_Z
N435 ;***********************
N436 ST26: WORK_STEP(26)
N437 T75 M6
N438 MSG("T75  SVERLO D=6, WORK_STEP(26)")
N439 G0 G56 B90 D1
N440 M42
N441 S4700 F565 M3 M8
N442 MCALL CYCLE82(117,0,5,,11,0.1)
N443 X=-423 Y39 
N444 X=24 Y39
N445 MCALL
N446 G0 G53 Z900 D0
N447 G0 G56 G40 G17 B180 M3 D1
N448 L2
N449 X0 Y39 M8
N450 F200
N451 CYCLE82(100,0,12,,1.5,0.1)
N452 G0 G53 Z900 D0
N453 G0 G56 G40 G17 B0 M3 D1
N454 L1
N455 X0 Y39 M8
N456 F200
N457 CYCLE82(100,0,12,,1.5,0.1)
N458 SMENA_Z
N459 
N460 M0
N461 ;==================================
N462 MSG("POLUCHI GOTOVYU GODNYU DETAL")
N463 ;==================================
N464 WORK_DONE
M192
N465 GOTOF _ENDE
N466 ST999: TO_BROKEN
N467 _ENDE: T0 M6
N468 
N469 M91
N470 WORK_STEP(0)
N471 MSG("KONEC PROGRAMMI*****BCE")
N472 M30
