%_N_100_27001068_MPF
;$PATH=/_N_WKS_DIR/_N_100_27001068_WPD
;DET.75450-3507126-20
;PRISPOSOBLENIE UGOLNIK USP
;MIHEDENKO M.N.
;MCFH 63
;KRONSHTEIN
;14.11.2018
;T=49 MIN
;********************************************
;INSTRUMENT:
;*********************************************
;T1 FREZA D=80 APKX
;T2 FREZA D=25 APKX
;T3 MICROBOR D=210
;*********************************************
N1 $P_UIFR[1]=CTRANS(X,500,Z,-200+173.6+25,Y,-80+90+150+40/2+230/2) 
N2 M62
;******************************
N3 T2
N4 M6
N5 G0 B180
N6 G0 G17 G40 G54 G90 G94 D1  S1800 F1800 
N7 MSG("T2 FREZA D=25 APKX")
N8 R1=0        ;os_X
N9 R2=0        ;os_Y
N10 R3=25      ;os_Z  start z=0             primer esli z=25
N11 R4=8       ;OS_Z2 GLUBINA KONUSA   primer glubina z8_mm
N12 R5=222     ;DIaMETR NACHALN TOCKI KONUSA
N13 R6=2       ;P- SHAG MEGDU VITKAMI
N14 R7=1       ;0-HET 1-DA PODCHISCH HA DNE KONUSA nadosyfvit r7=1
N15 R8=45      ;UGOL KONUSA alfa
N16 R9=0.8     ;RADIUS NA FREZE 
N17 R10=100    ;Z_BEZOP
N18 G0 X0 Y0 M8 M3
N19 Z25
N20 KONUS
N21 OFFN=0
N21 Z400
;******************************
N22 T2
N23 M6
N24 G0 B180
N25 G0 G17 G40 G54 G90 G94 D1  S2000 F1800 
N26 MSG("T2 FREZA D=25 APKX")
N27 G0 X0 Y0 M8 M3
N28 Z=25-8
N29 G1 G42 X=(209+0.2/2)/2 F2000
N30 G2 X=(209+0.2/2)/2 Y0  I=AC(0) J=AC(0) F2000
N31 G1 X0 Y0 G40 F3000
N32 G0 Z400 M15
;******************************
N33 T2
N34 M6
N35 G0 B180
N36 G0 G17 G40 G54 G90 G94 D1  S2000 F1800 M40
N37 MSG("T2 FREZA D=25 APKX")
N38 G0 X0 Y0 M8 M3
N39 Z=(25-8)
N40 G1 G42 X=80 F2000
N41 G1 X103 F450
N42 G2 X103 Y0 Z-1 I=AC(0) J=AC(0) TURN=12 F1800
N43 G2 X103 Y0 Z-1 I=AC(0) J=AC(0)  F3000
N44 G1 G40 X0 Y0 
N45 G0 Z400 M15
;******************************
N46 T3
N47 M6
N48 G0 B180
N49 M41
N50 G0 G17 G40 G54 G90 G94  D1 S160 M3
N51 MSG("T3 MICROBOR D=210")
N52 G0 X0 Y0
N53 Z35 M8
N54 G1 Z20 F150
N55 G1 Z=(25-8) F10
N56 SPOS=90
N57 G0 Y=-1
N58 G0 Z300 M9
;******************************
N59 T2
N60 M6
N61 M42
N62 G0 B180
N63 G0 G17 G40 G54 G90 G94  D1 S1800 F1500
N64 G0 X=(103/2-25/2) Y=230/2+25/2+5 M8 M3
N65 Z25
N66 PAZ:G1 Z=IC(-1)
N67 G1 Y=(230/2)
N68 X=0-(103/2-25/2)
N69 Y=230/2-20
N70 X=(103/2-25/2)
N71 Y=230/2+25/2+5
N72 REPEAT PAZ P=27-1
N73 G0 Z30
N74 G0 X=(103/2-25/2) Y=0-(230/2+25/2+5) M8 M3
N75 Z25
N76 PAZ2:G1 Z=IC(-1)
N77 G1 Y=0-(230/2)
N78 X=0-(103/2-25/2)
N79 Y=0-(230/2-20)
N80 X=(103/2-25/2)
N81 Y=0-(230/2+25/2+5)
N82 REPEAT PAZ2 P=27-1
N83 G0 Z30
N84 G0 Z400 M15
;******************************
N85 T2
N86 M6
N87 ROT
N88 G0 B180
N89 G0 G17 G40 G54 G90 G94 D1  S=1800 F1500 
N90 MSG("T2 FREZA D=25 APKX")
N91 R11=25/2;RADIUS FREZI
N92 R12=(103/2-(R11*2))/2
N93 R13=206/2
N94 R14=SQRT((POT(R13))-(POT(R12)))
N95 G0 X0 Y=0 M3
N96 Z30 M9
N97 G1 Z25 M8
N98 ROT RPL=60
N99 UGOL_120
N100 G0 X0 Y0 Z25
N101 ROT
N102 ROT RPL=240
N103 UGOL_120
N104 G0 X0 Y0 Z25
N105 ROT
N106 ROT RPL=120
N107 UGOL_120_2
N108 G0 X0 Y0 Z25
N109 ROT 
N110 ROT  RPL=300
N111 UGOL_120_2
N112 G0 X0 Y0 Z25
N113 ROT
N114 M9
N115 G0 Z200 M5
N116 M63
N117 M2
N118 M30
%_N_KONUS_SPF
;$PATH=/_N_WKS_DIR/_N_100_27001068_WPD
N1 def real x_1,y_1,x_2,Y_2,z_start,offn1
N2 def int n_vit
N3 stopre
N4 g64
N5 z_start=0   ;$aa_iw[z1]   ;???? 
N6 x_1=r1+r5/2+r9-r9/tan((90+r8)/2)
N7 y_1=r2
N8 offn=0
N9 offn1=(R4)*tan(r8) 
N10 n_vit=trunc((r3-r4-0.00001)/r6)
N11 x_2=r1+(r5/2+r9-r9/tan((90+r8)/2))*cos((R4)/r6*360)
N12 y_2=r2+(r5/2+r9-r9/tan((90+r8)/2))*sin((R4)/r6*360)
N13 g0 x=r1 y=r2        ;x1= y1=
N14  if z_start>(r3+5)
N15 g0 z=r3+5           ;z1
N16 endif
N17  g1 z=r3             ;z1 F=R93
N18 g1 g42 x=x_1 y=y_1  ;x1 y1 F650
N19 g2 x=x_2 y=y_2 i=ac(r1) j=ac(r2) z=(R3-R4) turn=n_vit offn=offn1 F3000
N20 if abs(r7-1)<0.00001
N21  g2 x=x_2 y=y_2 i=ac(r1) j=ac(r2) F3000           
N22  g1 g40 x=r1 y=r2                           
N23 g0 z=r3+R10                                  
N24 OFFN=0
N24 RET
%_N_UGOL_120_SPF
;$PATH=/_N_WKS_DIR/_N_100_27001068_WPD
N2 G0 X=R13-R11-5 Y=25/2
N3 UGOL: G1 Z=IC(-2.5)
N4 X=115/SIN(60)+R11+5
N5 Z=IC(1)
N6 G0 X=R13-R11-5
N7 G1 Z=IC(-1)
N8 REPEAT UGOL P=11-1
N9 RET
%_N_UGOL_120_2_SPF
;$PATH=/_N_WKS_DIR/_N_100_27001068_WPD
N2 G0 X=R13-R11-5 Y=-25/2
N3 UGOL: G1 Z=IC(-2.5)
N4 X=115/SIN(60)+R11+5
N5 Z=IC(1)
N6 G0 X=R13-R11-5
N7 G1 Z=IC(-1)
N8 REPEAT UGOL P=11-1
N9 RET
