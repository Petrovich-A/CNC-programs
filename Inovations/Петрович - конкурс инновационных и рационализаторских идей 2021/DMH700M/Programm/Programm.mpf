%MPF1
MSG(" Siemens 828D (SM700) ")
G54
ATRANS X=R24 Z=R11
ASN:
R10=$P_ACTFRAME[Z,TR]
IF R10<R11+R12+8.20 GOTOF ASO
 
N10 MSG(" FACING ")
N20 M01
N30 TOOL_LD(7,"D8")
N40 T7 D1
N50 G95 F0.16 S764 M4 
N60 M08
N70  G0  X131.000 
N80  G41 Z5.000 
N90  G1  Z0.000 
N100  X97.000 
N110  G0  G40 Z40.000 
N120 MSG(" INSIDE ROUGH-CUT ")
N130 M01
N140 TOOL_LD(1,"D2")
N150 T1 D1
N160 G95 F0.20 S764 M4 
N170 M08
N180  G0  X103.895 
N190  Z1.000 
N200  G1  Z-9.200 
N210  G0  X103.395 
N220  Z5.000 
N230  X107.790 
N240  Z1.000 
N250  G1  Z-9.200 
N260  G0  X107.290 
N270  Z5.000 
N280  Z40.000 
N290 MSG(" INSIDE TURNING ")
N300 M01
N310 TOOL_LD(1,"D2")
N320 T1 D1
N330 G95 F0.15 S764 M4 
N340 M08
N350  G0  G41 X109.790 
N360  Z1.000 
N370  G1  Z0.100 
N380  X110.910 Z-5.300 F0.13 
N390  X112.110 Z-5.900 
N400  Z-6.500 
N410  G0  X107.790 
N420  G40 Z40.000 
N430 MSG(" OUTSIDE ROUGH-CUT ")
N440 M01
N450 TOOL_LD(1,"D1")
N460 T1 D1
N470 G95 F0.20 S764 M4 
N480 M08
N490  G0  X119.790 
N500  Z1.000 
N510  G1  Z-9.700 
N520  G0  X120.790 
N530  Z5.000 
N540  Z40.000 
N550 MSG(" OUTSIDE ROUGH-CUT ")
N560 M01
N570 TOOL_LD(1,"D1")
N580 T1 D1
N590 G95 F0.20 S764 M4 
N600 M08
N610  G0  X117.790 
N620  Z1.000 
N630  G1  Z-4.050 
N640  G0  X118.790 
N650  Z5.000 
N660  Z40.000 
N670 MSG(" OUTSIDE TURNING ")
N680 M01
N690 TOOL_LD(1,"D1")
N700 T1 D1
N710 G95 F0.15 S764 M4 
N720 M08
N730  G0  G42 X109.790 
N740  Z1.000 
N750  G1  Z0.100 F0.12 
N760  X113.030 Z-0.265 
N770  G3  X113.526 Z-0.677 CR=0.300 
N780  G2  X117.790 Z-4.150 CR=2.500 
N790  G1  Z-5.500 
N800  X116.790 Z-6.000 
N810  Z-8.200 
N820  G0  X119.790 
N830  G40 Z40.000 
N840 MSG(" PART OFF ")
N850 M01
N860 TOOL_LD(2,"D33")
N870 T2 D1
N880 G95 F0.15 S343 M4 
N890 M08
N900 ATRANS X=R23
N910  G0  X119.790 
N920  Z-5.800 
N930  G1  X107.790 
N940  G0  X119.790 
N950  Z74.000 
N960 M09
ATRANS X=R25 Z-8.70
/ M05
/ R13=$P_ACTFRAME[X, TR]
/ R14=$P_ACTFRAME[Z, TR]
/ ATRANS X=-R13 Z=-R14
/ D0 G00 X=R15 Z=R16
/ ATRANS X=R13 Z=R14
/ M00
GOTOB ASN
ASO:
R13=$P_ACTFRAME[X, TR]
R14=$P_ACTFRAME[Z, TR]
ATRANS X=-R13 Z=-R14
D0 G00 X=R15 Z=R16
M01
T4
M30
