MSG(" Siemens 828D (SM700) ")
G54
ATRANS X=R25 Z=R11
ASN:
R10=$P_ACTFRAME[Z,TR]
IF R10<R11+R12+22.20 GOTOF ASO
 
N10 MSG(" ÏÎÏÅÐÅ×ÍÀß ÎÁÒÎ×ÊÀ ")
N20 M01
N30 TOOL_LD(7,"D8")
N40 T7 D1
N50 G95 F0.16 S261 M4 
N60 M08
N70 M150 
N80  G0  X371.00 
N90  G41 Z5.00 
N100  G1  Z0.00 
N110  X287.00 
N120  G0  G40 Z40.00 
N130 MSG(" ×ÅÐÍÎÂÀß ÎÁÒÎ×ÊÀ ÂÍÓÒÐÈ ")
N140 M01
N150 TOOL_LD(1,"D2")
N160 T1 D1
N170 G95 F0.20 S261 M4 
N180 M08
N190 M150 
N200  G0  X294.97 
N210  Z1.00 
N220  G1  Z-23.20 
N230  G0  X294.47 
N240  Z5.00 
N250  X299.94 
N260  Z1.00 
N270  G1  Z-23.20 
N280  G0  X299.44 
N290  Z5.00 
N300  X304.91 
N310  Z1.00 
N320  G1  Z-23.20 
N330  G0  X304.41 
N340  Z5.00 
N350  X309.88 
N360  Z1.00 
N370  G1  Z-23.20 
N380  G0  X309.38 
N390  Z5.00 
N400  X314.85 
N410  Z1.00 
N420  G1  Z-23.20 
N430  G0  X314.35 
N440  Z5.00 
N450  X319.82 
N460  Z1.00 
N470  G1  Z-23.20 
N480  G0  X319.32 
N490  Z5.00 
N500  X324.79 
N510  Z1.00 
N520  G1  Z-23.20 
N530  G0  X324.29 
N540  Z5.00 
N550  X329.76 
N560  Z1.00 
N570  G1  Z-23.20 
N580  G0  X329.26 
N590  Z5.00 
N600  X334.73 
N610  Z1.00 
N620  G1  Z-23.20 
N630  G0  X334.23 
N640  Z5.00 
N650  X339.70 
N660  Z1.00 
N670  G1  Z-23.20 
N680  G0  X339.20 
N690  Z5.00 
N700  Z40.00 
N710 MSG(" ×ÅÐÍÎÂÀß ÎÁÒÎ×ÊÀ ÂÍÓÒÐÈ ")
N720 M01
N730 TOOL_LD(1,"D1")
N740 T1 D1
N750 G95 F0.20 S261 M4 
N760 M08
N770 M150 
N780  G0  X361.75 
N790  Z1.00 
N800  G1  Z-23.20 
N810  G0  X362.75 
N820  Z5.00 
N830  X358.50 
N840  Z1.00 
N850  G1  Z-23.20 
N860  G0  X359.50 
N870  Z5.00 
N880  X355.25 
N890  Z1.00 
N900  G1  Z-23.20 
N910  G0  X356.25 
N920  Z5.00 
N930  X352.00 
N940  Z1.00 
N950  G1  Z-23.20 
N960  G0  X353.00 
N970  Z5.00 
N980  X348.75 
N990  Z1.00 
N1000  G1  Z-23.20 
N1010  G0  X349.75 
N1020  Z5.00 
N1030  X345.50 
N1040  Z1.00 
N1050  G1  Z-23.20 
N1060  G0  X346.50 
N1070  Z5.00 
N1080  Z40.00 
N1090 MSG(" ×ÈÑÒÎÂÀß ÎÁÒÎ×ÊÀ ÂÍÓÒÐÈ ")
N1100 M01
N1110 TOOL_LD(1,"D2")
N1120 T1 D1
N1130 G95 F0.15 S261 M4 
N1140 M08
N1150 M150 
N1160  G0  G41 X343.00 
N1170  Z1.00 
N1180  G1  X340.00 Z-0.50 F0.13 
N1190  Z-19.30 
N1200  X341.20 Z-19.90 
N1210  Z-22.20 
N1220  G0  X338.00 
N1230  G40 Z40.00 
N1240 MSG(" ×ÈÑÒÎÂÀß ÎÁÒÎ×ÊÀ ÑÍÀÐÓÆÈ ")
N1250 M01
N1260 TOOL_LD(1,"D1")
N1270 T1 D1
N1280 G95 F0.15 S261 M4 
N1290 M08
N1300 M150 
N1310  G0  G42 X342.00 
N1320  Z1.00 
N1330  G1  X345.00 Z-0.50 F0.12 
N1340  Z-19.30 
N1350  X343.60 Z-20.00 
N1360  Z-22.20 
N1370  G0  X347.00 
N1380  G40 Z40.00 
N1390 MSG(" ÎÒÐÅÇÊÀ ")
N1400 M01
N1410 TOOL_LD(3,"D31")
N1420 T3 D1
N1430 ;( [Pos a] )
N1440 G95 F0.13 S148 M4 
N1450 M08
N1460 M160 
N1470  G0  X338.00 
N1480  Z-19.80 
N1490  G1  X347.00 
N1500  G0  X338.00 
N1510  Z40.00 
N1520 M09
ATRANS X0 Z-22.70
/ M05
/ R13=$P_ACTFRAME[X, TR]
/ R14=$P_ACTFRAME[Z, TR]
/ ATRANS X=-R13 Z=-R14
/ D0 G00 X=R15 Z=R16
/ ATRANS X=R13 Z=R14
/ M00
GOTOB ASN
ASO:
R13=$P_ACTFRAME[X, TR]
R14=$P_ACTFRAME[Z, TR]
ATRANS X=-R13 Z=-R14
D0 G00 X=R15 Z=R16
M01
T4
M30
